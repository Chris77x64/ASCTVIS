"use strict";var B4e=Object.defineProperty,j4e=Object.defineProperties,U4e=Object.getOwnPropertyDescriptors,MZ=Object.getOwnPropertySymbols,$4e=Object.prototype.hasOwnProperty,q4e=Object.prototype.propertyIsEnumerable,wZ=(zi,_n,je)=>_n in zi?B4e(zi,_n,{enumerable:!0,configurable:!0,writable:!0,value:je}):zi[_n]=je,Ct=(zi,_n)=>{for(var je in _n||(_n={}))$4e.call(_n,je)&&wZ(zi,je,_n[je]);if(MZ)for(var je of MZ(_n))q4e.call(_n,je)&&wZ(zi,je,_n[je]);return zi},ef=(zi,_n)=>j4e(zi,U4e(_n));(self.webpackChunkasct=self.webpackChunkasct||[]).push([[179],{732:(zi,_n,je)=>{function Be(H,Z,ee){return H.fields=Z||[],H.fname=ee,H}function $o(H){return null==H?null:H.fname}function Ni(H){return null==H?null:H.fields}function vi(H){return 1===H.length?Nt(H[0]):Yr(H)}je.d(_n,{jj:()=>J1,ZE:()=>Be,Oj:()=>Ni,el:()=>$o,IX:()=>M1,j2:()=>i6,l$:()=>a7,qu:()=>lf,a9:()=>Wo,Ds:()=>uf,vU:()=>Ar,l7:()=>ff,We:()=>df,dI:()=>l7,k:()=>tf,Xr:()=>mf,EP:()=>Yn,yl:()=>K_,nr:()=>eo,id:()=>Sr,yR:()=>tr,XW:()=>J2,u5:()=>Ul,kJ:()=>Bn,jn:()=>Ln,J_:()=>Kr,mf:()=>Ns,TW:()=>nr,hj:()=>w1,Kn:()=>zs,Kj:()=>Go,HD:()=>ec,Jy:()=>r6,t7:()=>$l,kg:()=>Hl,$m:()=>Xo,TS:()=>Q_,fE:()=>J4,kX:()=>E,vk:()=>Ls,Dw:()=>jl,mJ:()=>nn,QA:()=>Gt,Zw:()=>an,fj:()=>Ia,mS:()=>X_,yP:()=>tc,_k:()=>Zr,m8:()=>pf,sw:()=>u7,ZU:()=>f7,He:()=>Lt,Rg:()=>d7,BB:()=>Fs,$G:()=>ql,yb:()=>_i,N3:()=>n6,FP:()=>xk,bM:()=>x1,ay:()=>Fa,dH:()=>sf,mK:()=>Q2,bV:()=>cf});const Nt=H=>function(Z){return Z[H]},Yr=H=>{const Z=H.length;return function(ee){for(let ne=0;ne<Z;++ne)ee=ee[H[ne]];return ee}};function Ar(H){throw Error(H)}function Zr(H){const Z=[],ee=H.length;let pe,ve,Qe,ne=null,oe=0,ae="";function Xt(){Z.push(ae+H.substring(pe,ve)),ae="",pe=ve+1}for(H+="",pe=ve=0;ve<ee;++ve)if(Qe=H[ve],"\\"===Qe)ae+=H.substring(pe,ve),ae+=H.substring(++ve,++ve),pe=ve;else if(Qe===ne)Xt(),ne=null,oe=-1;else{if(ne)continue;pe===oe&&'"'===Qe||pe===oe&&"'"===Qe?(pe=ve+1,ne=Qe):"."!==Qe||oe?"["===Qe?(ve>pe&&Xt(),oe=pe=ve+1):"]"===Qe&&(oe||Ar("Access path missing open bracket: "+H),oe>0&&Xt(),oe=0,pe=ve+1):ve>pe?Xt():pe=ve+1}return oe&&Ar("Access path missing closing bracket: "+H),ne&&Ar("Access path missing closing quote: "+H),ve>pe&&(ve++,Xt()),Z}function Yn(H,Z,ee){const ne=Zr(H);return H=1===ne.length?ne[0]:H,Be((ee&&ee.get||vi)(ne),[H],Z||H)}const Sr=Yn("id"),tr=Be(H=>H,[],"identity"),x1=Be(()=>0,[],"zero"),E=Be(()=>1,[],"one"),_i=Be(()=>!0,[],"true"),tf=Be(()=>!1,[],"false");function Z2(H,Z,ee){const ne=[Z].concat([].slice.call(ee));console[H].apply(console,ne)}const J1=1;function Hl(H,Z,ee=Z2){let ne=H||0;return{level(oe){return arguments.length?(ne=+oe,this):ne},error(){return ne>=J1&&ee(Z||"error","ERROR",arguments),this},warn(){return ne>=2&&ee(Z||"warn","WARN",arguments),this},info(){return ne>=3&&ee(Z||"log","INFO",arguments),this},debug(){return ne>=4&&ee(Z||"log","DEBUG",arguments),this}}}var Bn=Array.isArray;function zs(H){return H===Object(H)}const nf=H=>"__proto__"!==H;function J4(...H){return H.reduce((Z,ee)=>{for(const ne in ee)"signals"===ne?Z.signals=e6(Z.signals,ee.signals):qo(Z,ne,ee[ne],"legend"===ne?{layout:1}:"style"===ne||null);return Z},{})}function qo(H,Z,ee,ne){if(!nf(Z))return;let oe,ae;if(zs(ee)&&!Bn(ee))for(oe in ae=zs(H[Z])?H[Z]:H[Z]={},ee)ne&&(!0===ne||ne[oe])?qo(ae,oe,ee[oe]):nf(oe)&&(ae[oe]=ee[oe]);else H[Z]=ee}function e6(H,Z){if(null==H)return Z;const ee={},ne=[];function oe(ae){ee[ae.name]||(ee[ae.name]=1,ne.push(ae))}return Z.forEach(oe),H.forEach(oe),ne}function Ia(H){return H[H.length-1]}function Lt(H){return null==H||""===H?null:+H}const Bl=H=>Z=>H*Math.exp(Z),t6=H=>Z=>Math.log(H*Z),rf=H=>Z=>Math.sign(Z)*Math.log1p(Math.abs(Z/H)),af=H=>Z=>Math.sign(Z)*Math.expm1(Math.abs(Z))*H,st=H=>Z=>Z<0?-Math.pow(-Z,H):Math.pow(Z,H);function K2(H,Z,ee,ne){const oe=ee(H[0]),ae=ee(Ia(H)),pe=(ae-oe)*Z;return[ne(oe-pe),ne(ae-pe)]}function jl(H,Z){return K2(H,Z,Lt,tr)}function nn(H,Z){var ee=Math.sign(H[0]);return K2(H,Z,t6(ee),Bl(ee))}function Gt(H,Z,ee){return K2(H,Z,st(ee),st(1/ee))}function an(H,Z,ee){return K2(H,Z,rf(ee),af(ee))}function La(H,Z,ee,ne,oe){const ae=ne(H[0]),pe=ne(Ia(H)),ve=null!=Z?ne(Z):(ae+pe)/2;return[oe(ve+(ae-ve)*ee),oe(ve+(pe-ve)*ee)]}function Fa(H,Z,ee){return La(H,Z,ee,Lt,tr)}function sf(H,Z,ee){const ne=Math.sign(H[0]);return La(H,Z,ee,t6(ne),Bl(ne))}function Q2(H,Z,ee,ne){return La(H,Z,ee,st(ne),st(1/ne))}function cf(H,Z,ee,ne){return La(H,Z,ee,rf(ne),af(ne))}function X_(H){return 1+~~(new Date(H).getMonth()/3)}function n6(H){return 1+~~(new Date(H).getUTCMonth()/3)}function M1(H){return null!=H?Bn(H)?H:[H]:[]}function a7(H,Z,ee){let ae,ne=H[0],oe=H[1];return oe<ne&&(ae=oe,oe=ne,ne=ae),ae=oe-ne,ae>=ee-Z?[Z,ee]:[ne=Math.min(Math.max(ne,Z),ee-ae),ne+ae]}function Ns(H){return"function"==typeof H}function lf(H,Z,ee){ee=ee||{},Z=M1(Z)||[];const ne=[],oe=[],ae={},pe=ee.comparator||Y_;return M1(H).forEach((ve,Qe)=>{null!=ve&&(ne.push("descending"===Z[Qe]?-1:1),oe.push(ve=Ns(ve)?ve:Yn(ve,null,ee)),(Ni(ve)||[]).forEach(Xt=>ae[Xt]=1))}),0===oe.length?null:Be(pe(oe,ne),Object.keys(ae))}const i6=(H,Z)=>(H<Z||null==H)&&null!=Z?-1:(H>Z||null==Z)&&null!=H?1:(Z=Z instanceof Date?+Z:Z,(H=H instanceof Date?+H:H)!==H&&Z==Z?-1:Z!=Z&&H==H?1:0),Y_=(H,Z)=>1===H.length?c7(H[0],Z[0]):Z_(H,Z,H.length),c7=(H,Z)=>function(ee,ne){return i6(H(ee),H(ne))*Z},Z_=(H,Z,ee)=>(Z.push(0),function(ne,oe){let ae,pe=0,ve=-1;for(;0===pe&&++ve<ee;)ae=H[ve],pe=i6(ae(ne),ae(oe));return pe*Z[ve]});function Wo(H){return Ns(H)?H:()=>H}function uf(H,Z){let ee;return ne=>{ee&&clearTimeout(ee),ee=setTimeout(()=>(Z(ne),ee=null),H)}}function ff(H){for(let Z,ee,ne=1,oe=arguments.length;ne<oe;++ne)for(ee in Z=arguments[ne],Z)H[ee]=Z[ee];return H}function df(H,Z){let ne,oe,ae,pe,ee=0;if(H&&(ne=H.length))if(null==Z){for(oe=H[ee];ee<ne&&(null==oe||oe!=oe);oe=H[++ee]);for(ae=pe=oe;ee<ne;++ee)oe=H[ee],null!=oe&&(oe<ae&&(ae=oe),oe>pe&&(pe=oe))}else{for(oe=Z(H[ee]);ee<ne&&(null==oe||oe!=oe);oe=Z(H[++ee]));for(ae=pe=oe;ee<ne;++ee)oe=Z(H[ee]),null!=oe&&(oe<ae&&(ae=oe),oe>pe&&(pe=oe))}return[ae,pe]}function l7(H,Z){const ee=H.length;let oe,ae,pe,ve,Qe,ne=-1;if(null==Z){for(;++ne<ee;)if(ae=H[ne],null!=ae&&ae>=ae){oe=pe=ae;break}if(ne===ee)return[-1,-1];for(ve=Qe=ne;++ne<ee;)ae=H[ne],null!=ae&&(oe>ae&&(oe=ae,ve=ne),pe<ae&&(pe=ae,Qe=ne))}else{for(;++ne<ee;)if(ae=Z(H[ne],ne,H),null!=ae&&ae>=ae){oe=pe=ae;break}if(ne===ee)return[-1,-1];for(ve=Qe=ne;++ne<ee;)ae=Z(H[ne],ne,H),null!=ae&&(oe>ae&&(oe=ae,ve=ne),pe<ae&&(pe=ae,Qe=ne))}return[ve,Qe]}const hf=Object.prototype.hasOwnProperty;function eo(H,Z){return hf.call(H,Z)}const Is={};function mf(H){let ee,Z={};function ne(ae){return eo(Z,ae)&&Z[ae]!==Is}const oe={size:0,empty:0,object:Z,has:ne,get:ae=>ne(ae)?Z[ae]:void 0,set(ae,pe){return ne(ae)||(++oe.size,Z[ae]===Is&&--oe.empty),Z[ae]=pe,this},delete(ae){return ne(ae)&&(--oe.size,++oe.empty,Z[ae]=Is),this},clear(){oe.size=oe.empty=0,oe.object=Z={}},test(ae){return arguments.length?(ee=ae,oe):ee},clean(){const ae={};let pe=0;for(const ve in Z){const Qe=Z[ve];Qe!==Is&&(!ee||!ee(Qe))&&(ae[ve]=Qe,++pe)}oe.size=pe,oe.empty=0,oe.object=Z=ae}};return H&&Object.keys(H).forEach(ae=>{oe.set(ae,H[ae])}),oe}function K_(H,Z,ee,ne,oe,ae){if(!ee&&0!==ee)return ae;const pe=+ee;let Xt,ve=H[0],Qe=Ia(H);Qe<ve&&(Xt=ve,ve=Qe,Qe=Xt),Xt=Math.abs(Z-ve);const nc=Math.abs(Qe-Z);return Xt<nc&&Xt<=pe?ne:nc<=pe?oe:ae}function J2(H,Z,ee){const ne=H.prototype=Object.create(Z.prototype);return Object.defineProperty(ne,"constructor",{value:H,writable:!0,enumerable:!0,configurable:!0}),ff(ne,ee)}function Ul(H,Z,ee,ne){let pe,oe=Z[0],ae=Z[Z.length-1];return oe>ae&&(pe=oe,oe=ae,ae=pe),ne=void 0===ne||ne,((ee=void 0===ee||ee)?oe<=H:oe<H)&&(ne?H<=ae:H<ae)}function Ln(H){return"boolean"==typeof H}function Kr(H){return"[object Date]"===Object.prototype.toString.call(H)}function nr(H){return H&&Ns(H[Symbol.iterator])}function w1(H){return"number"==typeof H}function Go(H){return"[object RegExp]"===Object.prototype.toString.call(H)}function ec(H){return"string"==typeof H}function r6(H,Z,ee){H&&(H=Z?M1(H).map(ve=>ve.replace(/\\(.)/g,"$1")):M1(H));const ne=H&&H.length,oe=ee&&ee.get||vi,ae=ve=>oe(Z?[ve]:Zr(ve));let pe;if(ne)if(1===ne){const ve=ae(H[0]);pe=function(Qe){return""+ve(Qe)}}else{const ve=H.map(ae);pe=function(Qe){let Xt=""+ve[0](Qe),nc=0;for(;++nc<ne;)Xt+="|"+ve[nc](Qe);return Xt}}else pe=function(){return""};return Be(pe,H,"key")}function $l(H,Z){const ee=H[0],ne=Ia(H),oe=+Z;return oe?1===oe?ne:ee+oe*(ne-ee):ee}function Xo(H){let Z,ee,ne;H=+H||1e4;const oe=()=>{Z={},ee={},ne=0},ae=(pe,ve)=>(++ne>H&&(ee=Z,Z={},ne=1),Z[pe]=ve);return oe(),{clear:oe,has:pe=>eo(Z,pe)||eo(ee,pe),get:pe=>eo(Z,pe)?Z[pe]:eo(ee,pe)?ae(pe,ee[pe]):void 0,set:(pe,ve)=>eo(Z,pe)?Z[pe]=ve:ae(pe,ve)}}function Q_(H,Z,ee,ne){const oe=Z.length,ae=ee.length;if(!ae)return Z;if(!oe)return ee;const pe=ne||new Z.constructor(oe+ae);let ve=0,Qe=0,Xt=0;for(;ve<oe&&Qe<ae;++Xt)pe[Xt]=H(Z[ve],ee[Qe])>0?ee[Qe++]:Z[ve++];for(;ve<oe;++ve,++Xt)pe[Xt]=Z[ve];for(;Qe<ae;++Qe,++Xt)pe[Xt]=ee[Qe];return pe}function E1(H,Z){let ee="";for(;--Z>=0;)ee+=H;return ee}function Ls(H,Z,ee,ne){const oe=ee||" ",ae=H+"",pe=Z-ae.length;return pe<=0?ae:"left"===ne?E1(oe,pe)+ae:"center"===ne?E1(oe,~~(pe/2))+ae+E1(oe,Math.ceil(pe/2)):ae+E1(oe,pe)}function tc(H){return H&&Ia(H)-H[0]||0}function pf(H){return Bn(H)?"["+H.map(pf)+"]":zs(H)||ec(H)?JSON.stringify(H).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):H}function u7(H){return null==H||""===H?null:!(!H||"false"===H||"0"===H||!H)}const Ii=H=>w1(H)||Kr(H)?H:Date.parse(H);function f7(H,Z){return Z=Z||Ii,null==H||""===H?null:Z(H)}function Fs(H){return null==H||""===H?null:H+""}function d7(H){const Z={},ee=H.length;for(let ne=0;ne<ee;++ne)Z[H[ne]]=!0;return Z}function ql(H,Z,ee,ne){const oe=null!=ne?ne:"\u2026",ae=H+"",pe=ae.length,ve=Math.max(0,Z-oe.length);return pe<=Z?ae:"left"===ee?oe+ae.slice(pe-ve):"center"===ee?ae.slice(0,Math.ceil(ve/2))+oe+ae.slice(pe-~~(ve/2)):ae.slice(0,ve)+oe}function xk(H,Z,ee){if(H)if(Z){const ne=H.length;for(let oe=0;oe<ne;++oe){const ae=Z(H[oe]);ae&&ee(ae,oe,H)}}else H.forEach(ee)}},951:(zi,_n,je)=>{je.d(_n,{G7x:()=>pA,_K7:()=>e0,Qc3:()=>YB});var Be={};je.r(Be),je.d(Be,{aggregate:()=>Qs,bin:()=>G7,collect:()=>mb,compare:()=>pb,countpattern:()=>qf,cross:()=>Dc,density:()=>z6,dotbin:()=>Z7,expression:()=>yb,extent:()=>h0,facet:()=>m0,field:()=>Cb,filter:()=>Yf,flatten:()=>K7,fold:()=>Js,formula:()=>Zf,generate:()=>xb,impute:()=>Q7,joinaggregate:()=>Ac,kde:()=>Mi,key:()=>Qf,load:()=>J7,lookup:()=>N6,multiextent:()=>wb,multivalues:()=>e9,params:()=>t9,pivot:()=>n9,prefacet:()=>Db,project:()=>Jf,proxy:()=>r9,quantile:()=>o9,relay:()=>a9,sample:()=>p0,sequence:()=>s9,sieve:()=>Ab,subflow:()=>Xf,timeunit:()=>uo,tupleindex:()=>kb,values:()=>Tb,window:()=>t8});var $o={};je.r($o),je.d($o,{interpolate:()=>sa,interpolateArray:()=>rz,interpolateBasis:()=>iC,interpolateBasisClosed:()=>V9,interpolateCubehelix:()=>Mz,interpolateCubehelixLong:()=>wz,interpolateDate:()=>Vr,interpolateDiscrete:()=>A0,interpolateHcl:()=>B$,interpolateHclLong:()=>j$,interpolateHsl:()=>zC,interpolateHslLong:()=>NC,interpolateHue:()=>vz,interpolateLab:()=>H$,interpolateNumber:()=>po,interpolateNumberArray:()=>P9,interpolateObject:()=>sC,interpolateRgb:()=>w8,interpolateRgbBasis:()=>rC,interpolateRgbBasisClosed:()=>oC,interpolateRound:()=>M0,interpolateString:()=>fC,interpolateTransformCss:()=>tm,interpolateTransformSvg:()=>Qa,interpolateZoom:()=>TC,piecewise:()=>N8,quantize:()=>Ez});var Ni={};je.r(Ni),je.d(Ni,{bound:()=>IM,identifier:()=>xp,mark:()=>Mp,overlap:()=>wp,render:()=>Sp,viewlayout:()=>wu});var vi={};je.r(vi),je.d(vi,{axisticks:()=>$d,datajoin:()=>zp,encode:()=>bI,legendentries:()=>qd,linkpath:()=>HM,pie:()=>Fp,scale:()=>$M,sortitems:()=>WM,stack:()=>Au});var Nt={};je.r(Nt),je.d(Nt,{contour:()=>bh,geojson:()=>qu,geopath:()=>pg,geopoint:()=>al,geoshape:()=>a4,graticule:()=>s4,heatmap:()=>Wu,isocontour:()=>fg,kde2d:()=>yh,projection:()=>Jw});var Yr={};je.r(Yr),je.d(Yr,{force:()=>xn});var Ar={};je.r(Ar),je.d(Ar,{nest:()=>Ph,pack:()=>Hh,partition:()=>Bh,stratify:()=>zg,tree:()=>EE,treelinks:()=>f1,treemap:()=>Fg});var Zr={};je.r(Zr),je.d(Zr,{label:()=>$h});var Yn={};je.r(Yn),je.d(Yn,{loess:()=>Pg,regression:()=>Hg});var Sr={};je.r(Sr),je.d(Sr,{voronoi:()=>y4});var tr={};je.r(tr),je.d(tr,{wordcloud:()=>WE});var x1={};je.r(x1),je.d(x1,{crossfilter:()=>Xg,resolvefilter:()=>Yg});var E=je(732),_i=je(239),tf={},Z2={};function Pl(e){return new Function("d","return {"+e.map(function(r,a){return JSON.stringify(r)+": d["+a+'] || ""'}).join(",")+"}")}function Hl(e){var r=Object.create(null),a=[];return e.forEach(function(s){for(var l in s)l in r||a.push(r[l]=l)}),a}function Bn(e,r){var a=e+"",s=a.length;return s<r?new Array(r-s+1).join(0)+a:a}function J4(e){var r=new RegExp('["'+e+"\n\r]"),a=e.charCodeAt(0);function l(y,C){var T,M=[],w=y.length,A=0,S=0,N=w<=0,I=!1;function F(){if(N)return Z2;if(I)return I=!1,tf;var P,G,V=A;if(34===y.charCodeAt(V)){for(;A++<w&&34!==y.charCodeAt(A)||34===y.charCodeAt(++A););return(P=A)>=w?N=!0:10===(G=y.charCodeAt(A++))?I=!0:13===G&&(I=!0,10===y.charCodeAt(A)&&++A),y.slice(V+1,P-1).replace(/""/g,'"')}for(;A<w;){if(10===(G=y.charCodeAt(P=A++)))I=!0;else if(13===G)I=!0,10===y.charCodeAt(A)&&++A;else if(G!==a)continue;return y.slice(V,P)}return N=!0,y.slice(V,w)}for(10===y.charCodeAt(w-1)&&--w,13===y.charCodeAt(w-1)&&--w;(T=F())!==Z2;){for(var O=[];T!==tf&&T!==Z2;)O.push(T),T=F();C&&null==(O=C(O,S++))||M.push(O)}return M}function f(y,C){return y.map(function(M){return C.map(function(w){return _(M[w])}).join(e)})}function v(y){return y.map(_).join(e)}function _(y){return null==y?"":y instanceof Date?function(e){var r=e.getUTCHours(),a=e.getUTCMinutes(),s=e.getUTCSeconds(),l=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":function(e){return e<0?"-"+Bn(-e,6):e>9999?"+"+Bn(e,6):Bn(e,4)}(e.getUTCFullYear())+"-"+Bn(e.getUTCMonth()+1,2)+"-"+Bn(e.getUTCDate(),2)+(l?"T"+Bn(r,2)+":"+Bn(a,2)+":"+Bn(s,2)+"."+Bn(l,3)+"Z":s?"T"+Bn(r,2)+":"+Bn(a,2)+":"+Bn(s,2)+"Z":a||r?"T"+Bn(r,2)+":"+Bn(a,2)+"Z":"")}(y):r.test(y+="")?'"'+y.replace(/"/g,'""')+'"':y}return{parse:function(y,C){var M,w,A=l(y,function(S,T){if(M)return M(S,T-1);w=S,M=C?function(e,r){var a=Pl(e);return function(s,l){return r(a(s),l,e)}}(S,C):Pl(S)});return A.columns=w||[],A},parseRows:l,format:function(y,C){return null==C&&(C=Hl(y)),[C.map(_).join(e)].concat(f(y,C)).join("\n")},formatBody:function(y,C){return null==C&&(C=Hl(y)),f(y,C).join("\n")},formatRows:function(y){return y.map(v).join("\n")},formatRow:v,formatValue:_}}function e6(e){return e}function Lt(e,r){return"string"==typeof r&&(r=e.objects[r]),"GeometryCollection"===r.type?{type:"FeatureCollection",features:r.geometries.map(function(a){return Bl(e,a)})}:Bl(e,r)}function Bl(e,r){var a=r.id,s=r.bbox,l=null==r.properties?{}:r.properties,f=t6(e,r);return null==a&&null==s?{type:"Feature",properties:l,geometry:f}:null==s?{type:"Feature",id:a,properties:l,geometry:f}:{type:"Feature",id:a,bbox:s,properties:l,geometry:f}}function t6(e,r){var a=function(e){if(null==e)return e6;var r,a,s=e.scale[0],l=e.scale[1],f=e.translate[0],d=e.translate[1];return function(h,p){p||(r=a=0);var v=2,_=h.length,y=new Array(_);for(y[0]=(r+=h[0])*s+f,y[1]=(a+=h[1])*l+d;v<_;)y[v]=h[v],++v;return y}}(e.transform),s=e.arcs;function l(_,y){y.length&&y.pop();for(var C=s[_<0?~_:_],M=0,w=C.length;M<w;++M)y.push(a(C[M],M));_<0&&function(e,r){for(var a,s=e.length,l=s-r;l<--s;)a=e[l],e[l++]=e[s],e[s]=a}(y,w)}function f(_){return a(_)}function d(_){for(var y=[],C=0,M=_.length;C<M;++C)l(_[C],y);return y.length<2&&y.push(y[0]),y}function h(_){for(var y=d(_);y.length<4;)y.push(y[0]);return y}function p(_){return _.map(h)}return function v(_){var C,y=_.type;switch(y){case"GeometryCollection":return{type:y,geometries:_.geometries.map(v)};case"Point":C=f(_.coordinates);break;case"MultiPoint":C=_.coordinates.map(f);break;case"LineString":C=d(_.arcs);break;case"MultiLineString":C=_.arcs.map(d);break;case"Polygon":C=p(_.arcs);break;case"MultiPolygon":C=_.arcs.map(p);break;default:return null}return{type:y,coordinates:C}}(r)}function rf(e,r){var a={},s={},l={},f=[],d=-1;function p(v,_){for(var y in v){var C=v[y];delete _[C.start],delete C.start,delete C.end,C.forEach(function(M){a[M<0?~M:M]=1}),f.push(C)}}return r.forEach(function(v,_){var C,y=e.arcs[v<0?~v:v];y.length<3&&!y[1][0]&&!y[1][1]&&(C=r[++d],r[d]=v,r[_]=C)}),r.forEach(function(v){var M,w,_=function(v){var C,_=e.arcs[v<0?~v:v],y=_[0];return e.transform?(C=[0,0],_.forEach(function(M){C[0]+=M[0],C[1]+=M[1]})):C=_[_.length-1],v<0?[C,y]:[y,C]}(v),y=_[0],C=_[1];if(M=l[y])if(delete l[M.end],M.push(v),M.end=C,w=s[C]){delete s[w.start];var A=w===M?M:M.concat(w);s[A.start=M.start]=l[A.end=w.end]=A}else s[M.start]=l[M.end]=M;else if(M=s[C])if(delete s[M.start],M.unshift(v),M.start=y,w=l[y]){delete l[w.end];var S=w===M?M:w.concat(M);s[S.start=w.start]=l[S.end=M.end]=S}else s[M.start]=l[M.end]=M;else s[(M=[v]).start=y]=l[M.end=C]=M}),p(l,s),p(s,l),r.forEach(function(v){a[v<0?~v:v]||f.push([v])}),f}function af(e){return t6(e,st.apply(this,arguments))}function st(e,r,a){var s,l,f;if(arguments.length>1)s=K2(0,r,a);else for(l=0,s=new Array(f=e.arcs.length);l<f;++l)s[l]=l;return{type:"MultiLineString",arcs:rf(e,s)}}function K2(e,r,a){var f,s=[],l=[];function d(y){var C=y<0?~y:y;(l[C]||(l[C]=[])).push({i:y,g:f})}function h(y){y.forEach(d)}function p(y){y.forEach(h)}return function _(y){switch(f=y,y.type){case"GeometryCollection":y.geometries.forEach(_);break;case"LineString":h(y.arcs);break;case"MultiLineString":case"Polygon":p(y.arcs);break;case"MultiPolygon":!function(y){y.forEach(p)}(y.arcs)}}(r),l.forEach(null==a?function(y){s.push(y[0].i)}:function(y){a(y[0].g,y[y.length-1].g)&&s.push(y[0].i)}),s}var jl=Math.sqrt(50),nn=Math.sqrt(10),Gt=Math.sqrt(2);function an(e,r,a){var s,f,d,h,l=-1;if(a=+a,(e=+e)==(r=+r)&&a>0)return[e];if((s=r<e)&&(f=e,e=r,r=f),0===(h=La(e,r,a))||!isFinite(h))return[];if(h>0){let p=Math.round(e/h),v=Math.round(r/h);for(p*h<e&&++p,v*h>r&&--v,d=new Array(f=v-p+1);++l<f;)d[l]=(p+l)*h}else{h=-h;let p=Math.round(e*h),v=Math.round(r*h);for(p/h<e&&++p,v/h>r&&--v,d=new Array(f=v-p+1);++l<f;)d[l]=(p+l)/h}return s&&d.reverse(),d}function La(e,r,a){var s=(r-e)/Math.max(0,a),l=Math.floor(Math.log(s)/Math.LN10),f=s/Math.pow(10,l);return l>=0?(f>=jl?10:f>=nn?5:f>=Gt?2:1)*Math.pow(10,l):-Math.pow(10,-l)/(f>=jl?10:f>=nn?5:f>=Gt?2:1)}function Fa(e,r,a){var s=Math.abs(r-e)/Math.max(0,a),l=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),f=s/l;return f>=jl?l*=10:f>=nn?l*=5:f>=Gt&&(l*=2),r<e?-l:l}var c7,sf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Q2(e){if(!(r=sf.exec(e)))throw new Error("invalid format: "+e);var r;return new cf({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}function cf(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function n6(e,r){if((a=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var a,s=e.slice(0,a);return[s.length>1?s[0]+s.slice(2):s,+e.slice(a+1)]}function M1(e){return(e=n6(Math.abs(e)))?e[1]:NaN}function a7(e,r){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(M1(r)/3)))-M1(Math.abs(e)))}function Ns(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,M1(r)-M1(e))+1}function s7(e){return Math.max(0,-M1(Math.abs(e)))}function Wo(e,r){var a=n6(e,r);if(!a)return e+"";var s=a[0],l=a[1];return l<0?"0."+new Array(-l).join("0")+s:s.length>l+1?s.slice(0,l+1)+"."+s.slice(l+1):s+new Array(l-s.length+2).join("0")}Q2.prototype=cf.prototype,cf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const uf={"%":(e,r)=>(100*e).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>Wo(100*e,r),r:Wo,s:function(e,r){var a=n6(e,r);if(!a)return e+"";var s=a[0],l=a[1],f=l-(c7=3*Math.max(-8,Math.min(8,Math.floor(l/3))))+1,d=s.length;return f===d?s:f>d?s+new Array(f-d+1).join("0"):f>0?s.slice(0,f)+"."+s.slice(f):"0."+new Array(1-f).join("0")+n6(e,Math.max(0,r+f-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ff(e){return e}var eo,Is,mf,df=Array.prototype.map,l7=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function hf(e){var r=void 0===e.grouping||void 0===e.thousands?ff:function(e,r){return function(a,s){for(var l=a.length,f=[],d=0,h=e[0],p=0;l>0&&h>0&&(p+h+1>s&&(h=Math.max(1,s-p)),f.push(a.substring(l-=h,l+h)),!((p+=h+1)>s));)h=e[d=(d+1)%e.length];return f.reverse().join(r)}}(df.call(e.grouping,Number),e.thousands+""),a=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",l=void 0===e.decimal?".":e.decimal+"",f=void 0===e.numerals?ff:function(e){return function(r){return r.replace(/[0-9]/g,function(a){return e[+a]})}}(df.call(e.numerals,String)),d=void 0===e.percent?"%":e.percent+"",h=void 0===e.minus?"\u2212":e.minus+"",p=void 0===e.nan?"NaN":e.nan+"";function v(y){var C=(y=Q2(y)).fill,M=y.align,w=y.sign,A=y.symbol,S=y.zero,T=y.width,N=y.comma,I=y.precision,F=y.trim,O=y.type;"n"===O?(N=!0,O="g"):uf[O]||(void 0===I&&(I=12),F=!0,O="g"),(S||"0"===C&&"="===M)&&(S=!0,C="0",M="=");var P="$"===A?a:"#"===A&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",V="$"===A?s:/[%p]/.test(O)?d:"",G=uf[O],Y=/[defgprs%]/.test(O);function W(X){var de,J,fe,re=P,ie=V;if("c"===O)ie=G(X)+ie,X="";else{var ye=(X=+X)<0||1/X<0;if(X=isNaN(X)?p:G(Math.abs(X),I),F&&(X=function(e){e:for(var l,r=e.length,a=1,s=-1;a<r;++a)switch(e[a]){case".":s=l=a;break;case"0":0===s&&(s=a),l=a;break;default:if(!+e[a])break e;s>0&&(s=0)}return s>0?e.slice(0,s)+e.slice(l+1):e}(X)),ye&&0==+X&&"+"!==w&&(ye=!1),re=(ye?"("===w?w:h:"-"===w||"("===w?"":w)+re,ie=("s"===O?l7[8+c7/3]:"")+ie+(ye&&"("===w?")":""),Y)for(de=-1,J=X.length;++de<J;)if(48>(fe=X.charCodeAt(de))||fe>57){ie=(46===fe?l+X.slice(de+1):X.slice(de))+ie,X=X.slice(0,de);break}}N&&!S&&(X=r(X,1/0));var Se=re.length+X.length+ie.length,$e=Se<T?new Array(T-Se+1).join(C):"";switch(N&&S&&(X=r($e+X,$e.length?T-ie.length:1/0),$e=""),M){case"<":X=re+X+ie+$e;break;case"=":X=re+$e+X+ie;break;case"^":X=$e.slice(0,Se=$e.length>>1)+re+X+ie+$e.slice(Se);break;default:X=$e+re+X+ie}return f(X)}return I=void 0===I?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I)),W.toString=function(){return y+""},W}return{format:v,formatPrefix:function(y,C){var M=v(((y=Q2(y)).type="f",y)),w=3*Math.max(-8,Math.min(8,Math.floor(M1(C)/3))),A=Math.pow(10,-w),S=l7[8+w/3];return function(T){return M(A*T)+S}}}}eo=hf({thousands:",",grouping:[3],currency:["$",""]}),Is=eo.format,mf=eo.formatPrefix;var J2=new Date,Ul=new Date;function Ln(e,r,a,s){function l(f){return e(f=0===arguments.length?new Date:new Date(+f)),f}return l.floor=function(f){return e(f=new Date(+f)),f},l.ceil=function(f){return e(f=new Date(f-1)),r(f,1),e(f),f},l.round=function(f){var d=l(f),h=l.ceil(f);return f-d<h-f?d:h},l.offset=function(f,d){return r(f=new Date(+f),null==d?1:Math.floor(d)),f},l.range=function(f,d,h){var v,p=[];if(f=l.ceil(f),h=null==h?1:Math.floor(h),!(f<d&&h>0))return p;do{p.push(v=new Date(+f)),r(f,h),e(f)}while(v<f&&f<d);return p},l.filter=function(f){return Ln(function(d){if(d>=d)for(;e(d),!f(d);)d.setTime(d-1)},function(d,h){if(d>=d)if(h<0)for(;++h<=0;)for(;r(d,-1),!f(d););else for(;--h>=0;)for(;r(d,1),!f(d););})},a&&(l.count=function(f,d){return J2.setTime(+f),Ul.setTime(+d),e(J2),e(Ul),Math.floor(a(J2,Ul))},l.every=function(f){return f=Math.floor(f),isFinite(f)&&f>0?f>1?l.filter(s?function(d){return s(d)%f==0}:function(d){return l.count(0,d)%f==0}):l:null}),l}const Kr=1e3,nr=6e4,w1=60*nr,Go=24*w1,ec=7*Go,r6=30*Go,$l=365*Go;var yi=Ln(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*nr)/Go,e=>e.getDate()-1);const Xo=yi;function E1(e){return Ln(function(r){r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},function(r,a){r.setDate(r.getDate()+7*a)},function(r,a){return(a-r-(a.getTimezoneOffset()-r.getTimezoneOffset())*nr)/ec})}var Ls=E1(0),tc=E1(1),Ii=(E1(2),E1(3),E1(4)),oe=(E1(5),E1(6),Ln(function(e){e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCDate(e.getUTCDate()+r)},function(e,r){return(r-e)/Go},function(e){return e.getUTCDate()-1}));const ae=oe;function ve(e){return Ln(function(r){r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},function(r,a){r.setUTCDate(r.getUTCDate()+7*a)},function(r,a){return(a-r)/ec})}var Qe=ve(0),Xt=ve(1),ic=(ve(2),ve(3),ve(4)),ct=(ve(5),ve(6),Ln(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,r){e.setFullYear(e.getFullYear()+r)},function(e,r){return r.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()}));ct.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Ln(function(r){r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},function(r,a){r.setFullYear(r.getFullYear()+a*e)}):null};const Zo=ct;var kt=Ln(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,r){e.setMonth(e.getMonth()+r)},function(e,r){return r.getMonth()-e.getMonth()+12*(r.getFullYear()-e.getFullYear())},function(e){return e.getMonth()});const Fe=kt;var Sk=Ln(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Kr-e.getMinutes()*nr)},function(e,r){e.setTime(+e+r*w1)},function(e,r){return(r-e)/w1},function(e){return e.getHours()});const Ra=Sk;var gf=Ln(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Kr)},function(e,r){e.setTime(+e+r*nr)},function(e,r){return(r-e)/nr},function(e){return e.getMinutes()});const Je=gf;var ty=Ln(function(e){e.setTime(e-e.getMilliseconds())},function(e,r){e.setTime(+e+r*Kr)},function(e,r){return(r-e)/Kr},function(e){return e.getUTCSeconds()});const ac=ty;var sc=Ln(function(){},function(e,r){e.setTime(+e+r)},function(e,r){return r-e});sc.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Ln(function(r){r.setTime(Math.floor(r/e)*e)},function(r,a){r.setTime(+r+a*e)},function(r,a){return(a-r)/e}):sc:null};const ir=sc;var h7=Ln(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCFullYear(e.getUTCFullYear()+r)},function(e,r){return r.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});h7.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Ln(function(r){r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},function(r,a){r.setUTCFullYear(r.getUTCFullYear()+a*e)}):null};const cc=h7;var kk=Ln(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCMonth(e.getUTCMonth()+r)},function(e,r){return r.getUTCMonth()-e.getUTCMonth()+12*(r.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});const m7=kk;var Tk=Ln(function(e){e.setUTCMinutes(0,0,0)},function(e,r){e.setTime(+e+r*w1)},function(e,r){return(r-e)/w1},function(e){return e.getUTCHours()});const p7=Tk;var ny=Ln(function(e){e.setUTCSeconds(0,0)},function(e,r){e.setTime(+e+r*nr)},function(e,r){return(r-e)/nr},function(e){return e.getUTCMinutes()});const iy=ny;function Ut(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function vf(e){let r=e,a=e;function s(d,h,p,v){for(null==p&&(p=0),null==v&&(v=d.length);p<v;){const _=p+v>>>1;a(d[_],h)<0?p=_+1:v=_}return p}return 1===e.length&&(r=(d,h)=>e(d)-h,a=function(e){return(r,a)=>Ut(e(r),a)}(e)),{left:s,center:function(d,h,p,v){null==p&&(p=0),null==v&&(v=d.length);const _=s(d,h,p,v-1);return _>p&&r(d[_-1],h)>-r(d[_],h)?_-1:_},right:function(d,h,p,v){for(null==p&&(p=0),null==v&&(v=d.length);p<v;){const _=p+v>>>1;a(d[_],h)>0?v=_:p=_+1}return p}}}const rr="year",Ce="quarter",Tr="month",Ne="week",Fn="date",Li="day",Va="dayofyear",A1="hours",Qr="minutes",zr="seconds",S1="milliseconds",g7=[rr,Ce,Tr,Ne,Fn,Li,Va,A1,Qr,zr,S1],v7=g7.reduce((e,r,a)=>(e[r]=1+a,e),{});function qe(e){const r=(0,E.IX)(e).slice(),a={};return r.length||(0,E.vU)("Missing time unit."),r.forEach(l=>{(0,E.nr)(v7,l)?a[l]=1:(0,E.vU)("Invalid time unit: ".concat(l,"."))}),(a[Ne]||a.day?1:0)+(a[Ce]||a[Tr]||a[Fn]?1:0)+(a[Va]?1:0)>1&&(0,E.vU)("Incompatible time units: ".concat(e)),r.sort((l,f)=>v7[l]-v7[f]),r}const _7={[rr]:"%Y ",[Ce]:"Q%q ",[Tr]:"%b ",[Fn]:"%d ",[Ne]:"W%U ",[Li]:"%a ",[Va]:"%j ",[A1]:"%H:00",[Qr]:"00:%M",[zr]:":%S",[S1]:".%L",["".concat(rr,"-").concat(Tr)]:"%Y-%m ",["".concat(rr,"-").concat(Tr,"-").concat(Fn)]:"%Y-%m-%d ",["".concat(A1,"-").concat(Qr)]:"%H:%M"},Nr=new Date;function _f(e){return Nr.setFullYear(e),Nr.setMonth(0),Nr.setDate(1),Nr.setHours(0,0,0,0),Nr}function Jr(e){return Xo.count(_f(e.getFullYear())-1,e)}function ry(e){return Ls.count(_f(e.getFullYear())-1,e)}function oy(e){return _f(e).getDay()}function Ir(e,r,a,s,l,f,d){if(0<=e&&e<100){const h=new Date(-1,r,a,s,l,f,d);return h.setFullYear(e),h}return new Date(e,r,a,s,l,f,d)}function ay(e){const r=Date.UTC(e.getUTCFullYear(),0,1);return ae.count(r-1,e)}function sy(e){const r=Date.UTC(e.getUTCFullYear(),0,1);return Qe.count(r-1,e)}function Ft(e){return Nr.setTime(Date.UTC(e,0,1)),Nr.getUTCDay()}function qU(e,r,a,s,l,f,d){if(0<=e&&e<100){const h=new Date(Date.UTC(-1,r,a,s,l,f,d));return h.setUTCFullYear(a.y),h}return new Date(Date.UTC(e,r,a,s,l,f,d))}function Lk(e,r,a,s,l){const f=r||1,d=(0,E.fj)(e),h=(T,N,I)=>function(e,r,a,s){const l=a<=1?e:s?(f,d)=>s+a*Math.floor((e(f,d)-s)/a):(f,d)=>a*Math.floor(e(f,d)/a);return r?(f,d)=>r(l(f,d),d):l}(a[I=I||T],s[I],T===d&&f,N),p=new Date,v=(0,E.Rg)(e),_=v[rr]?h(rr):(0,E.a9)(2012),y=v[Tr]?h(Tr):v[Ce]?h(Ce):E.bM,C=v[Ne]&&v.day?h(Li,1,Ne+Li):v[Ne]?h(Ne,1):v.day?h(Li,1):v[Fn]?h(Fn,1):v[Va]?h(Va,1):E.kX,M=v[A1]?h(A1):E.bM,w=v[Qr]?h(Qr):E.bM,A=v[zr]?h(zr):E.bM,S=v[S1]?h(S1):E.bM;return function(T){p.setTime(+T);const N=_(p);return l(N,y(p),C(p,N),M(p),w(p),A(p),S(p))}}function It(e,r,a){return r+7*e-(a+6)%7}const yf={[rr]:e=>e.getFullYear(),[Ce]:e=>Math.floor(e.getMonth()/3),[Tr]:e=>e.getMonth(),[Fn]:e=>e.getDate(),[A1]:e=>e.getHours(),[Qr]:e=>e.getMinutes(),[zr]:e=>e.getSeconds(),[S1]:e=>e.getMilliseconds(),[Va]:e=>Jr(e),[Ne]:e=>ry(e),[Ne+Li]:(e,r)=>It(ry(e),e.getDay(),oy(r)),[Li]:(e,r)=>It(1,e.getDay(),oy(r))},y7={[Ce]:e=>3*e,[Ne]:(e,r)=>It(e,0,oy(r))};function b7(e,r){return Lk(e,r||1,yf,y7,Ir)}const cy={[rr]:e=>e.getUTCFullYear(),[Ce]:e=>Math.floor(e.getUTCMonth()/3),[Tr]:e=>e.getUTCMonth(),[Fn]:e=>e.getUTCDate(),[A1]:e=>e.getUTCHours(),[Qr]:e=>e.getUTCMinutes(),[zr]:e=>e.getUTCSeconds(),[S1]:e=>e.getUTCMilliseconds(),[Va]:e=>ay(e),[Ne]:e=>sy(e),[Li]:(e,r)=>It(1,e.getUTCDay(),Ft(r)),[Ne+Li]:(e,r)=>It(sy(e),e.getUTCDay(),Ft(r))},Oa={[Ce]:e=>3*e,[Ne]:(e,r)=>It(e,0,Ft(r))};function o6(e,r){return Lk(e,r||1,cy,Oa,qU)}const Fk={[rr]:Zo,[Ce]:Fe.every(3),[Tr]:Fe,[Ne]:Ls,[Fn]:Xo,[Li]:Xo,[Va]:Xo,[A1]:Ra,[Qr]:Je,[zr]:ac,[S1]:ir},sn={[rr]:cc,[Ce]:m7.every(3),[Tr]:m7,[Ne]:Qe,[Fn]:ae,[Li]:ae,[Va]:ae,[A1]:p7,[Qr]:iy,[zr]:ac,[S1]:ir};function lc(e){return Fk[e]}function Gl(e){return sn[e]}function C7(e,r,a){return e?e.offset(r,a):void 0}function uy(e,r,a,s){return e?e.range(r,a,s):void 0}const jn=6e4,k1=60*jn,Ko=24*k1,e1=30*Ko,xe=365*Ko,gt=[rr,Tr,Fn,A1,Qr,zr,S1],Zt=gt.slice(0,-1),bi=Zt.slice(0,-1),to=bi.slice(0,-1),ri=to.slice(0,-1),En=[rr,Tr],Xl=[rr],Qo=[[Zt,1,1e3],[Zt,5,5e3],[Zt,15,15e3],[Zt,30,3e4],[bi,1,jn],[bi,5,5*jn],[bi,15,15*jn],[bi,30,30*jn],[to,1,k1],[to,3,3*k1],[to,6,6*k1],[to,12,12*k1],[ri,1,Ko],[[rr,Ne],1,6048e5],[En,1,e1],[En,3,3*e1],[Xl,1,xe]];function Yl(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Os(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fc(e,r,a){return{y:e,m:r,d:a,H:0,M:0,S:0,L:0}}function dc(e){var r=e.dateTime,a=e.date,s=e.time,l=e.periods,f=e.days,d=e.shortDays,h=e.months,p=e.shortMonths,v=a6(l),_=Ps(l),y=a6(f),C=Ps(f),M=a6(d),w=Ps(d),A=a6(h),S=Ps(h),T=a6(p),N=Ps(p),I={a:function(ke){return d[ke.getDay()]},A:function(ke){return f[ke.getDay()]},b:function(ke){return p[ke.getMonth()]},B:function(ke){return h[ke.getMonth()]},c:null,d:Pk,e:Pk,f:e$,g:py,G:gy,H:KU,I:QU,j:JU,L:Hk,m:t$,M:n$,p:function(ke){return l[+(ke.getHours()>=12)]},q:function(ke){return 1+~~(ke.getMonth()/3)},Q:My,s:Df,S:i$,u:r$,U:my,V:o$,w:a$,W:s$,x:null,X:null,y:mc,Y:Rn,Z:Bk,"%":t1},F={a:function(ke){return d[ke.getUTCDay()]},A:function(ke){return f[ke.getUTCDay()]},b:function(ke){return p[ke.getUTCMonth()]},B:function(ke){return h[ke.getUTCMonth()]},c:null,d:vy,e:vy,f:Uk,g:Un,G:l$,H:_y,I:yy,j:jk,L:Mf,m:z1,M:by,p:function(ke){return l[+(ke.getUTCHours()>=12)]},q:function(ke){return 1+~~(ke.getUTCMonth()/3)},Q:My,s:Df,S:Cy,u:w7,U:$k,V:c$,w:An,W:xy,x:null,X:null,y:qk,Y:Wk,Z:Ef,"%":t1},O={a:function(ke,bt,Ot){var ge=M.exec(bt.slice(Ot));return ge?(ke.w=w.get(ge[0].toLowerCase()),Ot+ge[0].length):-1},A:function(ke,bt,Ot){var ge=y.exec(bt.slice(Ot));return ge?(ke.w=C.get(ge[0].toLowerCase()),Ot+ge[0].length):-1},b:function(ke,bt,Ot){var ge=T.exec(bt.slice(Ot));return ge?(ke.m=N.get(ge[0].toLowerCase()),Ot+ge[0].length):-1},B:function(ke,bt,Ot){var ge=A.exec(bt.slice(Ot));return ge?(ke.m=S.get(ge[0].toLowerCase()),Ot+ge[0].length):-1},c:function(ke,bt,Ot){return G(ke,r,bt,Ot)},d:c6,e:c6,f:GU,g:io,G:dy,H:hy,I:hy,j:oo,L:Ok,m:Cf,M:WU,p:function(ke,bt,Ot){var ge=v.exec(bt.slice(Ot));return ge?(ke.p=_.get(ge[0].toLowerCase()),Ot+ge[0].length):-1},q:M7,Q:YU,s:ZU,S:Vk,u:s6,U:bf,V:hc,w:x7,W:Fi,x:function(ke,bt,Ot){return G(ke,a,bt,Ot)},X:function(ke,bt,Ot){return G(ke,s,bt,Ot)},y:io,Y:dy,Z:ro,"%":XU};function P(ke,bt){return function(Ot){var b1,Nl,bS,ge=[],Gr=-1,un=0,y1=ke.length;for(Ot instanceof Date||(Ot=new Date(+Ot));++Gr<y1;)37===ke.charCodeAt(Gr)&&(ge.push(ke.slice(un,Gr)),null!=(Nl=or[b1=ke.charAt(++Gr)])?b1=ke.charAt(++Gr):Nl="e"===b1?" ":"0",(bS=bt[b1])&&(b1=bS(Ot,Nl)),ge.push(b1),un=Gr+1);return ge.push(ke.slice(un,Gr)),ge.join("")}}function V(ke,bt){return function(Ot){var un,y1,ge=fc(1900,void 0,1);if(G(ge,ke,Ot+="",0)!=Ot.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(1e3*ge.s+("L"in ge?ge.L:0));if(bt&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+12*ge.p),void 0===ge.m&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(y1=(un=Os(fc(ge.y,0,1))).getUTCDay(),un=y1>4||0===y1?Xt.ceil(un):Xt(un),un=ae.offset(un,7*(ge.V-1)),ge.y=un.getUTCFullYear(),ge.m=un.getUTCMonth(),ge.d=un.getUTCDate()+(ge.w+6)%7):(y1=(un=Yl(fc(ge.y,0,1))).getDay(),un=y1>4||0===y1?tc.ceil(un):tc(un),un=Xo.offset(un,7*(ge.V-1)),ge.y=un.getFullYear(),ge.m=un.getMonth(),ge.d=un.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),y1="Z"in ge?Os(fc(ge.y,0,1)).getUTCDay():Yl(fc(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+7*ge.W-(y1+5)%7:ge.w+7*ge.U-(y1+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,Os(ge)):Yl(ge)}}function G(ke,bt,Ot,ge){for(var b1,Nl,Gr=0,un=bt.length,y1=Ot.length;Gr<un;){if(ge>=y1)return-1;if(37===(b1=bt.charCodeAt(Gr++))){if(b1=bt.charAt(Gr++),!(Nl=O[b1 in or?bt.charAt(Gr++):b1])||(ge=Nl(ke,Ot,ge))<0)return-1}else if(b1!=Ot.charCodeAt(ge++))return-1}return ge}return I.x=P(a,I),I.X=P(s,I),I.c=P(r,I),F.x=P(a,F),F.X=P(s,F),F.c=P(r,F),{format:function(ke){var bt=P(ke+="",I);return bt.toString=function(){return ke},bt},parse:function(ke){var bt=V(ke+="",!1);return bt.toString=function(){return ke},bt},utcFormat:function(ke){var bt=P(ke+="",F);return bt.toString=function(){return ke},bt},utcParse:function(ke){var bt=V(ke+="",!0);return bt.toString=function(){return ke},bt}}}var ao,ar,E7,l6,wy,or={"-":"",_:" ",0:"0"},Dn=/^\s*\d+/,Zl=/^%/,no=/[\\^$*+?|[\]().{}]/g;function Ve(e,r,a){var s=e<0?"-":"",l=(s?-e:e)+"",f=l.length;return s+(f<a?new Array(a-f+1).join(r)+l:l)}function Rk(e){return e.replace(no,"\\$&")}function a6(e){return new RegExp("^(?:"+e.map(Rk).join("|")+")","i")}function Ps(e){return new Map(e.map((r,a)=>[r.toLowerCase(),a]))}function x7(e,r,a){var s=Dn.exec(r.slice(a,a+1));return s?(e.w=+s[0],a+s[0].length):-1}function s6(e,r,a){var s=Dn.exec(r.slice(a,a+1));return s?(e.u=+s[0],a+s[0].length):-1}function bf(e,r,a){var s=Dn.exec(r.slice(a,a+2));return s?(e.U=+s[0],a+s[0].length):-1}function hc(e,r,a){var s=Dn.exec(r.slice(a,a+2));return s?(e.V=+s[0],a+s[0].length):-1}function Fi(e,r,a){var s=Dn.exec(r.slice(a,a+2));return s?(e.W=+s[0],a+s[0].length):-1}function dy(e,r,a){var s=Dn.exec(r.slice(a,a+4));return s?(e.y=+s[0],a+s[0].length):-1}function io(e,r,a){var s=Dn.exec(r.slice(a,a+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),a+s[0].length):-1}function ro(e,r,a){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(a,a+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),a+s[0].length):-1}function M7(e,r,a){var s=Dn.exec(r.slice(a,a+1));return s?(e.q=3*s[0]-3,a+s[0].length):-1}function Cf(e,r,a){var s=Dn.exec(r.slice(a,a+2));return s?(e.m=s[0]-1,a+s[0].length):-1}function c6(e,r,a){var s=Dn.exec(r.slice(a,a+2));return s?(e.d=+s[0],a+s[0].length):-1}function oo(e,r,a){var s=Dn.exec(r.slice(a,a+3));return s?(e.m=0,e.d=+s[0],a+s[0].length):-1}function hy(e,r,a){var s=Dn.exec(r.slice(a,a+2));return s?(e.H=+s[0],a+s[0].length):-1}function WU(e,r,a){var s=Dn.exec(r.slice(a,a+2));return s?(e.M=+s[0],a+s[0].length):-1}function Vk(e,r,a){var s=Dn.exec(r.slice(a,a+2));return s?(e.S=+s[0],a+s[0].length):-1}function Ok(e,r,a){var s=Dn.exec(r.slice(a,a+3));return s?(e.L=+s[0],a+s[0].length):-1}function GU(e,r,a){var s=Dn.exec(r.slice(a,a+6));return s?(e.L=Math.floor(s[0]/1e3),a+s[0].length):-1}function XU(e,r,a){var s=Zl.exec(r.slice(a,a+1));return s?a+s[0].length:-1}function YU(e,r,a){var s=Dn.exec(r.slice(a));return s?(e.Q=+s[0],a+s[0].length):-1}function ZU(e,r,a){var s=Dn.exec(r.slice(a));return s?(e.s=+s[0],a+s[0].length):-1}function Pk(e,r){return Ve(e.getDate(),r,2)}function KU(e,r){return Ve(e.getHours(),r,2)}function QU(e,r){return Ve(e.getHours()%12||12,r,2)}function JU(e,r){return Ve(1+Xo.count(Zo(e),e),r,3)}function Hk(e,r){return Ve(e.getMilliseconds(),r,3)}function e$(e,r){return Hk(e,r)+"000"}function t$(e,r){return Ve(e.getMonth()+1,r,2)}function n$(e,r){return Ve(e.getMinutes(),r,2)}function i$(e,r){return Ve(e.getSeconds(),r,2)}function r$(e){var r=e.getDay();return 0===r?7:r}function my(e,r){return Ve(Ls.count(Zo(e)-1,e),r,2)}function xf(e){var r=e.getDay();return r>=4||0===r?Ii(e):Ii.ceil(e)}function o$(e,r){return e=xf(e),Ve(Ii.count(Zo(e),e)+(4===Zo(e).getDay()),r,2)}function a$(e){return e.getDay()}function s$(e,r){return Ve(tc.count(Zo(e)-1,e),r,2)}function mc(e,r){return Ve(e.getFullYear()%100,r,2)}function py(e,r){return Ve((e=xf(e)).getFullYear()%100,r,2)}function Rn(e,r){return Ve(e.getFullYear()%1e4,r,4)}function gy(e,r){var a=e.getDay();return Ve((e=a>=4||0===a?Ii(e):Ii.ceil(e)).getFullYear()%1e4,r,4)}function Bk(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+Ve(r/60|0,"0",2)+Ve(r%60,"0",2)}function vy(e,r){return Ve(e.getUTCDate(),r,2)}function _y(e,r){return Ve(e.getUTCHours(),r,2)}function yy(e,r){return Ve(e.getUTCHours()%12||12,r,2)}function jk(e,r){return Ve(1+ae.count(cc(e),e),r,3)}function Mf(e,r){return Ve(e.getUTCMilliseconds(),r,3)}function Uk(e,r){return Mf(e,r)+"000"}function z1(e,r){return Ve(e.getUTCMonth()+1,r,2)}function by(e,r){return Ve(e.getUTCMinutes(),r,2)}function Cy(e,r){return Ve(e.getUTCSeconds(),r,2)}function w7(e){var r=e.getUTCDay();return 0===r?7:r}function $k(e,r){return Ve(Qe.count(cc(e)-1,e),r,2)}function wf(e){var r=e.getUTCDay();return r>=4||0===r?ic(e):ic.ceil(e)}function c$(e,r){return e=wf(e),Ve(ic.count(cc(e),e)+(4===cc(e).getUTCDay()),r,2)}function An(e){return e.getUTCDay()}function xy(e,r){return Ve(Xt.count(cc(e)-1,e),r,2)}function qk(e,r){return Ve(e.getUTCFullYear()%100,r,2)}function Un(e,r){return Ve((e=wf(e)).getUTCFullYear()%100,r,2)}function Wk(e,r){return Ve(e.getUTCFullYear()%1e4,r,4)}function l$(e,r){var a=e.getUTCDay();return Ve((e=a>=4||0===a?ic(e):ic.ceil(e)).getUTCFullYear()%1e4,r,4)}function Ef(){return"+0000"}function t1(){return"%"}function My(e){return+e}function Df(e){return Math.floor(+e/1e3)}function Kl(e){const r={};return a=>r[a]||(r[a]=e(a))}function Gk(e){const r=Kl(e.format),a=e.formatPrefix;return{format:r,formatPrefix:a,formatFloat(s){const l=Q2(s||",");if(null==l.precision){switch(l.precision=12,l.type){case"%":l.precision-=2;break;case"e":l.precision-=1}return function(e,r){return a=>{const s=e(a),l=s.indexOf(r);if(l<0)return s;let f=function(e,r){let s,a=e.lastIndexOf("e");if(a>0)return a;for(a=e.length;--a>r;)if(s=e.charCodeAt(a),s>=48&&s<=57)return a+1}(s,l);const d=f<s.length?s.slice(f):"";for(;--f>l;)if("0"!==s[f]){++f;break}return s.slice(0,f)+d}}(r(l),r(".1f")(1)[1])}return r(l)},formatSpan(s,l,f,d){d=Q2(null==d?",f":d);const h=Fa(s,l,f),p=Math.max(Math.abs(s),Math.abs(l));let v;if(null==d.precision)switch(d.type){case"s":return isNaN(v=a7(h,p))||(d.precision=v),a(d,p);case"":case"e":case"g":case"p":case"r":isNaN(v=Ns(h,p))||(d.precision=v-("e"===d.type));break;case"f":case"%":isNaN(v=s7(h))||(d.precision=v-2*("%"===d.type))}return r(d)}}}let A7,le;function Dy(e){return Gk(hf(e))}function Af(e){return arguments.length?A7=Dy(e):A7}function Ay(e,r,a){(0,E.Kn)(a=a||{})||(0,E.vU)("Invalid time multi-format specifier: ".concat(a));const s=r(zr),l=r(Qr),f=r(A1),d=r(Fn),h=r(Ne),p=r(Tr),v=r(Ce),_=r(rr),y=e(a[S1]||".%L"),C=e(a[zr]||":%S"),M=e(a[Qr]||"%I:%M"),w=e(a[A1]||"%I %p"),A=e(a[Fn]||a.day||"%a %d"),S=e(a[Ne]||"%b %d"),T=e(a[Tr]||"%B"),N=e(a[Ce]||"%B"),I=e(a[rr]||"%Y");return F=>(s(F)<F?y:l(F)<F?C:f(F)<F?M:d(F)<F?w:p(F)<F?h(F)<F?A:S:_(F)<F?v(F)<F?T:N:I)(F)}function Sy(e){const r=Kl(e.format),a=Kl(e.utcFormat);return{timeFormat:s=>(0,E.HD)(s)?r(s):Ay(r,lc,s),utcFormat:s=>(0,E.HD)(s)?a(s):Ay(a,Gl,s),timeParse:Kl(e.parse),utcParse:Kl(e.utcParse)}}function Sn(e){return Sy(dc(e))}function kn(e){return arguments.length?le=Sn(e):le}ao=dc({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),ar=ao.format,E7=ao.parse,l6=ao.utcFormat,wy=ao.utcParse,A7=Gk({format:Is,formatPrefix:mf}),le=Sy({format:ar,parse:E7,utcFormat:l6,utcParse:wy});const Sf=(e,r)=>(0,E.l7)({},e,r);const S7=/^(data:|([A-Za-z]+:)?\/\/)/,u$=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Xk=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,f6="file://";function sr(e,r){return co.apply(this,arguments)}function co(){return(co=(0,_i.Z)(function*(e,r){const a=yield this.sanitize(e,r),s=a.href;return a.localFile?this.file(s):this.http(s,r)})).apply(this,arguments)}function Ty(e,r){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,_i.Z)(function*(e,r){r=(0,E.l7)({},this.options,r);const a=this.fileAccess,s={href:null};let l,f,d;const h=u$.test(e.replace(Xk,""));(null==e||"string"!=typeof e||!h)&&(0,E.vU)("Sanitize failure, invalid URI: "+(0,E.m8)(e));const p=S7.test(e);return(d=r.baseURL)&&!p&&(!e.startsWith("/")&&!d.endsWith("/")&&(e="/"+e),e=d+e),f=(l=e.startsWith(f6))||"file"===r.mode||"http"!==r.mode&&!p&&a,l?e=e.slice(f6.length):e.startsWith("//")&&("file"===r.defaultProtocol?(e=e.slice(2),f=!0):e=(r.defaultProtocol||"http")+":"+e),Object.defineProperty(s,"localFile",{value:!!f}),s.href=e,r.target&&(s.target=r.target+""),r.rel&&(s.rel=r.rel+""),"image"===r.context&&r.crossOrigin&&(s.crossOrigin=r.crossOrigin+""),s})).apply(this,arguments)}function Pa(e){return e?r=>new Promise((a,s)=>{e.readFile(r,(l,f)=>{l?s(l):a(f)})}):Yk}function Yk(){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,_i.Z)(function*(){(0,E.vU)("No file system access.")})).apply(this,arguments)}function Zk(e){return e?function(){var r=(0,_i.Z)(function*(a,s){const l=(0,E.l7)({},this.options.http,s),f=s&&s.response,d=yield e(a,l);return d.ok?(0,E.mf)(d[f])?d[f]():d.text():(0,E.vU)(d.status+""+d.statusText)});return function(a,s){return r.apply(this,arguments)}}():Kk}function Kk(){return d6.apply(this,arguments)}function d6(){return(d6=(0,_i.Z)(function*(){(0,E.vU)("No HTTP fetch method available.")})).apply(this,arguments)}const k7=e=>null!=e&&e==e,Ny=e=>!(Number.isNaN(+e)||e instanceof Date),h6={boolean:E.sw,integer:E.He,number:E.He,date:E.ZU,string:E.BB,unknown:E.yR},m6=[e=>"true"===e||"false"===e||!0===e||!1===e,e=>Ny(e)&&Number.isInteger(+e),Ny,e=>!Number.isNaN(Date.parse(e))],Ly=["boolean","integer","number","date"];function p6(e){const r=function(a,s){const l={delimiter:e};return z7(a,s?(0,E.l7)(s,l):l)};return r.responseType="text",r}function z7(e,r){return r.header&&(e=r.header.map(E.m8).join(r.delimiter)+"\n"+e),J4(r.delimiter).parse(e+"")}function Ci(e,r){const a=r&&r.property?(0,E.EP)(r.property):E.yR;return(0,E.Kn)(e)&&!function(e){return!("function"!=typeof Buffer||!(0,E.mf)(Buffer.isBuffer))&&Buffer.isBuffer(e)}(e)?function(e,r){return!(0,E.kJ)(e)&&(0,E.TW)(e)&&(e=[...e]),r&&r.copy?JSON.parse(JSON.stringify(e)):e}(a(e),r):a(JSON.parse(e))}z7.responseType="text",Ci.responseType="json";const Tn={interior:(e,r)=>e!==r,exterior:(e,r)=>e===r};function Ha(e,r){let a,s,l,f;return e=Ci(e,r),r&&r.feature?(a=Lt,l=r.feature):r&&r.mesh?(a=af,l=r.mesh,f=Tn[r.filter]):(0,E.vU)("Missing TopoJSON feature or mesh parameter."),s=(s=e.objects[l])?a(e,s,f):(0,E.vU)("Invalid TopoJSON object: "+l),s&&s.features||[s]}Ha.responseType="json";const N7={dsv:z7,csv:p6(","),tsv:p6("\t"),json:Ci,topojson:Ha};function I7(e,r){return arguments.length>1?(N7[e]=r,this):(0,E.nr)(N7,e)?N7[e]:null}function Jk(e){const r=I7(e);return r&&r.responseType||"text"}function eT(e,r,a,s){const l=I7((r=r||{}).type||"json");return l||(0,E.vU)("Unknown data format type: "+r.type),e=l(e,r),r.parse&&function(e,r,a,s){if(!e.length)return;const l=kn();a=a||l.timeParse,s=s||l.utcParse;let d,h,p,v,_,y,f=e.columns||Object.keys(e[0]);"auto"===r&&(r=function(e,r){return r.reduce((a,s)=>(a[s]=function(e,r){if(!e||!e.length)return"unknown";const a=e.length,s=m6.length,l=m6.map((f,d)=>d+1);for(let h,p,f=0,d=0;f<a;++f)for(p=r?e[f][r]:e[f],h=0;h<s;++h)if(l[h]&&k7(p)&&!m6[h](p)&&(l[h]=0,++d,d===m6.length))return"string";return Ly[l.reduce((f,d)=>0===f?d:f,0)-1]}(e,s),a),{})}(e,f)),f=Object.keys(r);const C=f.map(M=>{const w=r[M];let A,S;if(w&&(w.startsWith("date:")||w.startsWith("utc:")))return A=w.split(/:(.+)?/,2),S=A[1],("'"===S[0]&&"'"===S[S.length-1]||'"'===S[0]&&'"'===S[S.length-1])&&(S=S.slice(1,-1)),("utc"===A[0]?s:a)(S);if(!h6[w])throw Error("Illegal format pattern: "+M+":"+w);return h6[w]});for(p=0,_=e.length,y=f.length;p<_;++p)for(d=e[p],v=0;v<y;++v)h=f[v],d[h]=C[v](d[h])}(e,r.parse,a,s),(0,E.nr)(e,"columns")&&delete e.columns,e}const Ql=(e="undefined"!=typeof fetch&&fetch,a=>({options:a||{},sanitize:Ty,load:sr,fileAccess:!1,file:Pa(null),http:Zk(e)}));var e;function pc(e){const r=e||E.yR,a=[],s={};return a.add=l=>{const f=r(l);return s[f]||(s[f]=1,a.push(l)),a},a.remove=l=>{const f=r(l);if(s[f]){s[f]=0;const d=a.indexOf(l);d>=0&&a.splice(d,1)}return a},a}function gc(e,r){return g6.apply(this,arguments)}function g6(){return g6=(0,_i.Z)(function*(e,r){try{yield r(e)}catch(a){e.error(a)}}),g6.apply(this,arguments)}const L7=Symbol("vega_id");let nT=1;function Jo(e){return!(!e||!Le(e))}function Le(e){return e[L7]}function Vy(e,r){return e[L7]=r,e}function $t(e){const r=e===Object(e)?e:{data:e};return Le(r)?r:Vy(r,nT++)}function vc(e){return Jl(e,$t({}))}function Jl(e,r){for(const a in e)r[a]=e[a];return r}function Oy(e,r){return Vy(r,Le(e))}function _c(e,r){return e?r?(a,s)=>e(a,s)||Le(r(a))-Le(r(s)):(a,s)=>e(a,s)||Le(a)-Le(s):null}function iT(e){return e&&e.constructor===e0}function e0(){const e=[],r=[],a=[],s=[],l=[];let f=null,d=!1;return{constructor:e0,insert(h){const p=(0,E.IX)(h),v=p.length;for(let _=0;_<v;++_)e.push(p[_]);return this},remove(h){const p=(0,E.mf)(h)?s:r,v=(0,E.IX)(h),_=v.length;for(let y=0;y<_;++y)p.push(v[y]);return this},modify(h,p,v){const _={field:p,value:(0,E.a9)(v)};return(0,E.mf)(h)?(_.filter=h,l.push(_)):(_.tuple=h,a.push(_)),this},encode(h,p){return(0,E.mf)(h)?l.push({filter:h,field:p}):a.push({tuple:h,field:p}),this},clean(h){return f=h,this},reflow(){return d=!0,this},pulse(h,p){const v={},_={};let y,C,M,w,A,S;for(y=0,C=p.length;y<C;++y)v[Le(p[y])]=1;for(y=0,C=r.length;y<C;++y)A=r[y],v[Le(A)]=-1;for(y=0,C=s.length;y<C;++y)w=s[y],p.forEach(N=>{w(N)&&(v[Le(N)]=-1)});for(y=0,C=e.length;y<C;++y)A=e[y],S=Le(A),v[S]?v[S]=1:h.add.push($t(e[y]));for(y=0,C=p.length;y<C;++y)A=p[y],v[Le(A)]<0&&h.rem.push(A);function T(N,I,F){F?N[I]=F(N):h.encode=I,d||(_[Le(N)]=N)}for(y=0,C=a.length;y<C;++y)M=a[y],A=M.tuple,w=M.field,S=v[Le(A)],S>0&&(T(A,w,M.value),h.modifies(w));for(y=0,C=l.length;y<C;++y)M=l[y],w=M.filter,p.forEach(N=>{w(N)&&v[Le(N)]>0&&T(N,M.field,M.value)}),h.modifies(M.field);if(d)h.mod=r.length||s.length?p.filter(N=>v[Le(N)]>0):p.slice();else for(S in _)h.mod.push(_[S]);return(f||null==f&&(r.length||s.length))&&h.clean(!0),h}}}const yc="_:mod:_";function zf(){Object.defineProperty(this,yc,{writable:!0,value:{}})}zf.prototype={set(e,r,a,s){const l=this,f=l[e],d=l[yc];return null!=r&&r>=0?(f[r]!==a||s)&&(f[r]=a,d[r+":"+e]=-1,d[e]=-1):(f!==a||s)&&(l[e]=a,d[e]=(0,E.kJ)(a)?1+a.length:-1),l},modified(e,r){const a=this[yc];if(!arguments.length){for(const s in a)if(a[s])return!0;return!1}if((0,E.kJ)(e)){for(let s=0;s<e.length;++s)if(a[e[s]])return!0;return!1}return null!=r&&r>=0?r+1<a[e]||!!a[r+":"+e]:!!a[e]},clear(){return this[yc]={},this}};let F7=0;const Py=new zf;function cn(e,r,a,s){this.id=++F7,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,r&&(this._update=r),a&&this.parameters(a,s)}function bc(e){return function(r){const a=this.flags;return 0===arguments.length?!!(a&e):(this.flags=r?a|e:a&~e,this)}}cn.prototype={targets(){return this._targets||(this._targets=pc(E.id))},set(e){return this.value!==e?(this.value=e,1):0},skip:bc(1),modified:bc(2),parameters(e,r,a){r=!1!==r;const s=this._argval=this._argval||new zf,l=this._argops=this._argops||[],f=[];let d,h,p,v;const _=(y,C,M)=>{M instanceof cn?(M!==this&&(r&&M.targets().add(this),f.push(M)),l.push({op:M,name:y,index:C})):s.set(y,C,M)};for(d in e)if(h=e[d],"pulse"===d)(0,E.IX)(h).forEach(y=>{y instanceof cn?y!==this&&(y.targets().add(this),f.push(y)):(0,E.vU)("Pulse parameters must be operator instances.")}),this.source=h;else if((0,E.kJ)(h))for(s.set(d,-1,Array(p=h.length)),v=0;v<p;++v)_(d,v,h[v]);else _(d,-1,h);return this.marshall().clear(),a&&(l.initonly=!0),f},marshall(e){const r=this._argval||Py,a=this._argops;let s,l,f,d;if(a){const h=a.length;for(l=0;l<h;++l)s=a[l],f=s.op,d=f.modified()&&f.stamp===e,r.set(s.name,s.index,f.value,d);if(a.initonly){for(l=0;l<h;++l)s=a[l],s.op.targets().remove(this);this._argops=null,this._update=null}}return r},detach(){const e=this._argops;let r,a,s,l;if(e)for(r=0,a=e.length;r<a;++r)s=e[r],l=s.op,l._targets&&l._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const r=this._update;if(r){const a=this.marshall(e.stamp),s=r.call(this,a,e);if(a.clear(),s!==this.value)this.value=s;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let r;return this.skip()?(this.skip(!1),r=0):r=this.evaluate(e),this.pulse=r||e}};let f$=0;function Lf(e,r,a){this.id=++f$,this.value=null,a&&(this.receive=a),e&&(this._filter=e),r&&(this._apply=r)}function Ba(e,r,a){return new Lf(e,r,a)}function _6(){return _6=(0,_i.Z)(function*(e,r){const a=this;let l,s=0;try{l=yield a.loader().load(e,{context:"dataflow",response:Jk(r&&r.type)});try{l=a.parse(l,r)}catch(f){s=-2,a.warn("Data ingestion failed",e,f)}}catch(f){s=-1,a.warn("Loading failed",e,f)}return{data:l,status:s}}),_6.apply(this,arguments)}function n0(){return n0=(0,_i.Z)(function*(e,r,a){const s=this,l=s._pending||aT(s);l.requests+=1;const f=yield s.request(r,a);return s.pulse(e,s.changeset().remove(E.yb).insert(f.data||[])),l.done(),f}),n0.apply(this,arguments)}function aT(e){let r;const a=new Promise(s=>r=s);return a.requests=0,a.done=()=>{0==--a.requests&&(e._pending=null,r(e))},e._pending=a}Lf.prototype={_filter:E.yb,_apply:E.yR,targets(){return this._targets||(this._targets=pc(E.id))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const r=this.value=this._apply(e),a=this._targets,s=a?a.length:0;for(let l=0;l<s;++l)a[l].receive(r);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const r=Ba(e);return this.targets().add(r),r},apply(e){const r=Ba(null,e);return this.targets().add(r),r},merge(){const e=Ba();this.targets().add(e);for(let r=0,a=arguments.length;r<a;++r)arguments[r].targets().add(e);return e},throttle(e){let r=-1;return this.filter(()=>{const a=Date.now();return a-r>e?(r=a,1):0})},debounce(e){const r=Ba();return this.targets().add(Ba(null,null,(0,E.Ds)(e,a=>{const s=a.dataflow;r.receive(a),s&&s.run&&s.run()}))),r},between(e,r){let a=!1;return e.targets().add(Ba(null,null,()=>a=!0)),r.targets().add(Ba(null,null,()=>a=!1)),this.filter(()=>a)},detach(){this._filter=E.yb,this._targets=null}};const By={skip:!0};function Uy(e,r,a,s,l,f){const d=(0,E.l7)({},f,By);let h,p;(0,E.mf)(a)||(a=(0,E.a9)(a)),void 0===s?h=v=>e.touch(a(v)):(0,E.mf)(s)?(p=new cn(null,s,l,!1),h=v=>{p.evaluate(v);const _=a(v),y=p.value;iT(y)?e.pulse(_,y,f):e.update(_,y,d)}):h=v=>e.update(a(v),s,d),r.apply(h)}function $y(e,r,a,s,l,f){if(void 0===s)r.targets().add(a);else{const d=f||{},h=new cn(null,function(e,r){return r=(0,E.mf)(r)?r:(0,E.a9)(r),e?function(a,s){const l=r(a,s);return e.skip()||(e.skip(l!==this.value).value=l),l}:r}(a,s),l,!1);h.modified(d.force),h.rank=r.rank,r.targets().add(h),a&&(h.skip(!0),h.value=a.value,h.targets().add(a),e.connect(a,[h]))}}const Us={};function lo(e,r,a){this.dataflow=e,this.stamp=null==r?-1:r,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=a||null}function y6(e,r){const a=[];return(0,E.FP)(e,r,s=>a.push(s)),a}function qs(e,r){const a={};return e.visit(r,s=>{a[Le(s)]=1}),s=>a[Le(s)]?null:s}function O7(e,r){return e?(a,s)=>e(a,s)&&r(a,s):r}function lT(e,r,a,s){const l=this,f=a.length;let d=0;this.dataflow=e,this.stamp=r,this.fields=null,this.encode=s||null,this.pulses=a;for(let h=0;h<f;++h){const p=a[h];if(p.stamp===r){if(p.fields){const v=l.fields||(l.fields={});for(const _ in p.fields)v[_]=1}p.changed(l.ADD)&&(d|=l.ADD),p.changed(l.REM)&&(d|=l.REM),p.changed(l.MOD)&&(d|=l.MOD)}}this.changes=d}function qy(){return qy=(0,_i.Z)(function*(e,r,a){const s=this,l=[];if(s._pulse)return dT(s);if(s._pending&&(yield s._pending),r&&(yield gc(s,r)),!s._touched.length)return s.debug("Dataflow invoked, but nothing to do."),s;const f=++s._clock;s._pulse=new lo(s,f,e),s._touched.forEach(_=>s._enqueue(_,!0)),s._touched=pc(E.id);let h,p,v,d=0;try{for(;s._heap.size()>0;)h=s._heap.pop(),h.rank===h.qrank?(p=h.run(s._getPulse(h,e)),p.then?p=yield p:p.async&&(l.push(p.async),p=Us),p!==Us&&h._targets&&h._targets.forEach(_=>s._enqueue(_)),++d):s._enqueue(h,!0)}catch(_){s._heap.clear(),v=_}if(s._input={},s._pulse=null,s.debug(`Pulse ${f}: ${d} operators`),v&&(s._postrun=[],s.error(v)),s._postrun.length){const _=s._postrun.sort((y,C)=>C.priority-y.priority);s._postrun=[];for(let y=0;y<_.length;++y)yield gc(s,_[y].callback)}return a&&(yield gc(s,a)),l.length&&Promise.all(l).then(_=>s.runAsync(null,()=>{_.forEach(y=>{try{y(s)}catch(C){s.error(C)}})})),s}),qy.apply(this,arguments)}function be(){return be=(0,_i.Z)(function*(e,r,a){for(;this._running;)yield this._running;const s=()=>this._running=null;return(this._running=this.evaluate(e,r,a)).then(s,s),this._running}),be.apply(this,arguments)}function dT(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}lo.prototype={StopPropagation:Us,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(e){return new lo(this.dataflow).init(this,e)},clone(){const e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new lo(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,r){const a=this;return a.stamp=e.stamp,a.encode=e.encode,e.fields&&!(64&r)&&(a.fields=e.fields),1&r?(a.addF=e.addF,a.add=e.add):(a.addF=null,a.add=[]),2&r?(a.remF=e.remF,a.rem=e.rem):(a.remF=null,a.rem=[]),4&r?(a.modF=e.modF,a.mod=e.mod):(a.modF=null,a.mod=[]),32&r?(a.srcF=null,a.source=null):(a.srcF=e.srcF,a.source=e.source,e.cleans&&(a.cleans=e.cleans)),a},runAfter(e){this.dataflow.runAfter(e)},changed(e){const r=e||7;return 1&r&&this.add.length||2&r&&this.rem.length||4&r&&this.mod.length},reflow(e){if(e)return this.fork(7).reflow();const r=this.add.length,a=this.source&&this.source.length;return a&&a!==r&&(this.mod=this.source,r&&this.filter(4,qs(this,1))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const r=this.fields||(this.fields={});return(0,E.kJ)(e)?e.forEach(a=>r[a]=!0):r[e]=!0,this},modified(e,r){const a=this.fields;return!(!r&&!this.mod.length||!a)&&(arguments.length?(0,E.kJ)(e)?e.some(s=>a[s]):a[e]:!!a)},filter(e,r){const a=this;return 1&e&&(a.addF=O7(a.addF,r)),2&e&&(a.remF=O7(a.remF,r)),4&e&&(a.modF=O7(a.modF,r)),16&e&&(a.srcF=O7(a.srcF,r)),a},materialize(e){const r=this;return 1&(e=e||7)&&r.addF&&(r.add=y6(r.add,r.addF),r.addF=null),2&e&&r.remF&&(r.rem=y6(r.rem,r.remF),r.remF=null),4&e&&r.modF&&(r.mod=y6(r.mod,r.modF),r.modF=null),16&e&&r.srcF&&(r.source=r.source.filter(r.srcF),r.srcF=null),r},visit(e,r){const a=this,s=r;if(16&e)return(0,E.FP)(a.source,a.srcF,s),a;1&e&&(0,E.FP)(a.add,a.addF,s),2&e&&(0,E.FP)(a.rem,a.remF,s),4&e&&(0,E.FP)(a.mod,a.modF,s);const l=a.source;if(8&e&&l){const f=a.add.length+a.mod.length;f===l.length||(0,E.FP)(l,f?qs(a,5):a.srcF,s)}return a}},(0,E.XW)(lT,lo,{fork(e){const r=new lo(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&r.ADD&&this.visit(r.ADD,a=>r.add.push(a)),e&r.REM&&this.visit(r.REM,a=>r.rem.push(a)),e&r.MOD&&this.visit(r.MOD,a=>r.mod.push(a))),r},changed(e){return this.changes&e},modified(e){const r=this,a=r.fields;return a&&r.changes&r.MOD?(0,E.kJ)(e)?e.some(s=>a[s]):a[e]:0},filter(){(0,E.vU)("MultiPulse does not support filtering.")},materialize(){(0,E.vU)("MultiPulse does not support materialization.")},visit(e,r){const a=this,s=a.pulses,l=s.length;let f=0;if(e&a.SOURCE)for(;f<l;++f)s[f].visit(e,r);else for(;f<l;++f)s[f].stamp===a.stamp&&s[f].visit(e,r);return a}});const Wy={skip:!1,force:!1};function o0(e,r,a,s){let l,f;const d=e[a];for(;a>r&&(f=a-1>>1,l=e[f],s(d,l)<0);)e[a]=l,a=f;return e[a]=d}function C6(){this.logger((0,E.kg)()),this.logLevel(E.jj),this._clock=0,this._rank=0,this._locale=function(e,r){const a=arguments.length;return a&&2!==a&&(0,E.vU)("defaultLocale expects either zero or two arguments."),a?Sf(Af(e),kn(r)):Sf(Af(),kn())}();try{this._loader=Ql()}catch(e){}this._touched=pc(E.id),this._input={},this._pulse=null,this._heap=function(e){let r=[];return{clear:()=>r=[],size:()=>r.length,peek:()=>r[0],push:a=>(r.push(a),o0(r,0,r.length-1,e)),pop:()=>{const a=r.pop();let s;return r.length?(s=r[0],r[0]=a,function(e,r,a){const s=r,l=e.length,f=e[r];let h,d=1+(r<<1);for(;d<l;)h=d+1,h<l&&a(e[d],e[h])>=0&&(d=h),e[r]=e[d],d=1+((r=d)<<1);e[r]=f,o0(e,s,r,a)}(r,0,e)):s=a,s}}}((e,r)=>e.qrank-r.qrank),this._postrun=[]}function Ri(e){return function(){return this._log[e].apply(this,arguments)}}function te(e,r){cn.call(this,e,null,r)}C6.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:Ri("error"),warn:Ri("warn"),info:Ri("info"),debug:Ri("debug"),logLevel:Ri("level"),cleanThreshold:1e4,add:function(e,r,a,s){let f,l=1;return e instanceof cn?f=e:e&&e.prototype instanceof cn?f=new e:(0,E.mf)(e)?f=new cn(null,e):(l=0,f=new cn(e,r)),this.rank(f),l&&(s=a,a=r),a&&this.connect(f,f.parameters(a,s)),this.touch(f),f},connect:function(e,r){const a=e.rank,s=r.length;for(let l=0;l<s;++l)if(a<r[l].rank)return void this.rerank(e)},rank:function(e){e.rank=++this._rank},rerank:function(e){const r=[e];let a,s,l;for(;r.length;)if(this.rank(a=r.pop()),s=a._targets)for(l=s.length;--l>=0;)r.push(a=s[l]),a===e&&(0,E.vU)("Cycle detected in dataflow graph.")},pulse:function(e,r,a){this.touch(e,a||Wy);const s=new lo(this,this._clock+(this._pulse?0:1)),l=e.pulse&&e.pulse.source||[];return s.target=e,this._input[e.id]=r.pulse(s,l),this},touch:function(e,r){const a=r||Wy;return this._pulse?this._enqueue(e):this._touched.add(e),a.skip&&e.skip(!0),this},update:function(e,r,a){const s=a||Wy;return(e.set(r)||s.force)&&this.touch(e,s),this},changeset:e0,ingest:function(e,r,a){return r=this.parse(r,a),this.pulse(e,this.changeset().insert(r))},parse:function(e,r){const a=this.locale();return eT(e,r,a.timeParse,a.utcParse)},preload:function(e,r,a){return n0.apply(this,arguments)},request:function(e,r){return _6.apply(this,arguments)},events:function(e,r,a,s){const l=this,f=Ba(a,s),d=function(v){v.dataflow=l;try{f.receive(v)}catch(_){l.error(_)}finally{l.run()}};let h;h="string"==typeof e&&"undefined"!=typeof document?document.querySelectorAll(e):(0,E.IX)(e);const p=h.length;for(let v=0;v<p;++v)h[v].addEventListener(r,d);return f},on:function(e,r,a,s,l){return(e instanceof cn?$y:Uy)(this,e,r,a,s,l),this},evaluate:function(e,r,a){return qy.apply(this,arguments)},run:function(e,r,a){return this._pulse?dT(this):(this.evaluate(e,r,a),this)},runAsync:function(e,r,a){return be.apply(this,arguments)},runAfter:function(e,r,a){if(this._pulse||r)this._postrun.push({priority:a||0,callback:e});else try{e(this)}catch(s){this.error(s)}},_enqueue:function(e,r){const a=e.stamp<this._clock;a&&(e.stamp=this._clock),(a||r)&&(e.qrank=e.rank,this._heap.push(e))},_getPulse:function(e,r){const a=e.source,s=this._clock;return a&&(0,E.kJ)(a)?new lT(this,s,a.map(l=>l.pulse),r):this._input[e.id]||function(e,r){return r&&r.stamp===e.stamp?r:(e=e.fork(),r&&r!==Us&&(e.source=r.source),e)}(this._pulse,a&&a.pulse)}},(0,E.XW)(te,cn,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let r;return this.skip()?this.skip(!1):r=this.evaluate(e),r=r||e,r.then?r=r.then(a=>this.pulse=a):r!==e.StopPropagation&&(this.pulse=r),r},evaluate(e){const r=this.marshall(e.stamp),a=this.transform(r,e);return r.clear(),a},transform(){}});const Ws={};function Xs(e,r){let a;if(void 0===r)for(const s of e)null!=s&&(a<s||void 0===a&&s>=s)&&(a=s);else{let s=-1;for(let l of e)null!=(l=r(l,++s,e))&&(a<l||void 0===a&&l>=l)&&(a=l)}return a}function H7(e,r){let a;if(void 0===r)for(const s of e)null!=s&&(a>s||void 0===a&&s>=s)&&(a=s);else{let s=-1;for(let l of e)null!=(l=r(l,++s,e))&&(a>l||void 0===a&&l>=l)&&(a=l)}return a}function Gy(e,r,a=0,s=e.length-1,l=Ut){for(;s>a;){if(s-a>600){const p=s-a+1,v=r-a+1,_=Math.log(p),y=.5*Math.exp(2*_/3),C=.5*Math.sqrt(_*y*(p-y)/p)*(v-p/2<0?-1:1);Gy(e,r,Math.max(a,Math.floor(r-v*y/p+C)),Math.min(s,Math.floor(r+(p-v)*y/p+C)),l)}const f=e[r];let d=a,h=s;for(Vf(e,a,r),l(e[s],f)>0&&Vf(e,a,s);d<h;){for(Vf(e,d,h),++d,--h;l(e[d],f)<0;)++d;for(;l(e[h],f)>0;)--h}0===l(e[a],f)?Vf(e,a,h):(++h,Vf(e,h,s)),h<=r&&(a=h+1),r<=h&&(s=h-1)}return e}function Vf(e,r,a){const s=e[r];e[r]=e[a],e[a]=s}function hT(e){return null===e?NaN:+e}function cr(e,r,a){if(e=Float64Array.from(function*(e,r){if(void 0===r)for(let a of e)null!=a&&(a=+a)>=a&&(yield a);else{let a=-1;for(let s of e)null!=(s=r(s,++a,e))&&(s=+s)>=s&&(yield s)}}(e,a)),s=e.length){if((r=+r)<=0||s<2)return H7(e);if(r>=1)return Xs(e);var s,l=(s-1)*r,f=Math.floor(l),d=Xs(Gy(e,f).subarray(0,f+1));return d+(H7(e.subarray(f+1))-d)*(l-f)}}function Of(e,r,a=hT){if(s=e.length){if((r=+r)<=0||s<2)return+a(e[0],0,e);if(r>=1)return+a(e[s-1],s-1,e);var s,l=(s-1)*r,f=Math.floor(l),d=+a(e[f],f,e);return d+(+a(e[f+1],f+1,e)-d)*(l-f)}}function B7(e,r){return cr(e,.5,r)}function*Yy(e,r){if(null==r)for(let a of e)null!=a&&""!==a&&(a=+a)>=a&&(yield a);else{let a=-1;for(let s of e)s=r(s,++a,e),null!=s&&""!==s&&(s=+s)>=s&&(yield s)}}function Zy(e,r,a){const s=Float64Array.from(Yy(e,a));return s.sort(Ut),r.map(l=>Of(s,l))}function Ky(e,r){return Zy(e,[.25,.5,.75],r)}function Qy(e,r){const a=e.length,s=function(e,r){const a=function(e,r){let s,a=0,l=0,f=0;if(void 0===r)for(let d of e)null!=d&&(d=+d)>=d&&(s=d-l,l+=s/++a,f+=s*(d-l));else{let d=-1;for(let h of e)null!=(h=r(h,++d,e))&&(h=+h)>=h&&(s=h-l,l+=s/++a,f+=s*(h-l))}if(a>1)return f/(a-1)}(e,r);return a&&Math.sqrt(a)}(e,r),l=Ky(e,r);return 1.06*(Math.min(s,(l[2]-l[0])/1.34)||s||Math.abs(l[0])||1)*Math.pow(a,-.2)}var lr=Math.random;function b$(e,r,a,s){s=s||(C=>C);const l=e.length,f=new Float64Array(l);let y,d=0,h=1,p=s(e[0]),v=p,_=p+r;for(;h<l;++h){if(y=s(e[h]),y>=_){for(v=(p+v)/2;d<h;++d)f[d]=v;_=y+r,p=y}v=y}for(v=(p+v)/2;d<h;++d)f[d]=v;return a?function(e,r){const a=e.length;let f,d,s=0,l=1;for(;e[s]===e[l];)++l;for(;l<a;){for(f=l+1;e[l]===e[f];)++f;if(e[l]-e[l-1]<r){for(d=l+(s+f-l-l>>1);d<l;)e[d++]=e[l];for(;d>l;)e[d--]=e[s]}s=l,l=f}return e}(f,r+r/4):f}const tb=Math.sqrt(2*Math.PI),pT=Math.SQRT2;let w6=NaN;function E6(e,r){e=e||0,r=null==r?1:r;let l,f,a=0,s=0;if(w6==w6)a=w6,w6=NaN;else{do{a=2*lr()-1,s=2*lr()-1,l=a*a+s*s}while(0===l||l>1);f=Math.sqrt(-2*Math.log(l)/l),a*=f,w6=s*f}return e+a*r}function Hf(e,r,a){const s=(e-(r||0))/(a=null==a?1:a);return Math.exp(-.5*s*s)/(a*tb)}function wc(e,r,a){const s=(e-(r=r||0))/(a=null==a?1:a),l=Math.abs(s);let f;if(l>37)f=0;else{const d=Math.exp(-l*l/2);let h;l<7.07106781186547?(h=.0352624965998911*l+.700383064443688,h=h*l+6.37396220353165,h=h*l+33.912866078383,h=h*l+112.079291497871,h=h*l+221.213596169931,h=h*l+220.206867912376,f=d*h,h=.0883883476483184*l+1.75566716318264,h=h*l+16.064177579207,h=h*l+86.7807322029461,h=h*l+296.564248779674,h=h*l+637.333633378831,h=h*l+793.826512519948,h=h*l+440.413735824752,f/=h):(h=l+.65,h=l+4/h,h=l+3/h,h=l+2/h,h=l+1/h,f=d/h/2.506628274631)}return s>0?1-f:f}function Ys(e,r,a){return e<0||e>1?NaN:(r||0)+(null==a?1:a)*pT*function(e){let a,r=-Math.log((1-e)*(1+e));return r<6.25?(r-=3.125,a=-364441206401782e-35,a=a*r-16850591381820166e-35,a=128584807152564e-32+a*r,a=11157877678025181e-33+a*r,a=a*r-1333171662854621e-31,a=20972767875968562e-33+a*r,a=6637638134358324e-30+a*r,a=a*r-4054566272975207e-29,a=a*r-8151934197605472e-29,a=26335093153082323e-28+a*r,a=a*r-12975133253453532e-27,a=a*r-5415412054294628e-26,a=1.0512122733215323e-9+a*r,a=a*r-4.112633980346984e-9,a=a*r-2.9070369957882005e-8,a=4.2347877827932404e-7+a*r,a=a*r-13654692000834679e-22,a=a*r-13882523362786469e-21,a=.00018673420803405714+a*r,a=a*r-.000740702534166267,a=a*r-.006033670871430149,a=.24015818242558962+a*r,a=1.6536545626831027+a*r):r<16?(r=Math.sqrt(r)-3.25,a=2.2137376921775787e-9,a=9.075656193888539e-8+a*r,a=a*r-2.7517406297064545e-7,a=1.8239629214389228e-8+a*r,a=15027403968909828e-22+a*r,a=a*r-4013867526981546e-21,a=29234449089955446e-22+a*r,a=12475304481671779e-21+a*r,a=a*r-47318229009055734e-21,a=6828485145957318e-20+a*r,a=24031110387097894e-21+a*r,a=a*r-.0003550375203628475,a=.0009532893797373805+a*r,a=a*r-.0016882755560235047,a=.002491442096107851+a*r,a=a*r-.003751208507569241,a=.005370914553590064+a*r,a=1.0052589676941592+a*r,a=3.0838856104922208+a*r):Number.isFinite(r)?(r=Math.sqrt(r)-5,a=-27109920616438573e-27,a=a*r-2.555641816996525e-10,a=1.5076572693500548e-9+a*r,a=a*r-3.789465440126737e-9,a=7.61570120807834e-9+a*r,a=a*r-1.496002662714924e-8,a=2.914795345090108e-8+a*r,a=a*r-6.771199775845234e-8,a=2.2900482228026655e-7+a*r,a=a*r-9.9298272942317e-7,a=4526062597223154e-21+a*r,a=a*r-1968177810553167e-20,a=7599527703001776e-20+a*r,a=a*r-.00021503011930044477,a=a*r-.00013871931833623122,a=1.0103004648645344+a*r,a=4.849906401408584+a*r):a=1/0,a*e}(2*e-1)}function ce(e,r){let a,s;const l={mean(f){return arguments.length?(a=f||0,l):a},stdev(f){return arguments.length?(s=null==f?1:f,l):s},sample:()=>E6(a,s),pdf:f=>Hf(f,a,s),cdf:f=>wc(f,a,s),icdf:f=>Ys(f,a,s)};return l.mean(e).stdev(r)}function j7(e,r){const a=ce();let s=0;const l={data(f){return arguments.length?(e=f,s=f?f.length:0,l.bandwidth(r)):e},bandwidth(f){return arguments.length?(!(r=f)&&e&&(r=Qy(e)),l):r},sample:()=>e[~~(lr()*s)]+r*a.sample(),pdf(f){let d=0,h=0;for(;h<s;++h)d+=a.pdf((f-e[h])/r);return d/r/s},cdf(f){let d=0,h=0;for(;h<s;++h)d+=a.cdf((f-e[h])/r);return d/s},icdf(){throw Error("KDE icdf not supported.")}};return l.data(e)}function Bf(e,r){return e=e||0,r=null==r?1:r,Math.exp(e+E6()*r)}function Zs(e,r,a){if(e<=0)return 0;r=r||0,a=null==a?1:a;const s=(Math.log(e)-r)/a;return Math.exp(-.5*s*s)/(a*tb*e)}function s0(e,r,a){return wc(Math.log(e),r,a)}function nb(e,r,a){return Math.exp(Ys(e,r,a))}function c0(e,r){return null==r&&(r=null==e?1:e,e=0),e+(r-e)*lr()}function Lr(e,r,a){return null==a&&(a=null==r?1:r,r=0),e>=r&&e<=a?1/(a-r):0}function D6(e,r,a){return null==a&&(a=null==r?1:r,r=0),e<r?0:e>a?1:(e-r)/(a-r)}function Ua(e,r,a){return null==a&&(a=null==r?1:r,r=0),e>=0&&e<=1?r+e*(a-r):NaN}function l0(e,r,a,s){const l=s-e*e,f=Math.abs(l)<1e-24?0:(a-e*r)/l;return[r-f*e,f]}function u0(e,r,a,s){e=e.filter(M=>{let w=r(M),A=a(M);return null!=w&&(w=+w)>=w&&null!=A&&(A=+A)>=A}),s&&e.sort((M,w)=>r(M)-r(w));const l=e.length,f=new Float64Array(l),d=new Float64Array(l);let _,y,C,h=0,p=0,v=0;for(C of e)f[h]=_=+r(C),d[h]=y=+a(C),++h,p+=(_-p)/h,v+=(y-v)/h;for(h=0;h<l;++h)f[h]-=p,d[h]-=v;return[f,d,p,v]}function Ks(e,r,a,s){let f,d,l=-1;for(const h of e)f=r(h),d=a(h),null!=f&&(f=+f)>=f&&null!=d&&(d=+d)>=d&&s(f,d,++l)}function Ec(e,r,a,s,l){let f=0,d=0;return Ks(e,r,a,(h,p)=>{const v=p-l(h),_=p-s;f+=v*v,d+=_*_}),1-f/d}function ob(e,r,a){let s=0,l=0,f=0,d=0,h=0;Ks(e,r,a,(_,y)=>{++h,s+=(_-s)/h,l+=(y-l)/h,f+=(_*y-f)/h,d+=(_*_-d)/h});const p=l0(s,l,f,d),v=_=>p[0]+p[1]*_;return{coef:p,predict:v,rSquared:Ec(e,r,a,l,v)}}function ab(e,r,a){const[s,l,f,d]=u0(e,r,a),h=s.length;let M,w,A,S,p=0,v=0,_=0,y=0,C=0;for(M=0;M<h;)w=s[M],A=l[M++],S=w*w,p+=(S-p)/M,v+=(S*w-v)/M,_+=(S*S-_)/M,y+=(w*A-y)/M,C+=(S*A-C)/M;const T=_-p*p,N=p*T-v*v,I=(C*p-y*v)/N,F=(y*T-C*v)/N,O=-I*p,P=V=>I*(V-=f)*V+F*V+O+d;return{coef:[O-F*f+I*f*f+d,F-2*I*f,I],predict:P,rSquared:Ec(e,r,a,d,P)}}function sb(e,r,a,s){const l=Array(e);let f,d,h,p;for(f=0;f<e;++f)l[f]=0;for(f=e-1;f>=0;--f)for(h=r[f],p=1,l[f]+=h,d=1;d<=f;++d)p*=(f+1-d)/d,l[f-d]+=h*Math.pow(a,d)*p;return l[0]+=s,l}function xT(e){return(e=1-e*e*e)*e*e}function jf(e,r,a){const s=e[r];let l=a[0],f=a[1]+1;if(!(f>=e.length))for(;r>l&&e[f]-s<=s-e[l];)a[0]=++l,a[1]=f,++f}const d0=.5*Math.PI/180;function $7(e,r,a,s){a=a||25,s=Math.max(a,s||200);const l=A=>[A,e(A)],f=r[0],d=r[1],h=d-f,p=h/s,v=[l(f)],_=[];if(a===s){for(let A=1;A<s;++A)v.push(l(f+A/a*h));return v.push(l(d)),v}_.push(l(d));for(let A=a;--A>0;)_.push(l(f+A/a*h));let y=v[0],C=_[_.length-1];const M=1/h,w=function(e,r){let a=e,s=e;const l=r.length;for(let f=0;f<l;++f){const d=r[f][1];d<a&&(a=d),d>s&&(s=d)}return 1/(s-a)}(y[1],_);for(;C;){const A=l((y[0]+C[0])/2);A[0]-y[0]>=p&&x$(y,A,C,M,w)>d0?_.push(A):(y=C,v.push(C),_.pop()),C=_[_.length-1]}return v}function x$(e,r,a,s,l){const f=Math.atan2(l*(a[1]-e[1]),s*(a[0]-e[0])),d=Math.atan2(l*(r[1]-e[1]),s*(r[0]-e[0]));return Math.abs(f-d)}function ur(e,r,a){e=+e,r=+r,a=(l=arguments.length)<2?(r=e,e=0,1):l<3?1:+a;for(var s=-1,l=0|Math.max(0,Math.ceil((r-e)/a)),f=new Array(l);++s<l;)f[s]=e+s*a;return f}function $f(e){return e&&e.length?1===e.length?e[0]:function(e){return r=>{const a=e.length;let s=1,l=String(e[0](r));for(;s<a;++s)l+="|"+e[s](r);return l}}(e):function(){return""}}function q7(e,r,a){return a||e+(r?"_"+r:"")}const $a=()=>{},wT={init:$a,add:$a,rem:$a,idx:0},S6={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.sum,add:(e,r)=>e.sum+=+r,rem:(e,r)=>e.sum-=r},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,r)=>e.product*=r,rem:(e,r)=>e.product/=r},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,r)=>(e.mean_d=r-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,r)=>(e.mean_d=r-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,r)=>e.dev+=e.mean_d*(r-e.mean),rem:(e,r)=>e.dev-=e.mean_d*(r-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,r)=>{(r<e.min||void 0===e.min)&&(e.min=r)},rem:(e,r)=>{r<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,r)=>{(r>e.max||void 0===e.max)&&(e.max=r)},rem:(e,r)=>{r>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,r,a)=>{r<e.min&&(e.argmin=a)},rem:(e,r)=>{r<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,r,a)=>{r>e.max&&(e.argmax=a)},rem:(e,r)=>{r>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},k6=Object.keys(S6);function ub(e,r){return S6[e](r)}function Fr(e,r){return e.idx-r.idx}function fb(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.init(this))}function DT(e,r){null!=e&&""!==e?e==e&&(++this.valid,this._ops.forEach(a=>a.add(this,e,r))):++this.missing}function AT(e,r){null!=e&&""!==e?e==e&&(--this.valid,this._ops.forEach(a=>a.rem(this,e,r))):--this.missing}function ST(e){return this._out.forEach(r=>e[r.out]=r.value(this)),e}function db(e,r){const a=r||E.yR,s=function(e){const r={};e.forEach(s=>r[s.name]=s);const a=s=>{!s.req||s.req.forEach(l=>{r[l]||a(r[l]=S6[l]())})};return e.forEach(a),Object.values(r).sort(Fr)}(e),l=e.slice().sort(Fr);function f(d){this._ops=s,this._out=l,this.cell=d,this.init()}return f.prototype.init=fb,f.prototype.add=DT,f.prototype.rem=AT,f.prototype.set=ST,f.prototype.get=a,f.fields=e.map(d=>d.out),f}function W7(e){this._key=e?(0,E.EP)(e):Le,this.reset()}k6.forEach(e=>{S6[e]=function(e,r){return a=>(0,E.l7)({name:e,out:a||e},wT,r)}(e,S6[e])});const oi=W7.prototype;function Qs(e){te.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}function G7(e){te.call(this,null,e)}function hb(e,r,a){const s=e;let l=r||[],f=a||[],d={},h=0;return{add:p=>f.push(p),remove:p=>d[s(p)]=++h,size:()=>l.length,data:(p,v)=>(h&&(l=l.filter(_=>!d[s(_)]),d={},h=0),v&&p&&l.sort(p),f.length&&(l=p?(0,E.TS)(p,l,f.sort(p)):l.concat(f),f=[]),l)}}function mb(e){te.call(this,[],e)}function pb(e){cn.call(this,null,T6,e)}function T6(e){return this.value&&!e.modified()?this.value:(0,E.qu)(e.fields,e.orders)}function qf(e){te.call(this,null,e)}function Dc(e){te.call(this,null,e)}oi.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},oi.add=function(e){this._add.push(e)},oi.rem=function(e){this._rem.push(e)},oi.values=function(){if(this._get=null,0===this._rem.length)return this._add;const e=this._add,r=this._rem,a=this._key,s=e.length,l=r.length,f=Array(s-l),d={};let h,p,v;for(h=0;h<l;++h)d[a(r[h])]=1;for(h=0,p=0;h<s;++h)d[a(v=e[h])]?d[a(v)]=0:f[p++]=v;return this._rem=[],this._add=f},oi.distinct=function(e){const r=this.values(),a={};let f,s=r.length,l=0;for(;--s>=0;)f=e(r[s])+"",(0,E.nr)(a,f)||(a[f]=1,++l);return l},oi.extent=function(e){if(this._get!==e||!this._ext){const r=this.values(),a=(0,E.dI)(r,e);this._ext=[r[a[0]],r[a[1]]],this._get=e}return this._ext},oi.argmin=function(e){return this.extent(e)[0]||{}},oi.argmax=function(e){return this.extent(e)[1]||{}},oi.min=function(e){const r=this.extent(e)[0];return null!=r?e(r):void 0},oi.max=function(e){const r=this.extent(e)[1];return null!=r?e(r):void 0},oi.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=Ky(this.values(),e),this._get=e),this._q},oi.q1=function(e){return this.quartile(e)[0]},oi.q2=function(e){return this.quartile(e)[1]},oi.q3=function(e){return this.quartile(e)[2]},oi.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=function(e,r,a,s){if(!e.length)return[void 0,void 0];const l=Float64Array.from(Yy(e,s)),f=l.length;let h,p,v,_;for(v=0,_=Array(1e3);v<1e3;++v){for(h=0,p=0;p<f;++p)h+=l[~~(lr()*f)];_[v]=h/f}return _.sort(Ut),[cr(_,.025),cr(_,.975)]}(this.values(),0,0,e),this._get=e),this._ci},oi.ci0=function(e){return this.ci(e)[0]},oi.ci1=function(e){return this.ci(e)[1]},Qs.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:k6},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},(0,E.XW)(Qs,te,{transform(e,r){const a=this,s=r.fork(r.NO_SOURCE|r.NO_FIELDS),l=e.modified();return a.stamp=s.stamp,a.value&&(l||r.modified(a._inputs,!0))?(a._prev=a.value,a.value=l?a.init(e):{},r.visit(r.SOURCE,f=>a.add(f))):(a.value=a.value||a.init(e),r.visit(r.REM,f=>a.rem(f)),r.visit(r.ADD,f=>a.add(f))),s.modifies(a._outputs),a._drop=!1!==e.drop,e.cross&&a._dims.length>1&&(a._drop=!1,a.cross()),r.clean()&&a._drop&&s.clean(!0).runAfter(()=>this.clean()),a.changes(s)},cross(){const e=this,r=e.value,a=e._dnames,s=a.map(()=>({})),l=a.length;function f(h){let p,v,_,y;for(p in h)for(_=h[p].tuple,v=0;v<l;++v)s[v][y=_[a[v]]]=y}f(e._prev),f(r),function d(h,p,v){const _=a[v],y=s[v++];for(const C in y){const M=h?h+"|"+C:C;p[_]=y[C],v<l?d(M,p,v):r[M]||e.cell(M,p)}}("",{},0)},init(e){const r=this._inputs=[],a=this._outputs=[],s={};function l(S){const T=(0,E.IX)((0,E.Oj)(S)),N=T.length;let F,I=0;for(;I<N;++I)s[F=T[I]]||(s[F]=1,r.push(F))}this._dims=(0,E.IX)(e.groupby),this._dnames=this._dims.map(S=>{const T=(0,E.el)(S);return l(S),a.push(T),T}),this.cellkey=e.key?e.key:$f(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const f=e.fields||[null],d=e.ops||["count"],h=e.as||[],p=f.length,v={};let _,y,C,M,w,A;for(p!==d.length&&(0,E.vU)("Unmatched number of fields and aggregate ops."),A=0;A<p;++A)_=f[A],y=d[A],null==_&&"count"!==y&&(0,E.vU)("Null aggregate field specified."),M=(0,E.el)(_),w=q7(y,M,h[A]),a.push(w),"count"!==y?(C=v[M],C||(l(_),C=v[M]=[],C.field=_,this._measures.push(C)),"count"!==y&&(this._countOnly=!1),C.push(ub(y,w))):this._counts.push(w);return this._measures=this._measures.map(S=>db(S,S.field)),{}},cellkey:$f(),cell(e,r){let a=this.value[e];return a?0===a.num&&this._drop&&a.stamp<this.stamp?(a.stamp=this.stamp,this._adds[this._alen++]=a):a.stamp<this.stamp&&(a.stamp=this.stamp,this._mods[this._mlen++]=a):(a=this.value[e]=this.newcell(e,r),this._adds[this._alen++]=a),a},newcell(e,r){const a={key:e,num:0,agg:null,tuple:this.newtuple(r,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const s=this._measures,l=s.length;a.agg=Array(l);for(let f=0;f<l;++f)a.agg[f]=new s[f](a)}return a.store&&(a.data=new W7),a},newtuple(e,r){const a=this._dnames,s=this._dims,l=s.length,f={};for(let d=0;d<l;++d)f[a[d]]=s[d](e);return r?Oy(r.tuple,f):$t(f)},clean(){const e=this.value;for(const r in e)0===e[r].num&&delete e[r]},add(e){const r=this.cellkey(e),a=this.cell(r,e);if(a.num+=1,this._countOnly)return;a.store&&a.data.add(e);const s=a.agg;for(let l=0,f=s.length;l<f;++l)s[l].add(s[l].get(e),e)},rem(e){const r=this.cellkey(e),a=this.cell(r,e);if(a.num-=1,this._countOnly)return;a.store&&a.data.rem(e);const s=a.agg;for(let l=0,f=s.length;l<f;++l)s[l].rem(s[l].get(e),e)},celltuple(e){const r=e.tuple,a=this._counts;e.store&&e.data.values();for(let s=0,l=a.length;s<l;++s)r[a[s]]=e.num;if(!this._countOnly){const s=e.agg;for(let l=0,f=s.length;l<f;++l)s[l].set(r)}return r},changes(e){const r=this._adds,a=this._mods,s=this._prev,l=this._drop,f=e.add,d=e.rem,h=e.mod;let p,v,_,y;if(s)for(v in s)p=s[v],(!l||p.num)&&d.push(p.tuple);for(_=0,y=this._alen;_<y;++_)f.push(this.celltuple(r[_])),r[_]=null;for(_=0,y=this._mlen;_<y;++_)p=a[_],(0===p.num&&l?d:h).push(this.celltuple(p)),a[_]=null;return this._alen=this._mlen=0,this._prev=null,e}}),G7.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},(0,E.XW)(G7,te,{transform(e,r){const a=!1!==e.interval,s=this._bins(e),l=s.start,f=s.step,d=e.as||["bin0","bin1"],h=d[0],p=d[1];let v;return v=e.modified()?(r=r.reflow(!0)).SOURCE:r.modified((0,E.Oj)(e.field))?r.ADD_MOD:r.ADD,r.visit(v,a?_=>{const y=s(_);_[h]=y,_[p]=null==y?null:l+f*(1+(y-l)/f)}:_=>_[h]=s(_)),r.modifies(a?d:h)},_bins(e){if(this.value&&!e.modified())return this.value;const r=e.field,a=function(e){const r=e.maxbins||20,a=e.base||10,s=Math.log(a),l=e.divide||[5,2];let h,p,v,_,y,C,f=e.extent[0],d=e.extent[1];const M=e.span||d-f||Math.abs(f)||1;if(e.step)h=e.step;else if(e.steps){for(_=M/r,y=0,C=e.steps.length;y<C&&e.steps[y]<_;++y);h=e.steps[Math.max(0,y-1)]}else{for(p=Math.ceil(Math.log(r)/s),v=e.minstep||0,h=Math.max(v,Math.pow(a,Math.round(Math.log(M)/s)-p));Math.ceil(M/h)>r;)h*=a;for(y=0,C=l.length;y<C;++y)_=h/l[y],_>=v&&M/_<=r&&(h=_)}_=Math.log(h);const A=Math.pow(a,-(_>=0?0:1+~~(-_/s))-1);return(e.nice||void 0===e.nice)&&(_=Math.floor(f/h+A)*h,f=f<_?_-h:_,d=Math.ceil(d/h)*h),{start:f,stop:d===f?f+h:d,step:h}}(e),s=a.step;let d,h,l=a.start,f=l+Math.ceil((a.stop-l)/s)*s;null!=(d=e.anchor)&&(h=d-(l+s*Math.floor((d-l)/s)),l+=h,f+=h);const p=function(v){let _=(0,E.He)(r(v));return null==_?null:_<l?-1/0:_>f?1/0:(_=Math.max(l,Math.min(_,f-s)),l+s*Math.floor(1e-14+(_-l)/s))};return p.start=l,p.stop=a.stop,p.step=s,this.value=(0,E.ZE)(p,(0,E.Oj)(r),e.name||"bin_"+(0,E.el)(r))}}),mb.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},(0,E.XW)(mb,te,{transform(e,r){const a=r.fork(r.ALL),s=hb(Le,this.value,a.materialize(a.ADD).add),l=e.sort,f=r.changed()||l&&(e.modified("sort")||r.modified(l.fields));return a.visit(a.REM,s.remove),this.modified(f),this.value=a.source=s.data(_c(l),f),r.source&&r.source.root&&(this.value.root=r.source.root),a}}),(0,E.XW)(pb,cn),qf.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},(0,E.XW)(qf,te,{transform(e,r){const a=y=>C=>{for(var w,M=function(e,r,a){switch(r){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(a)}(h(C),e.case,f)||[],A=0,S=M.length;A<S;++A)d.test(w=M[A])||y(w)},s=this._parameterCheck(e,r),l=this._counts,f=this._match,d=this._stop,h=e.field,p=e.as||["text","count"],v=a(y=>l[y]=1+(l[y]||0)),_=a(y=>l[y]-=1);return s?r.visit(r.SOURCE,v):(r.visit(r.ADD,v),r.visit(r.REM,_)),this._finish(r,p)},_parameterCheck(e,r){let a=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),a=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),a=!0),(e.modified("field")||r.modified(e.field.fields))&&(a=!0),a&&(this._counts={}),a},_finish(e,r){const a=this._counts,s=this._tuples||(this._tuples={}),l=r[0],f=r[1],d=e.fork(e.NO_SOURCE|e.NO_FIELDS);let h,p,v;for(h in a)p=s[h],v=a[h]||0,!p&&v?(s[h]=p=$t({}),p[l]=h,p[f]=v,d.add.push(p)):0===v?(p&&d.rem.push(p),a[h]=null,s[h]=null):p[f]!==v&&(p[f]=v,d.mod.push(p));return d.modifies(r)}}),Dc.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},(0,E.XW)(Dc,te,{transform(e,r){const a=r.fork(r.NO_SOURCE),s=e.as||["a","b"],l=s[0],f=s[1],d=!this.value||r.changed(r.ADD_REM)||e.modified("as")||e.modified("filter");let h=this.value;return d?(h&&(a.rem=h),h=r.materialize(r.SOURCE).source,a.add=this.value=function(e,r,a,s){for(var p,v,l=[],f={},d=e.length,h=0;h<d;++h)for(f[r]=v=e[h],p=0;p<d;++p)f[a]=e[p],s(f)&&(l.push($t(f)),(f={})[r]=v);return l}(h,l,f,e.filter||E.yb)):a.mod=h,a.source=this.value,a.modifies(s)}});const X7={kde:j7,mixture:function(e,r){let s,a=0;const f={weights(d){return arguments.length?(s=function(d){const h=[];let v,p=0;for(v=0;v<a;++v)p+=h[v]=null==d[v]?1:+d[v];for(v=0;v<a;++v)h[v]/=p;return h}(r=d||[]),f):r},distributions(d){return arguments.length?(d?(a=d.length,e=d):(a=0,e=[]),f.weights(r)):e},sample(){const d=lr();let h=e[a-1],p=s[0],v=0;for(;v<a-1;p+=s[++v])if(d<p){h=e[v];break}return h.sample()},pdf(d){let h=0,p=0;for(;p<a;++p)h+=s[p]*e[p].pdf(d);return h},cdf(d){let h=0,p=0;for(;p<a;++p)h+=s[p]*e[p].cdf(d);return h},icdf(){throw Error("Mixture icdf not supported.")}};return f.distributions(e).weights(r)},normal:ce,lognormal:function(e,r){let a,s;const l={mean(f){return arguments.length?(a=f||0,l):a},stdev(f){return arguments.length?(s=null==f?1:f,l):s},sample:()=>Bf(a,s),pdf:f=>Zs(f,a,s),cdf:f=>s0(f,a,s),icdf:f=>nb(f,a,s)};return l.mean(e).stdev(r)},uniform:function(e,r){let a,s;const l={min(f){return arguments.length?(a=f||0,l):a},max(f){return arguments.length?(s=null==f?1:f,l):s},sample:()=>c0(a,s),pdf:f=>Lr(f,a,s),cdf:f=>D6(f,a,s),icdf:f=>Ua(f,a,s)};return null==r&&(r=null==e?1:e,e=0),l.min(e).max(r)}},TT="function";function zT(e,r){const a=e[TT];(0,E.nr)(X7,a)||(0,E.vU)("Unknown distribution function: "+a);const s=X7[a]();for(const l in e)"field"===l?s.data((e.from||r()).map(e[l])):"distributions"===l?s[l](e[l].map(f=>zT(f,r))):typeof s[l]===TT&&s[l](e[l]);return s}function z6(e){te.call(this,null,e)}const Wf=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}];function NT(e,r){return e?e.map((a,s)=>r[s]||(0,E.el)(a)):null}function Gf(e,r,a){const s=[],l=y=>y(p);let f,d,h,p,v,_;if(null==r)s.push(e.map(a));else for(f={},d=0,h=e.length;d<h;++d)p=e[d],v=r.map(l),_=f[v],_||(f[v]=_=[],_.dims=v,s.push(_)),_.push(a(p));return s}function Z7(e){te.call(this,null,e)}function yb(e){cn.call(this,null,bb,e),this.modified(!0)}function bb(e){const r=e.expr;return this.value&&!e.modified("expr")?this.value:(0,E.ZE)(a=>r(a,e),(0,E.Oj)(r),(0,E.el)(r))}function h0(e){te.call(this,[void 0,void 0],e)}function Xf(e,r){cn.call(this,e),this.parent=r,this.count=0}function m0(e){te.call(this,{},e),this._keys=(0,E.Xr)();const r=this._targets=[];r.active=0,r.forEach=a=>{for(let s=0,l=r.active;s<l;++s)a(r[s],s,r)}}function Cb(e){cn.call(this,null,Rt,e)}function Rt(e){return this.value&&!e.modified()?this.value:(0,E.kJ)(e.name)?(0,E.IX)(e.name).map(r=>(0,E.EP)(r)):(0,E.EP)(e.name,e.as)}function Yf(e){te.call(this,(0,E.Xr)(),e)}function K7(e){te.call(this,[],e)}function Js(e){te.call(this,[],e)}function Zf(e){te.call(this,null,e)}function xb(e){te.call(this,[],e)}z6.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Wf.concat({key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Wf},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,default:["value","density"]}]},(0,E.XW)(z6,te,{transform(e,r){const a=r.fork(r.NO_SOURCE|r.NO_FIELDS);if(!this.value||r.changed()||e.modified()){const s=zT(e.distribution,function(e){return()=>e.materialize(e.SOURCE).source}(r)),l=e.steps||e.minsteps||25,f=e.steps||e.maxsteps||200;let d=e.method||"pdf";"pdf"!==d&&"cdf"!==d&&(0,E.vU)("Invalid density method: "+d),!e.extent&&!s.data&&(0,E.vU)("Missing density extent parameter."),d=s[d];const h=e.as||["value","density"],v=$7(d,e.extent||(0,E.We)(s.data()),l,f).map(_=>{const y={};return y[h[0]]=_[0],y[h[1]]=_[1],$t(y)});this.value&&(a.rem=this.value),this.value=a.add=a.source=v}return a}}),Z7.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]},(0,E.XW)(Z7,te,{transform(e,r){if(this.value&&!e.modified()&&!r.changed())return r;const a=r.materialize(r.SOURCE).source,s=Gf(r.source,e.groupby,E.yR),l=e.smooth||!1,f=e.field,d=e.step||((e,r)=>(0,E.yP)((0,E.We)(e,r))/30)(a,f),h=_c((w,A)=>f(w)-f(A)),p=e.as||"bin",v=s.length;let M,_=1/0,y=-1/0,C=0;for(;C<v;++C){const w=s[C].sort(h);M=-1;for(const A of b$(w,d,l,f))A<_&&(_=A),A>y&&(y=A),w[++M][p]=A}return this.value={start:_,stop:y,step:d},r.reflow(!0).modifies(p)}}),(0,E.XW)(yb,cn),h0.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},(0,E.XW)(h0,te,{transform(e,r){const a=this.value,s=e.field,l=r.changed()||r.modified(s.fields)||e.modified("field");let f=a[0],d=a[1];if((l||null==f)&&(f=1/0,d=-1/0),r.visit(l?r.SOURCE:r.ADD,h=>{const p=(0,E.He)(s(h));null!=p&&(p<f&&(f=p),p>d&&(d=p))}),!Number.isFinite(f)||!Number.isFinite(d)){let h=(0,E.el)(s);h&&(h=` for field "${h}"`),r.dataflow.warn(`Infinite extent${h}: [${f}, ${d}]`),f=d=void 0}this.value=[f,d]}}),(0,E.XW)(Xf,cn,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}}),(0,E.XW)(m0,te,{activate(e){this._targets[this._targets.active++]=e},subflow(e,r,a,s){const l=this.value;let d,h,f=(0,E.nr)(l,e)&&l[e];return f?f.value.stamp<a.stamp&&(f.init(a),this.activate(f)):(h=s||(h=this._group[e])&&h.tuple,d=a.dataflow,f=new Xf(a.fork(a.NO_SOURCE),this),d.add(f).connect(r(d,e,h)),l[e]=f,this.activate(f)),f},clean(){const e=this.value;let r=0;for(const a in e)if(0===e[a].count){const s=e[a].detachSubflow;s&&s(),delete e[a],++r}if(r){const a=this._targets.filter(s=>s&&s.count>0);this.initTargets(a)}},initTargets(e){const r=this._targets,a=r.length,s=e?e.length:0;let l=0;for(;l<s;++l)r[l]=e[l];for(;l<a&&null!=r[l];++l)r[l]=null;r.active=s},transform(e,r){const a=r.dataflow,s=e.key,l=e.subflow,f=this._keys,d=e.modified("key"),h=p=>this.subflow(p,l,r);return this._group=e.group||{},this.initTargets(),r.visit(r.REM,p=>{const v=Le(p),_=f.get(v);void 0!==_&&(f.delete(v),h(_).rem(p))}),r.visit(r.ADD,p=>{const v=s(p);f.set(Le(p),v),h(v).add(p)}),d||r.modified(s.fields)?r.visit(r.MOD,p=>{const v=Le(p),_=f.get(v),y=s(p);_===y?h(y).mod(p):(f.set(v,y),h(_).rem(p),h(y).add(p))}):r.changed(r.MOD)&&r.visit(r.MOD,p=>{h(f.get(Le(p))).mod(p)}),d&&r.visit(r.REFLOW,p=>{const v=Le(p),_=f.get(v),y=s(p);_!==y&&(f.set(v,y),h(_).rem(p),h(y).add(p))}),r.clean()?a.runAfter(()=>{this.clean(),f.clean()}):f.empty>a.cleanThreshold&&a.runAfter(f.clean),r}}),(0,E.XW)(Cb,cn),Yf.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},(0,E.XW)(Yf,te,{transform(e,r){const a=r.dataflow,s=this.value,l=r.fork(),f=l.add,d=l.rem,h=l.mod,p=e.expr;let v=!0;function _(y){const C=Le(y),M=p(y,e),w=s.get(C);M&&w?(s.delete(C),f.push(y)):M||w?v&&M&&!w&&h.push(y):(s.set(C,1),d.push(y))}return r.visit(r.REM,y=>{const C=Le(y);s.has(C)?s.delete(C):d.push(y)}),r.visit(r.ADD,y=>{p(y,e)?f.push(y):s.set(Le(y),1)}),r.visit(r.MOD,_),e.modified()&&(v=!1,r.visit(r.REFLOW,_)),s.empty>a.cleanThreshold&&a.runAfter(s.clean),l}}),K7.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},(0,E.XW)(K7,te,{transform(e,r){const a=r.fork(r.NO_SOURCE),s=e.fields,l=NT(s,e.as||[]),f=e.index||null,d=l.length;return a.rem=this.value,r.visit(r.SOURCE,h=>{const p=s.map(w=>w(h)),v=p.reduce((w,A)=>Math.max(w,A.length),0);let y,C,M,_=0;for(;_<v;++_){for(C=vc(h),y=0;y<d;++y)C[l[y]]=null==(M=p[y][_])?null:M;f&&(C[f]=_),a.add.push(C)}}),this.value=a.source=a.add,f&&a.modifies(f),a.modifies(l)}}),Js.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},(0,E.XW)(Js,te,{transform(e,r){const a=r.fork(r.NO_SOURCE),s=e.fields,l=s.map(E.el),f=e.as||["key","value"],d=f[0],h=f[1],p=s.length;return a.rem=this.value,r.visit(r.SOURCE,v=>{for(let y,_=0;_<p;++_)y=vc(v),y[d]=l[_],y[h]=s[_](v),a.add.push(y)}),this.value=a.source=a.add,a.modifies(f)}}),Zf.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},(0,E.XW)(Zf,te,{transform(e,r){const a=e.expr,s=e.as,l=e.modified(),f=e.initonly?r.ADD:l?r.SOURCE:r.modified(a.fields)||r.modified(s)?r.ADD_MOD:r.ADD;return l&&(r=r.materialize().reflow(!0)),e.initonly||r.modifies(s),r.visit(f,d=>d[s]=a(d,e))}}),(0,E.XW)(xb,te,{transform(e,r){const a=r.fork(r.ALL),s=e.generator;let d,h,p,l=this.value,f=e.size-l.length;if(f>0){for(d=[];--f>=0;)d.push(p=$t(s(e))),l.push(p);a.add=a.add.length?a.materialize(a.ADD).add.concat(d):d}else h=l.slice(0,-f),a.rem=a.rem.length?a.materialize(a.REM).rem.concat(h):h,l=l.slice(-f);return a.source=this.value=l,a}});const Kf={value:"value",median:B7,mean:function(e,r){let a=0,s=0;if(void 0===r)for(let l of e)null!=l&&(l=+l)>=l&&(++a,s+=l);else{let l=-1;for(let f of e)null!=(f=r(f,++l,e))&&(f=+f)>=f&&(++a,s+=f)}if(a)return s/a},min:H7,max:Xs},LT=[];function Q7(e){te.call(this,[],e)}function Ac(e){Qs.call(this,e)}function Mi(e){te.call(this,null,e)}function Qf(e){cn.call(this,null,Mb,e)}function Mb(e){return this.value&&!e.modified()?this.value:(0,E.Jy)(e.fields,e.flat)}function J7(e){te.call(this,[],e),this._pending=null}function Sc(e,r,a){a.forEach($t);const s=r.fork(r.NO_FIELDS&r.NO_SOURCE);return s.rem=e.value,e.value=s.source=s.add=a,e._pending=null,s.rem.length&&s.clean(!0),s}function N6(e){te.call(this,{},e)}function wb(e){cn.call(this,null,RT,e)}function RT(e){if(this.value&&!e.modified())return this.value;const r=e.extents,a=r.length;let f,d,s=1/0,l=-1/0;for(f=0;f<a;++f)d=r[f],d[0]<s&&(s=d[0]),d[1]>l&&(l=d[1]);return[s,l]}function e9(e){cn.call(this,null,VT,e)}function VT(e){return this.value&&!e.modified()?this.value:e.values.reduce((r,a)=>r.concat(a),[])}function t9(e){te.call(this,null,e)}function n9(e){Qs.call(this,e)}function Db(e){m0.call(this,e)}function Jf(e){te.call(this,null,e)}function r9(e){te.call(this,null,e)}function o9(e){te.call(this,null,e)}function a9(e){te.call(this,null,e)}function p0(e){te.call(this,[],e),this.count=0}function s9(e){te.call(this,null,e)}function Ab(e){te.call(this,null,e),this.modified(!0)}function uo(e){te.call(this,null,e)}Q7.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},(0,E.XW)(Q7,te,{transform(e,r){var C,M,w,A,S,T,N,I,F,O,a=r.fork(r.ALL),s=function(e){var a,r=e.method||Kf.value;if(null!=Kf[r])return r===Kf.value?(a=void 0!==e.value?e.value:0,()=>a):Kf[r];(0,E.vU)("Unrecognized imputation method: "+r)}(e),l=function(e){const r=e.field;return a=>a?r(a):NaN}(e),f=(0,E.el)(e.field),d=(0,E.el)(e.key),h=(e.groupby||[]).map(E.el),p=function(e,r,a,s){var v,_,y,C,M,w,A,S,l=T=>T(S),f=[],d=s?s.slice():[],h={},p={};for(d.forEach((T,N)=>h[T]=N+1),C=0,A=e.length;C<A;++C)w=a(S=e[C]),M=h[w]||(h[w]=d.push(w)),(y=p[_=(v=r?r.map(l):LT)+""])||(y=p[_]=[],f.push(y),y.values=v),y[M-1]=S;return f.domain=d,f}(r.source,e.groupby,e.key,e.keyvals),v=[],_=this.value,y=p.domain.length;for(S=0,I=p.length;S<I;++S)for(w=(C=p[S]).values,M=NaN,N=0;N<y;++N)if(null==C[N]){for(A=p.domain[N],O={_impute:!0},T=0,F=w.length;T<F;++T)O[h[T]]=w[T];O[d]=A,O[f]=Number.isNaN(M)?M=s(C,l):M,v.push($t(O))}return v.length&&(a.add=a.materialize(a.ADD).add.concat(v)),_.length&&(a.rem=a.materialize(a.REM).rem.concat(_)),this.value=v,a}}),Ac.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:k6},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},(0,E.XW)(Ac,Qs,{transform(e,r){const a=this,s=e.modified();let l;return a.value&&(s||r.modified(a._inputs,!0))?(l=a.value=s?a.init(e):{},r.visit(r.SOURCE,f=>a.add(f))):(l=a.value=a.value||this.init(e),r.visit(r.REM,f=>a.rem(f)),r.visit(r.ADD,f=>a.add(f))),a.changes(),r.visit(r.SOURCE,f=>{(0,E.l7)(f,l[a.cellkey(f)].tuple)}),r.reflow(s).modifies(this._outputs)},changes(){const e=this._adds,r=this._mods;let a,s;for(a=0,s=this._alen;a<s;++a)this.celltuple(e[a]),e[a]=null;for(a=0,s=this._mlen;a<s;++a)this.celltuple(r[a]),r[a]=null;this._alen=this._mlen=0}}),Mi.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},(0,E.XW)(Mi,te,{transform(e,r){const a=r.fork(r.NO_SOURCE|r.NO_FIELDS);if(!this.value||r.changed()||e.modified()){const s=r.materialize(r.SOURCE).source,l=Gf(s,e.groupby,e.field),f=(e.groupby||[]).map(E.el),d=e.bandwidth,h=e.cumulative?"cdf":"pdf",p=e.as||["value","density"],v=[];let _=e.extent,y=e.steps||e.minsteps||25,C=e.steps||e.maxsteps||200;"pdf"!==h&&"cdf"!==h&&(0,E.vU)("Invalid density method: "+h),"shared"===e.resolve&&(_||(_=(0,E.We)(s,e.field)),y=C=e.steps||C),l.forEach(M=>{const w=j7(M,d)[h],A=e.counts?M.length:1;$7(w,_||(0,E.We)(M),y,C).forEach(T=>{const N={};for(let I=0;I<f.length;++I)N[f[I]]=M.dims[I];N[p[0]]=T[0],N[p[1]]=T[1]*A,v.push($t(N))})}),this.value&&(a.rem=this.value),this.value=a.add=a.source=v}return a}}),(0,E.XW)(Qf,cn),(0,E.XW)(J7,te,{transform(e,r){const a=r.dataflow;return this._pending?Sc(this,r,this._pending):function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e)?r.StopPropagation:e.values?Sc(this,r,a.parse(e.values,e.format)):e.async?{async:a.request(e.url,e.format).then(l=>(this._pending=(0,E.IX)(l.data),f=>f.touch(this)))}:a.request(e.url,e.format).then(s=>Sc(this,r,(0,E.IX)(s.data)))}}),N6.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},(0,E.XW)(N6,te,{transform(e,r){const a=e.fields,s=e.index,l=e.values,f=null==e.default?null:e.default,d=e.modified(),h=a.length;let y,C,M,p=d?r.SOURCE:r.ADD,v=r,_=e.as;return l?(C=l.length,h>1&&!_&&(0,E.vU)('Multi-field lookup requires explicit "as" parameter.'),_&&_.length!==h*C&&(0,E.vU)('The "as" parameter has too few output field names.'),_=_||l.map(E.el),y=function(w){for(var T,N,A=0,S=0;A<h;++A)if(null==(N=s.get(a[A](w))))for(T=0;T<C;++T,++S)w[_[S]]=f;else for(T=0;T<C;++T,++S)w[_[S]]=l[T](N)}):(_||(0,E.vU)("Missing output field names."),y=function(w){for(var S,A=0;A<h;++A)S=s.get(a[A](w)),w[_[A]]=null==S?f:S}),d?v=r.reflow(!0):(M=a.some(w=>r.modified(w.fields)),p|=M?r.MOD:0),r.visit(p,y),v.modifies(_)}}),(0,E.XW)(wb,cn),(0,E.XW)(e9,cn),(0,E.XW)(t9,te,{transform(e,r){return this.modified(e.modified()),this.value=e,r.fork(r.NO_SOURCE|r.NO_FIELDS)}}),n9.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:k6,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},(0,E.XW)(n9,Qs,{_transform:Qs.prototype.transform,transform(e,r){return this._transform(function(e,r){const a=e.field,s=e.value,l=("count"===e.op?"__count__":e.op)||"sum",f=(0,E.Oj)(a).concat((0,E.Oj)(s)),d=function(e,r,a){const s={},l=[];return a.visit(a.SOURCE,f=>{const d=e(f);s[d]||(s[d]=1,l.push(d))}),l.sort(E.j2),r?l.slice(0,r):l}(a,e.limit||0,r);return r.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:d.map(()=>l),fields:d.map(h=>function(e,r,a,s){return(0,E.ZE)(l=>r(l)===e?a(l):NaN,s,e+"")}(h,a,s,f)),as:d.map(h=>h+""),modified:e.modified.bind(e)}}(e,r),r)}}),(0,E.XW)(Db,m0,{transform(e,r){const a=e.subflow,s=e.field,l=f=>this.subflow(Le(f),a,r,f);return(e.modified("field")||s&&r.modified((0,E.Oj)(s)))&&(0,E.vU)("PreFacet does not support field modification."),this.initTargets(),s?(r.visit(r.MOD,f=>{const d=l(f);s(f).forEach(h=>d.mod(h))}),r.visit(r.ADD,f=>{const d=l(f);s(f).forEach(h=>d.add($t(h)))}),r.visit(r.REM,f=>{const d=l(f);s(f).forEach(h=>d.rem(h))})):(r.visit(r.MOD,f=>l(f).mod(f)),r.visit(r.ADD,f=>l(f).add(f)),r.visit(r.REM,f=>l(f).rem(f))),r.clean()&&r.runAfter(()=>this.clean()),r}}),Jf.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},(0,E.XW)(Jf,te,{transform(e,r){const a=r.fork(r.NO_SOURCE),s=e.fields,l=NT(e.fields,e.as||[]),f=s?(h,p)=>function(e,r,a,s){for(let l=0,f=a.length;l<f;++l)r[s[l]]=a[l](e);return r}(h,p,s,l):Jl;let d;return this.value?d=this.value:(r=r.addAll(),d=this.value={}),r.visit(r.REM,h=>{const p=Le(h);a.rem.push(d[p]),d[p]=null}),r.visit(r.ADD,h=>{const p=f(h,$t({}));d[Le(h)]=p,a.add.push(p)}),r.visit(r.MOD,h=>{a.mod.push(f(h,d[Le(h)]))}),a}}),(0,E.XW)(r9,te,{transform(e,r){return this.value=e.value,e.modified("value")?r.fork(r.NO_SOURCE|r.NO_FIELDS):r.StopPropagation}}),o9.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]},(0,E.XW)(o9,te,{transform(e,r){const a=r.fork(r.NO_SOURCE|r.NO_FIELDS),s=e.as||["prob","value"];if(this.value&&!e.modified()&&!r.changed())return a.source=this.value,a;const f=Gf(r.materialize(r.SOURCE).source,e.groupby,e.field),d=(e.groupby||[]).map(E.el),h=[],p=e.step||.01,v=e.probs||ur(p/2,1-1e-14,p),_=v.length;return f.forEach(y=>{const C=Zy(y,v);for(let M=0;M<_;++M){const w={};for(let A=0;A<d.length;++A)w[d[A]]=y.dims[A];w[s[0]]=v[M],w[s[1]]=C[M],h.push($t(w))}}),this.value&&(a.rem=this.value),this.value=a.add=a.source=h,a}}),(0,E.XW)(a9,te,{transform(e,r){let a,s;return this.value?s=this.value:(a=r=r.addAll(),s=this.value={}),e.derive&&(a=r.fork(r.NO_SOURCE),r.visit(r.REM,l=>{const f=Le(l);a.rem.push(s[f]),s[f]=null}),r.visit(r.ADD,l=>{const f=vc(l);s[Le(l)]=f,a.add.push(f)}),r.visit(r.MOD,l=>{const f=s[Le(l)];for(const d in l)f[d]=l[d],a.modifies(d);a.mod.push(f)})),a}}),p0.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},(0,E.XW)(p0,te,{transform(e,r){const a=r.fork(r.NO_SOURCE),s=e.modified("size"),l=e.size,f=this.value.reduce((_,y)=>(_[Le(y)]=1,_),{});let d=this.value,h=this.count,p=0;function v(_){let y,C;d.length<l?d.push(_):(C=~~((h+1)*lr()),C<d.length&&C>=p&&(y=d[C],f[Le(y)]&&a.rem.push(y),d[C]=_)),++h}if(r.rem.length&&(r.visit(r.REM,_=>{const y=Le(_);f[y]&&(f[y]=-1,a.rem.push(_)),--h}),d=d.filter(_=>-1!==f[Le(_)])),(r.rem.length||s)&&d.length<l&&r.source&&(p=h=d.length,r.visit(r.SOURCE,_=>{f[Le(_)]||v(_)}),p=-1),s&&d.length>l){const _=d.length-l;for(let y=0;y<_;++y)f[Le(d[y])]=-1,a.rem.push(d[y]);d=d.slice(_)}return r.mod.length&&r.visit(r.MOD,_=>{f[Le(_)]&&a.mod.push(_)}),r.add.length&&r.visit(r.ADD,v),(r.add.length||p<0)&&(a.add=d.filter(_=>!f[Le(_)])),this.count=h,this.value=a.source=d,a}}),s9.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},(0,E.XW)(s9,te,{transform(e,r){if(this.value&&!e.modified())return;const a=r.materialize().fork(r.MOD),s=e.as||"data";return a.rem=this.value?r.rem.concat(this.value):r.rem,this.value=ur(e.start,e.stop,e.step||1).map(l=>{const f={};return f[s]=l,$t(f)}),a.add=r.add.concat(this.value),a}}),(0,E.XW)(Ab,te,{transform(e,r){return this.value=r.source,r.changed()?r.fork(r.NO_SOURCE|r.NO_FIELDS):r.StopPropagation}});const Sb=["unit0","unit1"];function kb(e){te.call(this,(0,E.Xr)(),e)}function Tb(e){te.call(this,null,e)}uo.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:g7,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:Sb}]},(0,E.XW)(uo,te,{transform(e,r){const a=e.field,s=!1!==e.interval,l="utc"===e.timezone,f=this._floor(e,r),d=(l?Gl:lc)(f.unit).offset,h=e.as||Sb,p=h[0],v=h[1],_=f.step;let y=f.start||1/0,C=f.stop||-1/0,M=r.ADD;return(e.modified()||r.modified((0,E.Oj)(a)))&&(M=(r=r.reflow(!0)).SOURCE,y=1/0,C=-1/0),r.visit(M,w=>{const A=a(w);let S,T;null==A?(w[p]=null,s&&(w[v]=null)):(w[p]=S=T=f(A),s&&(w[v]=T=d(S,_)),S<y&&(y=S),T>C&&(C=T))}),f.start=y,f.stop=C,r.modifies(s?h:p)},_floor(e,r){const a="utc"===e.timezone,{units:s,step:l}=e.units?{units:e.units,step:e.step||1}:function(e){const r=e.extent,a=e.maxbins||40,s=Math.abs((0,E.yP)(r))/a;let f,d,l=vf(h=>h[2]).right(Qo,s);return l===Qo.length?(f=Xl,d=Fa(r[0]/xe,r[1]/xe,a)):l?(l=Qo[s/Qo[l-1][2]<Qo[l][2]/s?l-1:l],f=l[0],d=l[1]):(f=gt,d=Math.max(Fa(r[0],r[1],a),1)),{units:f,step:d}}({extent:e.extent||(0,E.We)(r.materialize(r.SOURCE).source,e.field),maxbins:e.maxbins}),f=qe(s),d=this.value||{},h=(a?o6:b7)(f,l);return h.unit=(0,E.fj)(f),h.units=f,h.step=l,h.start=d.start,h.stop=d.stop,this.value=h}}),(0,E.XW)(kb,te,{transform(e,r){const a=r.dataflow,s=e.field,l=this.value,f=h=>l.set(s(h),h);let d=!0;return e.modified("field")||r.modified(s.fields)?(l.clear(),r.visit(r.SOURCE,f)):r.changed()?(r.visit(r.REM,h=>l.delete(s(h))),r.visit(r.ADD,f)):d=!1,this.modified(d),l.empty>a.cleanThreshold&&a.runAfter(l.clean),r.fork()}}),(0,E.XW)(Tb,te,{transform(e,r){(!this.value||e.modified("field")||e.modified("sort")||r.changed()||e.sort&&r.modified(e.sort.fields))&&(this.value=(e.sort?r.source.slice().sort(_c(e.sort)):r.source).map(e.field))}});const I6={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:r=>{const a=r.index,s=r.data;return a&&r.compare(s[a-1],s[a])?e=a+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:r=>{const a=r.index,s=r.data;return a&&r.compare(s[a-1],s[a])?++e:e}}},percent_rank:function(){const e=I6.rank(),r=e.next;return{init:e.init,next:a=>(r(a)-1)/(a.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:r=>{const a=r.data,s=r.compare;let l=r.index;if(e<l){for(;l+1<a.length&&!s(a[l],a[l+1]);)++l;e=l}return(1+e)/a.length}}},ntile:function(e,r){(r=+r)>0||(0,E.vU)("ntile num must be greater than zero.");const a=I6.cume_dist(),s=a.next;return{init:a.init,next:l=>Math.ceil(r*s(l))}},lag:function(e,r){return r=+r||1,{next:a=>{const s=a.index-r;return s>=0?e(a.data[s]):null}}},lead:function(e,r){return r=+r||1,{next:a=>{const s=a.index+r,l=a.data;return s<l.length?e(l[s]):null}}},first_value:function(e){return{next:r=>e(r.data[r.i0])}},last_value:function(e){return{next:r=>e(r.data[r.i1-1])}},nth_value:function(e,r){return(r=+r)>0||(0,E.vU)("nth_value nth must be greater than zero."),{next:a=>{const s=a.i0+(r-1);return s<a.i1?e(a.data[s]):null}}},prev_value:function(e){let r;return{init:()=>r=null,next:a=>{const s=e(a.data[a.index]);return null!=s?r=s:r}}},next_value:function(e){let r,a;return{init:()=>(r=null,a=-1),next:s=>{const l=s.data;return s.index<=a?r:(a=function(e,r,a){for(let s=r.length;a<s;++a)if(null!=e(r[a]))return a;return-1}(e,l,s.index))<0?(a=l.length,r=null):r=e(l[a])}}}},zb=Object.keys(I6);function Nb(e){const r=(0,E.IX)(e.ops),a=(0,E.IX)(e.fields),s=(0,E.IX)(e.params),l=(0,E.IX)(e.as),f=this.outputs=[],d=this.windows=[],h={},p={},v=[],_=[];let y=!0;function C(M){(0,E.IX)((0,E.Oj)(M)).forEach(w=>h[w]=1)}C(e.sort),r.forEach((M,w)=>{const A=a[w],S=(0,E.el)(A),T=q7(M,S,l[w]);if(C(A),f.push(T),(0,E.nr)(I6,M))d.push(function(e,r,a,s){const l=I6[e](r,a);return{init:l.init||E.bM,update:function(f,d){d[s]=l.next(f)}}}(M,a[w],s[w],T));else{if(null==A&&"count"!==M&&(0,E.vU)("Null aggregate field specified."),"count"===M)return void v.push(T);y=!1;let N=p[S];N||(N=p[S]=[],N.field=A,_.push(N)),N.push(ub(M,T))}}),(v.length||_.length)&&(this.cell=function(e,r,a){e=e.map(p=>db(p,p.field));const s={num:0,agg:null,store:!1,count:r};if(!a)for(var l=e.length,f=s.agg=Array(l),d=0;d<l;++d)f[d]=new e[d](s);if(s.store)var h=s.data=new W7;return s.add=function(p){if(s.num+=1,!a){h&&h.add(p);for(let v=0;v<l;++v)f[v].add(f[v].get(p),p)}},s.rem=function(p){if(s.num-=1,!a){h&&h.rem(p);for(let v=0;v<l;++v)f[v].rem(f[v].get(p),p)}},s.set=function(p){let v,_;for(h&&h.values(),v=0,_=r.length;v<_;++v)p[r[v]]=s.num;if(!a)for(v=0,_=f.length;v<_;++v)f[v].set(p)},s.init=function(){s.num=0,h&&h.reset();for(let p=0;p<l;++p)f[p].init()},s}(_,v,y)),this.inputs=Object.keys(h)}const Ib=Nb.prototype;function t8(e){te.call(this,{},e),this._mlen=0,this._mods=[]}function Fb(e,r,a,s){const l=s.sort,f=l&&!s.ignorePeers,d=s.frame||[null,0],h=e.data(a),p=h.length,v=f?vf(l):null,_={i0:0,i1:0,p0:0,p1:0,index:0,data:h,compare:l||(0,E.a9)(-1)};r.init();for(let y=0;y<p;++y)n8(_,d,y,p),f&&BT(_,v),r.update(_,h[y])}function n8(e,r,a,s){e.p0=e.i0,e.p1=e.i1,e.i0=null==r[0]?0:Math.max(0,a-Math.abs(r[0])),e.i1=null==r[1]?s:Math.min(s,a+Math.abs(r[1])+1),e.index=a}function BT(e,r){const a=e.i0,s=e.i1-1,l=e.compare,f=e.data,d=f.length-1;a>0&&!l(f[a],f[a-1])&&(e.i0=r.left(f,f[a])),s<d&&!l(f[s],f[s+1])&&(e.i1=r.right(f,f[s]))}function qa(e,r,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+a)/6)}function n1(e){this._context=e}function kc(){}function c9(e){this._context=e}function Rr(e){this._context=e}function i8(e,r){this._basis=new n1(e),this._beta=r}Ib.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()},Ib.update=function(e,r){const a=this.cell,s=this.windows,l=e.data,f=s&&s.length;let d;if(a){for(d=e.p0;d<e.i0;++d)a.rem(l[d]);for(d=e.p1;d<e.i1;++d)a.add(l[d]);a.set(r)}for(d=0;d<f;++d)s[d].update(e,r)},t8.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:zb.concat(k6)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},(0,E.XW)(t8,te,{transform(e,r){this.stamp=r.stamp;const a=e.modified(),s=_c(e.sort),l=$f(e.groupby),f=h=>this.group(l(h));let d=this.state;(!d||a)&&(d=this.state=new Nb(e)),a||r.modified(d.inputs)?(this.value={},r.visit(r.SOURCE,h=>f(h).add(h))):(r.visit(r.REM,h=>f(h).remove(h)),r.visit(r.ADD,h=>f(h).add(h)));for(let h=0,p=this._mlen;h<p;++h)Fb(this._mods[h],d,s,e);return this._mlen=0,this._mods=[],r.reflow(a).modifies(d.outputs)},group(e){let r=this.value[e];return r||(r=this.value[e]=hb(Le),r.stamp=-1),r.stamp<this.stamp&&(r.stamp=this.stamp,this._mods[this._mlen++]=r),r}}),n1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qa(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qa(this,e,r)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}},c9.prototype={areaStart:kc,areaEnd:kc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x2=e,this._y2=r;break;case 1:this._point=2,this._x3=e,this._y3=r;break;case 2:this._point=3,this._x4=e,this._y4=r,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+r)/6);break;default:qa(this,e,r)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}},Rr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(a,s):this._context.moveTo(a,s);break;case 3:this._point=4;default:qa(this,e,r)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}},i8.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,r=this._y,a=e.length-1;if(a>0)for(var p,s=e[0],l=r[0],f=e[a]-s,d=r[a]-l,h=-1;++h<=a;)this._basis.point(this._beta*e[h]+(1-this._beta)*(s+(p=h/a)*f),this._beta*r[h]+(1-this._beta)*(l+p*d));this._x=this._y=null,this._basis.lineEnd()},point:function(e,r){this._x.push(+e),this._y.push(+r)}};const jT=function e(r){function a(s){return 1===r?new n1(s):new i8(s,r)}return a.beta=function(s){return e(+s)},a}(.85);function L6(e,r,a){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-r),e._y2+e._k*(e._y1-a),e._x2,e._y2)}function Tc(e,r){this._context=e,this._k=(1-r)/6}Tc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:L6(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2,this._x1=e,this._y1=r;break;case 2:this._point=3;default:L6(this,e,r)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const Rb=function e(r){function a(s){return new Tc(s,r)}return a.tension=function(s){return e(+s)},a}(0);function r8(e,r){this._context=e,this._k=(1-r)/6}r8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:L6(this,e,r)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const u9=function e(r){function a(s){return new r8(s,r)}return a.tension=function(s){return e(+s)},a}(0);function F6(e,r){this._context=e,this._k=(1-r)/6}F6.prototype={areaStart:kc,areaEnd:kc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x3=e,this._y3=r;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=r);break;case 2:this._point=3,this._x5=e,this._y5=r;break;default:L6(this,e,r)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const Vb=function e(r){function a(s){return new F6(s,r)}return a.tension=function(s){return e(+s)},a}(0);var UT=Math.abs,Vn=Math.atan2,Wa=Math.cos,Ob=Math.max,f9=Math.min,N1=Math.sin,g0=Math.sqrt,Oi=1e-12,e2=Math.PI,o8=e2/2,R6=2*e2;function $T(e){return e>1?0:e<-1?e2:Math.acos(e)}function d9(e){return e>=1?o8:e<=-1?-o8:Math.asin(e)}function V6(e,r,a){var s=e._x1,l=e._y1,f=e._x2,d=e._y2;if(e._l01_a>Oi){var h=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,p=3*e._l01_a*(e._l01_a+e._l12_a);s=(s*h-e._x0*e._l12_2a+e._x2*e._l01_2a)/p,l=(l*h-e._y0*e._l12_2a+e._y2*e._l01_2a)/p}if(e._l23_a>Oi){var v=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,_=3*e._l23_a*(e._l23_a+e._l12_a);f=(f*v+e._x1*e._l23_2a-r*e._l12_2a)/_,d=(d*v+e._y1*e._l23_2a-a*e._l12_2a)/_}e._context.bezierCurveTo(s,l,f,d,e._x2,e._y2)}function h9(e,r){this._context=e,this._alpha=r}h9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){if(e=+e,r=+r,this._point){var a=this._x2-e,s=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3;default:V6(this,e,r)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const m9=function e(r){function a(s){return r?new h9(s,r):new Tc(s,0)}return a.alpha=function(s){return e(+s)},a}(.5);function Pb(e,r){this._context=e,this._alpha=r}Pb.prototype={areaStart:kc,areaEnd:kc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,r){if(e=+e,r=+r,this._point){var a=this._x2-e,s=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=r;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=r);break;case 2:this._point=3,this._x5=e,this._y5=r;break;default:V6(this,e,r)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const qT=function e(r){function a(s){return r?new Pb(s,r):new F6(s,0)}return a.alpha=function(s){return e(+s)},a}(.5);function p9(e,r){this._context=e,this._alpha=r}p9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){if(e=+e,r=+r,this._point){var a=this._x2-e,s=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+s*s,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:V6(this,e,r)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const Hb=function e(r){function a(s){return r?new p9(s,r):new r8(s,0)}return a.alpha=function(s){return e(+s)},a}(.5);function t2(e){this._context=e}function a8(e){return new t2(e)}function g9(e){this._context=e}function O6(e){return e<0?-1:1}function Bb(e,r,a){var s=e._x1-e._x0,l=r-e._x1,f=(e._y1-e._y0)/(s||l<0&&-0),d=(a-e._y1)/(l||s<0&&-0),h=(f*l+d*s)/(s+l);return(O6(f)+O6(d))*Math.min(Math.abs(f),Math.abs(d),.5*Math.abs(h))||0}function v9(e,r){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-r)/2:r}function s8(e,r,a){var s=e._x0,f=e._x1,d=e._y1,h=(f-s)/3;e._context.bezierCurveTo(s+h,e._y0+h*r,f-h,d-h*a,f,d)}function P6(e){this._context=e}function c8(e){this._context=new _9(e)}function _9(e){this._context=e}function y9(e){this._context=e}function f8(e){var r,s,a=e.length-1,l=new Array(a),f=new Array(a),d=new Array(a);for(l[0]=0,f[0]=2,d[0]=e[0]+2*e[1],r=1;r<a-1;++r)l[r]=1,f[r]=4,d[r]=4*e[r]+2*e[r+1];for(l[a-1]=2,f[a-1]=7,d[a-1]=8*e[a-1]+e[a],r=1;r<a;++r)f[r]-=s=l[r]/f[r-1],d[r]-=s*d[r-1];for(l[a-1]=d[a-1]/f[a-1],r=a-2;r>=0;--r)l[r]=(d[r]-l[r+1])/f[r];for(f[a-1]=(e[a]+l[a-1])/2,r=0;r<a-1;++r)f[r]=2*e[r+1]-l[r+1];return[l,f]}function v0(e,r){this._context=e,this._t=r}t2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r)}}},g9.prototype={areaStart:kc,areaEnd:kc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,r){e=+e,r=+r,this._point?this._context.lineTo(e,r):(this._point=1,this._context.moveTo(e,r))}},P6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:s8(this,this._t0,v9(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var a=NaN;if(r=+r,(e=+e)!==this._x1||r!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,s8(this,v9(this,a=Bb(this,e,r)),a);break;default:s8(this,this._t0,a=Bb(this,e,r))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=a}}},(c8.prototype=Object.create(P6.prototype)).point=function(e,r){P6.prototype.point.call(this,r,e)},_9.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,a,s,l,f){this._context.bezierCurveTo(r,e,s,a,f,l)}},y9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),2===a)this._context.lineTo(e[1],r[1]);else for(var s=f8(e),l=f8(r),f=0,d=1;d<a;++f,++d)this._context.bezierCurveTo(s[0][f],l[0][f],s[1][f],l[1][f],e[d],r[d]);(this._line||0!==this._line&&1===a)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}},v0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,r)}}this._x=e,this._y=r}};const b9=Math.PI,C9=2*b9,n2=1e-6,x9=C9-n2;function d8(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function XT(){return new d8}d8.prototype=XT.prototype={constructor:d8,moveTo:function(e,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+r)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,r){this._+="L"+(this._x1=+e)+","+(this._y1=+r)},quadraticCurveTo:function(e,r,a,s){this._+="Q"+ +e+","+ +r+","+(this._x1=+a)+","+(this._y1=+s)},bezierCurveTo:function(e,r,a,s,l,f){this._+="C"+ +e+","+ +r+","+ +a+","+ +s+","+(this._x1=+l)+","+(this._y1=+f)},arcTo:function(e,r,a,s,l){var f=this._x1,d=this._y1,h=(a=+a)-(e=+e),p=(s=+s)-(r=+r),v=f-e,_=d-r,y=v*v+_*_;if((l=+l)<0)throw new Error("negative radius: "+l);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=r);else if(y>n2)if(Math.abs(_*h-p*v)>n2&&l){var C=a-f,M=s-d,w=h*h+p*p,A=C*C+M*M,S=Math.sqrt(w),T=Math.sqrt(y),N=l*Math.tan((b9-Math.acos((w+y-A)/(2*S*T)))/2),I=N/T,F=N/S;Math.abs(I-1)>n2&&(this._+="L"+(e+I*v)+","+(r+I*_)),this._+="A"+l+","+l+",0,0,"+ +(_*C>v*M)+","+(this._x1=e+F*h)+","+(this._y1=r+F*p)}else this._+="L"+(this._x1=e)+","+(this._y1=r)},arc:function(e,r,a,s,l,f){e=+e,r=+r,f=!!f;var d=(a=+a)*Math.cos(s),h=a*Math.sin(s),p=e+d,v=r+h,_=1^f,y=f?s-l:l-s;if(a<0)throw new Error("negative radius: "+a);null===this._x1?this._+="M"+p+","+v:(Math.abs(this._x1-p)>n2||Math.abs(this._y1-v)>n2)&&(this._+="L"+p+","+v),a&&(y<0&&(y=y%C9+C9),y>x9?this._+="A"+a+","+a+",0,1,"+_+","+(e-d)+","+(r-h)+"A"+a+","+a+",0,1,"+_+","+(this._x1=p)+","+(this._y1=v):y>n2&&(this._+="A"+a+","+a+",0,"+ +(y>=b9)+","+_+","+(this._x1=e+a*Math.cos(l))+","+(this._y1=r+a*Math.sin(l))))},rect:function(e,r,a,s){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+r)+"h"+ +a+"v"+ +s+"h"+-a+"Z"},toString:function(){return this._}};const zc=XT;function qt(e){return function(){return e}}function $b(e){return e.innerRadius}function ZT(e){return e.outerRadius}function KT(e){return e.startAngle}function fo(e){return e.endAngle}function QT(e){return e&&e.padAngle}function qb(e,r,a,s,l,f,d,h){var p=a-e,v=s-r,_=d-l,y=h-f,C=y*p-_*v;if(!(C*C<Oi))return[e+(C=(_*(r-f)-y*(e-l))/C)*p,r+C*v]}function h8(e,r,a,s,l,f,d){var h=e-a,p=r-s,v=(d?f:-f)/g0(h*h+p*p),_=v*p,y=-v*h,C=e+_,M=r+y,w=a+_,A=s+y,S=(C+w)/2,T=(M+A)/2,N=w-C,I=A-M,F=N*N+I*I,O=l-f,P=C*A-w*M,V=(I<0?-1:1)*g0(Ob(0,O*O*F-P*P)),G=(P*I-N*V)/F,Y=(-P*N-I*V)/F,W=(P*I+N*V)/F,X=(-P*N+I*V)/F,re=G-S,ie=Y-T,de=W-S,J=X-T;return re*re+ie*ie>de*de+J*J&&(G=W,Y=X),{cx:G,cy:Y,x01:-_,y01:-y,x11:G*(l/O-1),y11:Y*(l/O-1)}}function Wb(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function M9(e){return e[0]}function Gb(e){return e[1]}function Xb(e,r){var a=qt(!0),s=null,l=a8,f=null;function d(h){var p,_,C,v=(h=Wb(h)).length,y=!1;for(null==s&&(f=l(C=zc())),p=0;p<=v;++p)!(p<v&&a(_=h[p],p,h))===y&&((y=!y)?f.lineStart():f.lineEnd()),y&&f.point(+e(_,p,h),+r(_,p,h));if(C)return f=null,C+""||null}return e="function"==typeof e?e:void 0===e?M9:qt(e),r="function"==typeof r?r:void 0===r?Gb:qt(r),d.x=function(h){return arguments.length?(e="function"==typeof h?h:qt(+h),d):e},d.y=function(h){return arguments.length?(r="function"==typeof h?h:qt(+h),d):r},d.defined=function(h){return arguments.length?(a="function"==typeof h?h:qt(!!h),d):a},d.curve=function(h){return arguments.length?(l=h,null!=s&&(f=l(s)),d):l},d.context=function(h){return arguments.length?(null==h?s=f=null:f=l(s=h),d):s},d}function Yb(e,r,a){var s=null,l=qt(!0),f=null,d=a8,h=null;function p(_){var y,C,M,A,T,w=(_=Wb(_)).length,S=!1,N=new Array(w),I=new Array(w);for(null==f&&(h=d(T=zc())),y=0;y<=w;++y){if(!(y<w&&l(A=_[y],y,_))===S)if(S=!S)C=y,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),M=y-1;M>=C;--M)h.point(N[M],I[M]);h.lineEnd(),h.areaEnd()}S&&(N[y]=+e(A,y,_),I[y]=+r(A,y,_),h.point(s?+s(A,y,_):N[y],a?+a(A,y,_):I[y]))}if(T)return h=null,T+""||null}function v(){return Xb().defined(l).curve(d).context(f)}return e="function"==typeof e?e:void 0===e?M9:qt(+e),r="function"==typeof r?r:qt(void 0===r?0:+r),a="function"==typeof a?a:void 0===a?Gb:qt(+a),p.x=function(_){return arguments.length?(e="function"==typeof _?_:qt(+_),s=null,p):e},p.x0=function(_){return arguments.length?(e="function"==typeof _?_:qt(+_),p):e},p.x1=function(_){return arguments.length?(s=null==_?null:"function"==typeof _?_:qt(+_),p):s},p.y=function(_){return arguments.length?(r="function"==typeof _?_:qt(+_),a=null,p):r},p.y0=function(_){return arguments.length?(r="function"==typeof _?_:qt(+_),p):r},p.y1=function(_){return arguments.length?(a=null==_?null:"function"==typeof _?_:qt(+_),p):a},p.lineX0=p.lineY0=function(){return v().x(e).y(r)},p.lineY1=function(){return v().x(e).y(a)},p.lineX1=function(){return v().x(s).y(r)},p.defined=function(_){return arguments.length?(l="function"==typeof _?_:qt(!!_),p):l},p.curve=function(_){return arguments.length?(d=_,null!=f&&(h=d(f)),p):d},p.context=function(_){return arguments.length?(null==_?f=h=null:h=d(f=_),p):f},p}const nt={draw:function(e,r){var a=Math.sqrt(r/e2);e.moveTo(a,0),e.arc(0,0,a,0,R6)}};Math.sqrt(1/3);Math.sin(e2/10),Math.sin(7*e2/10);function r2(e,r){if("undefined"!=typeof document&&document.createElement){const a=document.createElement("canvas");if(a&&a.getContext)return a.width=e,a.height=r,a}return null}Math.sin(R6/10),Math.cos(R6/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12);const Jb=vf(Ut),v8=Jb.right,tz=Jb.left,_0=(vf(hT),v8);function Xa(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e)}return this}function o2(e,r){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof r?this.interpolator(r):this.range(r)}return this}const eC=Symbol("implicit");function _8(){var e=new Map,r=[],a=[],s=eC;function l(f){var d=f+"",h=e.get(d);if(!h){if(s!==eC)return s;e.set(d,h=r.push(f))}return a[(h-1)%a.length]}return l.domain=function(f){if(!arguments.length)return r.slice();r=[],e=new Map;for(const d of f){const h=d+"";e.has(h)||e.set(h,r.push(d))}return l},l.range=function(f){return arguments.length?(a=Array.from(f),l):a.slice()},l.unknown=function(f){return arguments.length?(s=f,l):s},l.copy=function(){return _8(r,a).unknown(s)},Xa.apply(l,arguments),l}function z9(e,r,a,s){var f,l=Fa(e,r,a);switch((s=Q2(null==s?",f":s)).type){case"s":var d=Math.max(Math.abs(e),Math.abs(r));return null==s.precision&&!isNaN(f=a7(l,d))&&(s.precision=f),mf(s,d);case"":case"e":case"g":case"p":case"r":null==s.precision&&!isNaN(f=Ns(l,Math.max(Math.abs(e),Math.abs(r))))&&(s.precision=f-("e"===s.type));break;case"f":case"%":null==s.precision&&!isNaN(f=s7(l))&&(s.precision=f-2*("%"===s.type))}return Is(s)}function y0(e,r,a){e.prototype=r.prototype=a,a.constructor=e}function Nc(e,r){var a=Object.create(e.prototype);for(var s in r)a[s]=r[s];return a}function Ic(){}var B6=1/.7,j6="\\s*([+-]?\\d+)\\s*",y8="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ya="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",I$=/^#([0-9a-f]{3,8})$/,L$=new RegExp("^rgb\\("+[j6,j6,j6]+"\\)$"),F$=new RegExp("^rgb\\("+[Ya,Ya,Ya]+"\\)$"),R$=new RegExp("^rgba\\("+[j6,j6,j6,y8]+"\\)$"),a2=new RegExp("^rgba\\("+[Ya,Ya,Ya,y8]+"\\)$"),N9=new RegExp("^hsl\\("+[y8,Ya,Ya]+"\\)$"),nz=new RegExp("^hsla\\("+[y8,Ya,Ya,y8]+"\\)$"),I9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function b8(){return this.rgb().formatHex()}function C8(){return this.rgb().formatRgb()}function U6(e){var r,a;return e=(e+"").trim().toLowerCase(),(r=I$.exec(e))?(a=r[1].length,r=parseInt(r[1],16),6===a?Za(r):3===a?new wi(r>>8&15|r>>4&240,r>>4&15|240&r,(15&r)<<4|15&r,1):8===a?$6(r>>24&255,r>>16&255,r>>8&255,(255&r)/255):4===a?$6(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|240&r,((15&r)<<4|15&r)/255):null):(r=L$.exec(e))?new wi(r[1],r[2],r[3],1):(r=F$.exec(e))?new wi(255*r[1]/100,255*r[2]/100,255*r[3]/100,1):(r=R$.exec(e))?$6(r[1],r[2],r[3],r[4]):(r=a2.exec(e))?$6(255*r[1]/100,255*r[2]/100,255*r[3]/100,r[4]):(r=N9.exec(e))?C0(r[1],r[2]/100,r[3]/100,1):(r=nz.exec(e))?C0(r[1],r[2]/100,r[3]/100,r[4]):I9.hasOwnProperty(e)?Za(I9[e]):"transparent"===e?new wi(NaN,NaN,NaN,0):null}function Za(e){return new wi(e>>16&255,e>>8&255,255&e,1)}function $6(e,r,a,s){return s<=0&&(e=r=a=NaN),new wi(e,r,a,s)}function L9(e){return e instanceof Ic||(e=U6(e)),e?new wi((e=e.rgb()).r,e.g,e.b,e.opacity):new wi}function aa(e,r,a,s){return 1===arguments.length?L9(e):new wi(e,r,a,null==s?1:s)}function wi(e,r,a,s){this.r=+e,this.g=+r,this.b=+a,this.opacity=+s}function F9(){return"#"+R9(this.r)+R9(this.g)+R9(this.b)}function nC(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function R9(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function C0(e,r,a,s){return s<=0?e=r=a=NaN:a<=0||a>=1?e=r=NaN:r<=0&&(e=NaN),new fr(e,r,a,s)}function Lc(e){if(e instanceof fr)return new fr(e.h,e.s,e.l,e.opacity);if(e instanceof Ic||(e=U6(e)),!e)return new fr;if(e instanceof fr)return e;var r=(e=e.rgb()).r/255,a=e.g/255,s=e.b/255,l=Math.min(r,a,s),f=Math.max(r,a,s),d=NaN,h=f-l,p=(f+l)/2;return h?(d=r===f?(a-s)/h+6*(a<s):a===f?(s-r)/h+2:(r-a)/h+4,h/=p<.5?f+l:2-f-l,d*=60):h=p>0&&p<1?0:d,new fr(d,h,p,e.opacity)}function x0(e,r,a,s){return 1===arguments.length?Lc(e):new fr(e,r,a,null==s?1:s)}function fr(e,r,a,s){this.h=+e,this.s=+r,this.l=+a,this.opacity=+s}function Fc(e,r,a){return 255*(e<60?r+(a-r)*e/60:e<180?a:e<240?r+(a-r)*(240-e)/60:r)}function Rc(e,r,a,s,l){var f=e*e,d=f*e;return((1-3*e+3*f-d)*r+(4-6*f+3*d)*a+(1+3*e+3*f-3*d)*s+d*l)/6}function iC(e){var r=e.length-1;return function(a){var s=a<=0?a=0:a>=1?(a=1,r-1):Math.floor(a*r),l=e[s],f=e[s+1];return Rc((a-s/r)*r,s>0?e[s-1]:2*l-f,l,f,s<r-1?e[s+2]:2*f-l)}}function V9(e){var r=e.length;return function(a){var s=Math.floor(((a%=1)<0?++a:a)*r);return Rc((a-s/r)*r,e[(s+r-1)%r],e[s%r],e[(s+1)%r],e[(s+2)%r])}}y0(Ic,U6,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:b8,formatHex:b8,formatHsl:function(){return Lc(this).formatHsl()},formatRgb:C8,toString:C8}),y0(wi,aa,Nc(Ic,{brighter:function(e){return e=null==e?B6:Math.pow(B6,e),new wi(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new wi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:F9,formatHex:F9,formatRgb:nC,toString:nC})),y0(fr,x0,Nc(Ic,{brighter:function(e){return e=null==e?B6:Math.pow(B6,e),new fr(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new fr(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),r=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,s=a+(a<.5?a:1-a)*r,l=2*a-s;return new wi(Fc(e>=240?e-240:e+120,l,s),Fc(e,l,s),Fc(e<120?e+240:e-120,l,s),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const q6=e=>()=>e;function x8(e,r){return function(a){return e+a*r}}function W6(e,r){var a=r-e;return a?x8(e,a>180||a<-180?a-360*Math.round(a/360):a):q6(isNaN(e)?r:e)}function ai(e,r){var a=r-e;return a?x8(e,a):q6(isNaN(e)?r:e)}const w8=function e(r){var a=function(e){return 1==(e=+e)?ai:function(r,a){return a-r?function(e,r,a){return e=Math.pow(e,a),r=Math.pow(r,a)-e,a=1/a,function(s){return Math.pow(e+s*r,a)}}(r,a,e):q6(isNaN(r)?a:r)}}(r);function s(l,f){var d=a((l=aa(l)).r,(f=aa(f)).r),h=a(l.g,f.g),p=a(l.b,f.b),v=ai(l.opacity,f.opacity);return function(_){return l.r=d(_),l.g=h(_),l.b=p(_),l.opacity=v(_),l+""}}return s.gamma=e,s}(1);function iz(e){return function(r){var d,h,a=r.length,s=new Array(a),l=new Array(a),f=new Array(a);for(d=0;d<a;++d)h=aa(r[d]),s[d]=h.r||0,l[d]=h.g||0,f[d]=h.b||0;return s=e(s),l=e(l),f=e(f),h.opacity=1,function(p){return h.r=s(p),h.g=l(p),h.b=f(p),h+""}}}var rC=iz(iC),oC=iz(V9);function P9(e,r){r||(r=[]);var l,a=e?Math.min(r.length,e.length):0,s=r.slice();return function(f){for(l=0;l<a;++l)s[l]=e[l]*(1-f)+r[l]*f;return s}}function H9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function rz(e,r){return(H9(r)?P9:aC)(e,r)}function aC(e,r){var d,a=r?r.length:0,s=e?Math.min(a,e.length):0,l=new Array(s),f=new Array(a);for(d=0;d<s;++d)l[d]=sa(e[d],r[d]);for(;d<a;++d)f[d]=r[d];return function(h){for(d=0;d<s;++d)f[d]=l[d](h);return f}}function Vr(e,r){var a=new Date;return e=+e,r=+r,function(s){return a.setTime(e*(1-s)+r*s),a}}function po(e,r){return e=+e,r=+r,function(a){return e*(1-a)+r*a}}function sC(e,r){var l,a={},s={};for(l in(null===e||"object"!=typeof e)&&(e={}),(null===r||"object"!=typeof r)&&(r={}),r)l in e?a[l]=sa(e[l],r[l]):s[l]=r[l];return function(f){for(l in a)s[l]=a[l](f);return s}}var cC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lC=new RegExp(cC.source,"g");function fC(e,r){var s,l,f,a=cC.lastIndex=lC.lastIndex=0,d=-1,h=[],p=[];for(e+="",r+="";(s=cC.exec(e))&&(l=lC.exec(r));)(f=l.index)>a&&(f=r.slice(a,f),h[d]?h[d]+=f:h[++d]=f),(s=s[0])===(l=l[0])?h[d]?h[d]+=l:h[++d]=l:(h[++d]=null,p.push({i:d,x:po(s,l)})),a=lC.lastIndex;return a<r.length&&(f=r.slice(a),h[d]?h[d]+=f:h[++d]=f),h.length<2?p[0]?function(e){return function(r){return e(r)+""}}(p[0].x):function(e){return function(){return e}}(r):(r=p.length,function(v){for(var y,_=0;_<r;++_)h[(y=p[_]).i]=y.x(v);return h.join("")})}function sa(e,r){var s,a=typeof r;return null==r||"boolean"===a?q6(r):("number"===a?po:"string"===a?(s=U6(r))?(r=s,w8):fC:r instanceof U6?w8:r instanceof Date?Vr:H9(r)?P9:Array.isArray(r)?aC:"function"!=typeof r.valueOf&&"function"!=typeof r.toString||isNaN(r)?sC:po)(e,r)}function M0(e,r){return e=+e,r=+r,function(a){return Math.round(e*(1-a)+r*a)}}function B9(e){return+e}var dC=[0,1];function dr(e){return e}function j9(e,r){return(r-=e=+e)?function(a){return(a-e)/r}:function(e){return function(){return e}}(isNaN(r)?NaN:.5)}function az(e,r,a){var s=e[0],l=e[1],f=r[0],d=r[1];return l<s?(s=j9(l,s),f=a(d,f)):(s=j9(s,l),f=a(f,d)),function(h){return f(s(h))}}function sz(e,r,a){var s=Math.min(e.length,r.length)-1,l=new Array(s),f=new Array(s),d=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++d<s;)l[d]=j9(e[d],e[d+1]),f[d]=a(r[d],r[d+1]);return function(h){var p=_0(e,h,1,s)-1;return f[p](l[p](h))}}function w0(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function G6(){var s,l,f,h,p,v,e=dC,r=dC,a=sa,d=dr;function _(){var C=Math.min(e.length,r.length);return d!==dr&&(d=function(e,r){var a;return e>r&&(a=e,e=r,r=a),function(s){return Math.max(e,Math.min(r,s))}}(e[0],e[C-1])),h=C>2?sz:az,p=v=null,y}function y(C){return null==C||isNaN(C=+C)?f:(p||(p=h(e.map(s),r,a)))(s(d(C)))}return y.invert=function(C){return d(l((v||(v=h(r,e.map(s),po)))(C)))},y.domain=function(C){return arguments.length?(e=Array.from(C,B9),_()):e.slice()},y.range=function(C){return arguments.length?(r=Array.from(C),_()):r.slice()},y.rangeRound=function(C){return r=Array.from(C),a=M0,_()},y.clamp=function(C){return arguments.length?(d=!!C||dr,_()):d!==dr},y.interpolate=function(C){return arguments.length?(a=C,_()):a},y.unknown=function(C){return arguments.length?(f=C,y):f},function(C,M){return s=C,l=M,_()}}function mC(){return G6()(dr,dr)}function Pi(e){var r=e.domain;return e.ticks=function(a){var s=r();return an(s[0],s[s.length-1],null==a?10:a)},e.tickFormat=function(a,s){var l=r();return z9(l[0],l[l.length-1],null==a?10:a,s)},e.nice=function(a){null==a&&(a=10);var p,v,s=r(),l=0,f=s.length-1,d=s[l],h=s[f],_=10;for(h<d&&(v=d,d=h,h=v,v=l,l=f,f=v);_-- >0;){if((v=La(d,h,a))===p)return s[l]=d,s[f]=h,r(s);if(v>0)d=Math.floor(d/v)*v,h=Math.ceil(h/v)*v;else{if(!(v<0))break;d=Math.ceil(d*v)/v,h=Math.floor(h*v)/v}p=v}return e},e}function gC(e,r){var d,a=0,s=(e=e.slice()).length-1,l=e[a],f=e[s];return f<l&&(d=a,a=s,s=d,d=l,l=f,f=d),e[a]=r.floor(l),e[s]=r.ceil(f),e}function cz(e){return Math.log(e)}function U9(e){return Math.exp(e)}function lz(e){return-Math.log(-e)}function uz(e){return-Math.exp(-e)}function fz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vC(e){return function(r){return-e(-r)}}function E0(e){var l,f,r=e(cz,U9),a=r.domain,s=10;function d(){return l=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(r){return Math.log(r)/e})}(s),f=function(e){return 10===e?fz:e===Math.E?Math.exp:function(r){return Math.pow(e,r)}}(s),a()[0]<0?(l=vC(l),f=vC(f),e(lz,uz)):e(cz,U9),r}return r.base=function(h){return arguments.length?(s=+h,d()):s},r.domain=function(h){return arguments.length?(a(h),d()):a()},r.ticks=function(h){var y,p=a(),v=p[0],_=p[p.length-1];(y=_<v)&&(C=v,v=_,_=C);var w,A,S,C=l(v),M=l(_),T=null==h?10:+h,N=[];if(!(s%1)&&M-C<T){if(C=Math.floor(C),M=Math.ceil(M),v>0){for(;C<=M;++C)for(A=1,w=f(C);A<s;++A)if(!((S=w*A)<v)){if(S>_)break;N.push(S)}}else for(;C<=M;++C)for(A=s-1,w=f(C);A>=1;--A)if(!((S=w*A)<v)){if(S>_)break;N.push(S)}2*N.length<T&&(N=an(v,_,T))}else N=an(C,M,Math.min(M-C,T)).map(f);return y?N.reverse():N},r.tickFormat=function(h,p){if(null==p&&(p=10===s?".0e":","),"function"!=typeof p&&(p=Is(p)),h===1/0)return p;null==h&&(h=10);var v=Math.max(1,s*h/r.ticks().length);return function(_){var y=_/f(Math.round(l(_)));return y*s<s-.5&&(y*=s),y<=v?p(_):""}},r.nice=function(){return a(gC(a(),{floor:function(h){return f(Math.floor(l(h)))},ceil:function(h){return f(Math.ceil(l(h)))}}))},r}function _C(e){return function(r){return r<0?-Math.pow(-r,e):Math.pow(r,e)}}function q9(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function W9(e){return e<0?-e*e:e*e}function A8(e){var r=e(dr,dr),a=1;function s(){return 1===a?e(dr,dr):.5===a?e(q9,W9):e(_C(a),_C(1/a))}return r.exponent=function(l){return arguments.length?(a=+l,s()):a},Pi(r)}function G9(){var e=A8(G6());return e.copy=function(){return w0(e,G9()).exponent(e.exponent())},Xa.apply(e,arguments),e}function S8(e){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/e))}}function mz(e){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*e}}function X9(e){var r=1,a=e(S8(r),mz(r));return a.constant=function(s){return arguments.length?e(S8(r=+s),mz(r)):r},Pi(a)}function Z9(e,r,a,s,l,f){const d=[[ac,1,Kr],[ac,5,5e3],[ac,15,15e3],[ac,30,3e4],[f,1,nr],[f,5,5*nr],[f,15,15*nr],[f,30,30*nr],[l,1,w1],[l,3,3*w1],[l,6,6*w1],[l,12,12*w1],[s,1,Go],[s,2,2*Go],[a,1,ec],[r,1,r6],[r,3,3*r6],[e,1,$l]];function p(v,_,y){const C=Math.abs(_-v)/y,M=vf(([,,S])=>S).right(d,C);if(M===d.length)return e.every(Fa(v/$l,_/$l,y));if(0===M)return ir.every(Math.max(Fa(v,_,y),1));const[w,A]=d[C/d[M-1][2]<d[M][2]/C?M-1:M];return w.every(A)}return[function(v,_,y){const C=_<v;C&&([v,_]=[_,v]);const M=y&&"function"==typeof y.range?y:p(v,_,y),w=M?M.range(v,+_+1):[];return C?w.reverse():w},p]}const[yC,bC]=Z9(cc,m7,Qe,ae,p7,iy),[CC,Ka]=Z9(Zo,Fe,Ls,Xo,Ra,Je);function k8(e){return new Date(e)}function pz(e){return e instanceof Date?+e:+new Date(+e)}function K9(e,r,a,s,l,f,d,h,p,v){var _=mC(),y=_.invert,C=_.domain,M=v(".%L"),w=v(":%S"),A=v("%I:%M"),S=v("%I %p"),T=v("%a %d"),N=v("%b %d"),I=v("%B"),F=v("%Y");function O(P){return(p(P)<P?M:h(P)<P?w:d(P)<P?A:f(P)<P?S:s(P)<P?l(P)<P?T:N:a(P)<P?I:F)(P)}return _.invert=function(P){return new Date(y(P))},_.domain=function(P){return arguments.length?C(Array.from(P,pz)):C().map(k8)},_.ticks=function(P){var V=C();return e(V[0],V[V.length-1],null==P?10:P)},_.tickFormat=function(P,V){return null==V?O:v(V)},_.nice=function(P){var V=C();return(!P||"function"!=typeof P.range)&&(P=r(V[0],V[V.length-1],null==P?10:P)),P?C(gC(V,P)):_},_.copy=function(){return w0(_,K9(e,r,a,s,l,f,d,h,p,v))},_}function Y6(){var a,s,l,f,p,e=0,r=1,d=dr,h=!1;function v(y){return null==y||isNaN(y=+y)?p:d(0===l?.5:(y=(f(y)-a)*l,h?Math.max(0,Math.min(1,y)):y))}function _(y){return function(C){var M,w;return arguments.length?([M,w]=C,d=y(M,w),v):[d(0),d(1)]}}return v.domain=function(y){return arguments.length?([e,r]=y,a=f(e=+e),s=f(r=+r),l=a===s?0:1/(s-a),v):[e,r]},v.clamp=function(y){return arguments.length?(h=!!y,v):h},v.interpolator=function(y){return arguments.length?(d=y,v):d},v.range=_(sa),v.rangeRound=_(M0),v.unknown=function(y){return arguments.length?(p=y,v):p},function(y){return f=y,a=y(e),s=y(r),l=a===s?0:1/(s-a),v}}function I1(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Vc(){var e=Pi(Y6()(dr));return e.copy=function(){return I1(e,Vc())},o2.apply(e,arguments)}function z8(){var e=A8(Y6());return e.copy=function(){return I1(e,z8()).exponent(e.exponent())},o2.apply(e,arguments)}function N8(e,r){void 0===r&&(r=e,e=sa);for(var a=0,s=r.length-1,l=r[0],f=new Array(s<0?0:s);a<s;)f[a]=e(l,l=r[++a]);return function(d){var h=Math.max(0,Math.min(s-1,Math.floor(d*=s)));return f[h](d-h)}}function I8(){var l,f,d,h,p,_,C,e=0,r=.5,a=1,s=1,v=dr,y=!1;function M(A){return isNaN(A=+A)?C:(A=.5+((A=+_(A))-f)*(s*A<s*f?h:p),v(y?Math.max(0,Math.min(1,A)):A))}function w(A){return function(S){var T,N,I;return arguments.length?([T,N,I]=S,v=N8(A,[T,N,I]),M):[v(0),v(.5),v(1)]}}return M.domain=function(A){return arguments.length?([e,r,a]=A,l=_(e=+e),f=_(r=+r),d=_(a=+a),h=l===f?0:.5/(f-l),p=f===d?0:.5/(d-f),s=f<l?-1:1,M):[e,r,a]},M.clamp=function(A){return arguments.length?(y=!!A,M):y},M.interpolator=function(A){return arguments.length?(v=A,M):v},M.range=w(sa),M.rangeRound=w(M0),M.unknown=function(A){return arguments.length?(C=A,M):C},function(A){return _=A,l=A(e),f=A(r),d=A(a),h=l===f?0:.5/(f-l),p=f===d?0:.5/(d-f),s=f<l?-1:1,M}}function F8(){var e=A8(I8());return e.copy=function(){return I1(e,F8()).exponent(e.exponent())},o2.apply(e,arguments)}function A0(e){var r=e.length;return function(a){return e[Math.max(0,Math.min(r-1,Math.floor(a*r)))]}}function vz(e,r){var a=W6(+e,+r);return function(s){var l=a(s);return l-360*Math.floor(l/360)}}var em,AC=180/Math.PI,J9={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function SC(e,r,a,s,l,f){var d,h,p;return(d=Math.sqrt(e*e+r*r))&&(e/=d,r/=d),(p=e*a+r*s)&&(a-=e*p,s-=r*p),(h=Math.sqrt(a*a+s*s))&&(a/=h,s/=h,p/=h),e*s<r*a&&(e=-e,r=-r,p=-p,d=-d),{translateX:l,translateY:f,rotate:Math.atan2(r,e)*AC,skewX:Math.atan(p)*AC,scaleX:d,scaleY:h}}function Kt(e,r,a,s){function l(v){return v.length?v.pop()+" ":""}return function(v,_){var y=[],C=[];return v=e(v),_=e(_),function(v,_,y,C,M,w){if(v!==y||_!==C){var A=M.push("translate(",null,r,null,a);w.push({i:A-4,x:po(v,y)},{i:A-2,x:po(_,C)})}else(y||C)&&M.push("translate("+y+r+C+a)}(v.translateX,v.translateY,_.translateX,_.translateY,y,C),function(v,_,y,C){v!==_?(v-_>180?_+=360:_-v>180&&(v+=360),C.push({i:y.push(l(y)+"rotate(",null,s)-2,x:po(v,_)})):_&&y.push(l(y)+"rotate("+_+s)}(v.rotate,_.rotate,y,C),function(v,_,y,C){v!==_?C.push({i:y.push(l(y)+"skewX(",null,s)-2,x:po(v,_)}):_&&y.push(l(y)+"skewX("+_+s)}(v.skewX,_.skewX,y,C),function(v,_,y,C,M,w){if(v!==y||_!==C){var A=M.push(l(M)+"scale(",null,",",null,")");w.push({i:A-4,x:po(v,y)},{i:A-2,x:po(_,C)})}else(1!==y||1!==C)&&M.push(l(M)+"scale("+y+","+C+")")}(v.scaleX,v.scaleY,_.scaleX,_.scaleY,y,C),v=_=null,function(M){for(var S,w=-1,A=C.length;++w<A;)y[(S=C[w]).i]=S.x(M);return y.join("")}}}var tm=Kt(function(e){const r=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?J9:SC(r.a,r.b,r.c,r.d,r.e,r.f)},"px, ","px)","deg)"),Qa=Kt(function(e){return null!=e&&(em||(em=document.createElementNS("http://www.w3.org/2000/svg","g")),em.setAttribute("transform",e),e=em.transform.baseVal.consolidate())?SC((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):J9},", ",")",")");function R8(e){return((e=Math.exp(e))+1/e)/2}const TC=function e(r,a,s){function l(f,d){var S,T,h=f[0],p=f[1],v=f[2],C=d[2],M=d[0]-h,w=d[1]-p,A=M*M+w*w;if(A<1e-12)T=Math.log(C/v)/r,S=function(V){return[h+V*M,p+V*w,v*Math.exp(r*V*T)]};else{var N=Math.sqrt(A),I=(C*C-v*v+s*A)/(2*v*a*N),F=(C*C-v*v-s*A)/(2*C*a*N),O=Math.log(Math.sqrt(I*I+1)-I),P=Math.log(Math.sqrt(F*F+1)-F);T=(P-O)/r,S=function(V){var G=V*T,Y=R8(O),W=v/(a*N)*(Y*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(r*G+O)-function(e){return((e=Math.exp(e))-1/e)/2}(O));return[h+W*M,p+W*w,v*Y/R8(r*G+O)]}}return S.duration=1e3*T*r/Math.SQRT2,S}return l.rho=function(f){var d=Math.max(.001,+f),h=d*d;return e(d,h,h*h)},l}(Math.SQRT2,2,4);function im(e){return function(r,a){var s=e((r=x0(r)).h,(a=x0(a)).h),l=ai(r.s,a.s),f=ai(r.l,a.l),d=ai(r.opacity,a.opacity);return function(h){return r.h=s(h),r.s=l(h),r.l=f(h),r.opacity=d(h),r+""}}}const zC=im(W6);var NC=im(ai);const IC=Math.PI/180,LC=180/Math.PI,am=4/29,Oc=6/29,FC=3*Oc*Oc;function RC(e){if(e instanceof ca)return new ca(e.l,e.a,e.b,e.opacity);if(e instanceof go)return lm(e);e instanceof wi||(e=L9(e));var f,d,r=VC(e.r),a=VC(e.g),s=VC(e.b),l=O8((.2225045*r+.7168786*a+.0606169*s)/1);return r===a&&a===s?f=d=l:(f=O8((.4360747*r+.3850649*a+.1430804*s)/.96422),d=O8((.0139322*r+.0971045*a+.7141733*s)/.82521)),new ca(116*l-16,500*(f-l),200*(l-d),e.opacity)}function Z6(e,r,a,s){return 1===arguments.length?RC(e):new ca(e,r,a,null==s?1:s)}function ca(e,r,a,s){this.l=+e,this.a=+r,this.b=+a,this.opacity=+s}function O8(e){return e>.008856451679035631?Math.pow(e,1/3):e/FC+am}function sm(e){return e>Oc?e*e*e:FC*(e-am)}function cm(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function VC(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function xz(e){if(e instanceof go)return new go(e.h,e.c,e.l,e.opacity);if(e instanceof ca||(e=RC(e)),0===e.a&&0===e.b)return new go(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var r=Math.atan2(e.b,e.a)*LC;return new go(r<0?r+360:r,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function P8(e,r,a,s){return 1===arguments.length?xz(e):new go(e,r,a,null==s?1:s)}function go(e,r,a,s){this.h=+e,this.c=+r,this.l=+a,this.opacity=+s}function lm(e){if(isNaN(e.h))return new ca(e.l,0,0,e.opacity);var r=e.h*IC;return new ca(e.l,Math.cos(r)*e.c,Math.sin(r)*e.c,e.opacity)}function H$(e,r){var a=ai((e=Z6(e)).l,(r=Z6(r)).l),s=ai(e.a,r.a),l=ai(e.b,r.b),f=ai(e.opacity,r.opacity);return function(d){return e.l=a(d),e.a=s(d),e.b=l(d),e.opacity=f(d),e+""}}function L1(e){return function(r,a){var s=e((r=P8(r)).h,(a=P8(a)).h),l=ai(r.c,a.c),f=ai(r.l,a.l),d=ai(r.opacity,a.opacity);return function(h){return r.h=s(h),r.c=l(h),r.l=f(h),r.opacity=d(h),r+""}}}y0(ca,Z6,Nc(Ic,{brighter:function(e){return new ca(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new ca(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,r=isNaN(this.a)?e:e+this.a/500,a=isNaN(this.b)?e:e-this.b/200;return new wi(cm(3.1338561*(r=.96422*sm(r))-1.6168667*(e=1*sm(e))-.4906146*(a=.82521*sm(a))),cm(-.9787684*r+1.9161415*e+.033454*a),cm(.0719453*r-.2289914*e+1.4052427*a),this.opacity)}})),y0(go,P8,Nc(Ic,{brighter:function(e){return new go(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new go(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return lm(this).rgb()}}));const B$=L1(W6);var j$=L1(ai),H8=1.78277,B8=-.29227,j8=-.90649,U8=1.97294,fm=U8*j8,Ze=U8*H8,PC=H8*B8- -.14861*j8;function dm(e){if(e instanceof Pc)return new Pc(e.h,e.s,e.l,e.opacity);e instanceof wi||(e=L9(e));var a=e.g/255,s=e.b/255,l=(PC*s+fm*(e.r/255)-Ze*a)/(PC+fm-Ze),f=s-l,d=(U8*(a-l)-B8*f)/j8,h=Math.sqrt(d*d+f*f)/(U8*l*(1-l)),p=h?Math.atan2(d,f)*LC-120:NaN;return new Pc(p<0?p+360:p,h,l,e.opacity)}function hm(e,r,a,s){return 1===arguments.length?dm(e):new Pc(e,r,a,null==s?1:s)}function Pc(e,r,a,s){this.h=+e,this.s=+r,this.l=+a,this.opacity=+s}function HC(e){return function r(a){function s(l,f){var d=e((l=hm(l)).h,(f=hm(f)).h),h=ai(l.s,f.s),p=ai(l.l,f.l),v=ai(l.opacity,f.opacity);return function(_){return l.h=d(_),l.s=h(_),l.l=p(Math.pow(_,a)),l.opacity=v(_),l+""}}return a=+a,s.gamma=r,s}(1)}y0(Pc,hm,Nc(Ic,{brighter:function(e){return e=null==e?B6:Math.pow(B6,e),new Pc(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Pc(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*IC,r=+this.l,a=isNaN(this.s)?0:this.s*r*(1-r),s=Math.cos(e),l=Math.sin(e);return new wi(255*(r+a*(-.14861*s+H8*l)),255*(r+a*(B8*s+j8*l)),255*(r+a*(U8*s)),this.opacity)}}));const Mz=HC(W6);var wz=HC(ai);function Ez(e,r){for(var a=new Array(r),s=0;s<r;++s)a[s]=e(s/(r-1));return a}function S0(e,r,a){const s=e-r+2*a;return e?s>0?s:1:0}const Hc="linear",o1="log",K6="pow",Q6="sqrt",T0="symlog",Hi="time",vo="utc",fn="sequential",F1="diverging",Ja="quantile",hr="quantize",dt="threshold",c2="ordinal",l2="point",u2="bin-ordinal",mn="continuous",la="discrete",ua="discretizing",Ei="interpolating",f2="temporal";function $8(){const e=_8().unknown(void 0),r=e.domain,a=e.range;let l,f,s=[0,1],d=!1,h=0,p=0,v=.5;function _(){const y=r().length,C=s[1]<s[0],M=s[1-C],w=S0(y,h,p);let A=s[C-0];l=(M-A)/(w||1),d&&(l=Math.floor(l)),A+=(M-A-l*(y-h))*v,f=l*(1-h),d&&(A=Math.round(A),f=Math.round(f));const S=ur(y).map(T=>A+l*T);return a(C?S.reverse():S)}return delete e.unknown,e.domain=function(y){return arguments.length?(r(y),_()):r()},e.range=function(y){return arguments.length?(s=[+y[0],+y[1]],_()):s.slice()},e.rangeRound=function(y){return s=[+y[0],+y[1]],d=!0,_()},e.bandwidth=function(){return f},e.step=function(){return l},e.round=function(y){return arguments.length?(d=!!y,_()):d},e.padding=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),h=p,_()):h},e.paddingInner=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),_()):h},e.paddingOuter=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),_()):p},e.align=function(y){return arguments.length?(v=Math.max(0,Math.min(1,y)),_()):v},e.invertRange=function(y){if(null==y[0]||null==y[1])return;const C=s[1]<s[0],M=C?a().reverse():a(),w=M.length-1;let T,N,I,A=+y[0],S=+y[1];return A!=A||S!=S||(S<A&&(I=A,A=S,S=I),S<M[0]||A>s[1-C])?void 0:(T=Math.max(0,v8(M,A)-1),N=A===S?T:v8(M,S)-1,A-M[T]>f+1e-10&&++T,C&&(I=T,T=w-N,N=w-I),T>N?void 0:r().slice(T,N+1))},e.invert=function(y){const C=e.invertRange([y,y]);return C&&C[0]},e.copy=function(){return $8().domain(r()).range(s).round(d).paddingInner(h).paddingOuter(p).align(v)},_()}function mm(e){const r=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return mm(r())},e}var $C=Array.prototype.map;function qC(e){return $C.call(e,E.He)}const WC=Array.prototype.slice,q8={};function it(e,r,a){const s=function(){const f=r();return f.invertRange||(f.invertRange=f.invert?function(e){return function(r){let l,a=r[0],s=r[1];return s<a&&(l=a,a=s,s=l),[e.invert(a),e.invert(s)]}}(f):f.invertExtent?function(e){return function(r){const a=e.range();let d,h,p,v,s=r[0],l=r[1],f=-1;for(l<s&&(h=s,s=l,l=h),p=0,v=a.length;p<v;++p)a[p]>=s&&a[p]<=l&&(f<0&&(f=p),d=p);if(!(f<0))return s=e.invertExtent(a[f]),l=e.invertExtent(a[d]),[void 0===s[0]?s[1]:s[0],void 0===l[1]?l[0]:l[1]]}}(f):void 0),f.type=e,f};return s.metadata=(0,E.Rg)((0,E.IX)(a)),s}function Ht(e,r,a){return arguments.length>1?(q8[e]=it(e,r,a),this):d2(e)?q8[e]:void 0}function d2(e){return(0,E.nr)(q8,e)}function h2(e,r){const a=q8[e];return a&&a.metadata[r]}function gm(e){return h2(e,mn)}function z0(e){return h2(e,la)}function W8(e){return h2(e,ua)}function GC(e){return h2(e,o1)}function YC(e){return h2(e,Ei)}function ZC(e){return h2(e,Ja)}Ht("identity",function pC(e){var r;function a(s){return null==s||isNaN(s=+s)?r:s}return a.invert=a,a.domain=a.range=function(s){return arguments.length?(e=Array.from(s,B9),a):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return pC(e).unknown(r)},e=arguments.length?Array.from(e,B9):[0,1],Pi(a)}),Ht(Hc,function E8(){var e=mC();return e.copy=function(){return w0(e,E8())},Xa.apply(e,arguments),Pi(e)},mn),Ht(o1,function D8(){var e=E0(G6()).domain([1,10]);return e.copy=function(){return w0(e,D8()).base(e.base())},Xa.apply(e,arguments),e},[mn,o1]),Ht(K6,G9,mn),Ht(Q6,function(){return G9.apply(null,arguments).exponent(.5)},mn),Ht(T0,function Y9(){var e=X9(G6());return e.copy=function(){return w0(e,Y9()).constant(e.constant())},Xa.apply(e,arguments)},mn),Ht(Hi,function(){return Xa.apply(K9(CC,Ka,Zo,Fe,Ls,Xo,Ra,Je,ac,ar).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},[mn,f2]),Ht(vo,function(){return Xa.apply(K9(yC,bC,cc,m7,Qe,ae,p7,iy,ac,l6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},[mn,f2]),Ht(fn,Vc,[mn,Ei]),Ht("".concat(fn,"-").concat(Hc),Vc,[mn,Ei]),Ht("".concat(fn,"-").concat(o1),function xC(){var e=E0(Y6()).domain([1,10]);return e.copy=function(){return I1(e,xC()).base(e.base())},o2.apply(e,arguments)},[mn,Ei,o1]),Ht("".concat(fn,"-").concat(K6),z8,[mn,Ei]),Ht("".concat(fn,"-").concat(Q6),function(){return z8.apply(null,arguments).exponent(.5)},[mn,Ei]),Ht("".concat(fn,"-").concat(T0),function T8(){var e=X9(Y6());return e.copy=function(){return I1(e,T8()).constant(e.constant())},o2.apply(e,arguments)},[mn,Ei]),Ht("".concat(F1,"-").concat(Hc),function L8(){var e=Pi(I8()(dr));return e.copy=function(){return I1(e,L8())},o2.apply(e,arguments)},[mn,Ei]),Ht("".concat(F1,"-").concat(o1),function MC(){var e=E0(I8()).domain([.1,1,10]);return e.copy=function(){return I1(e,MC()).base(e.base())},o2.apply(e,arguments)},[mn,Ei,o1]),Ht("".concat(F1,"-").concat(K6),F8,[mn,Ei]),Ht("".concat(F1,"-").concat(Q6),function(){return F8.apply(null,arguments).exponent(.5)},[mn,Ei]),Ht("".concat(F1,"-").concat(T0),function wC(){var e=X9(I8());return e.copy=function(){return I1(e,wC()).constant(e.constant())},o2.apply(e,arguments)},[mn,Ei]),Ht(Ja,function Q9(){var s,e=[],r=[],a=[];function l(){var d=0,h=Math.max(1,r.length);for(a=new Array(h-1);++d<h;)a[d-1]=Of(e,d/h);return f}function f(d){return null==d||isNaN(d=+d)?s:r[_0(a,d)]}return f.invertExtent=function(d){var h=r.indexOf(d);return h<0?[NaN,NaN]:[h>0?a[h-1]:e[0],h<a.length?a[h]:e[e.length-1]]},f.domain=function(d){if(!arguments.length)return e.slice();e=[];for(let h of d)null!=h&&!isNaN(h=+h)&&e.push(h);return e.sort(Ut),l()},f.range=function(d){return arguments.length?(r=Array.from(d),l()):r.slice()},f.unknown=function(d){return arguments.length?(s=d,f):s},f.quantiles=function(){return a.slice()},f.copy=function(){return Q9().domain(e).range(r).unknown(s)},Xa.apply(f,arguments)},[ua,Ja]),Ht(hr,function EC(){var f,e=0,r=1,a=1,s=[.5],l=[0,1];function d(p){return null!=p&&p<=p?l[_0(s,p,0,a)]:f}function h(){var p=-1;for(s=new Array(a);++p<a;)s[p]=((p+1)*r-(p-a)*e)/(a+1);return d}return d.domain=function(p){return arguments.length?([e,r]=p,e=+e,r=+r,h()):[e,r]},d.range=function(p){return arguments.length?(a=(l=Array.from(p)).length-1,h()):l.slice()},d.invertExtent=function(p){var v=l.indexOf(p);return v<0?[NaN,NaN]:v<1?[e,s[0]]:v>=a?[s[a-1],r]:[s[v-1],s[v]]},d.unknown=function(p){return arguments.length&&(f=p),d},d.thresholds=function(){return s.slice()},d.copy=function(){return EC().domain([e,r]).range(l).unknown(f)},Xa.apply(Pi(d),arguments)},ua),Ht(dt,function DC(){var a,e=[.5],r=[0,1],s=1;function l(f){return null!=f&&f<=f?r[_0(e,f,0,s)]:a}return l.domain=function(f){return arguments.length?(e=Array.from(f),s=Math.min(e.length,r.length-1),l):e.slice()},l.range=function(f){return arguments.length?(r=Array.from(f),s=Math.min(e.length,r.length-1),l):r.slice()},l.invertExtent=function(f){var d=r.indexOf(f);return[e[d-1],e[d]]},l.unknown=function(f){return arguments.length?(a=f,l):a},l.copy=function(){return DC().domain(e).range(r).unknown(a)},Xa.apply(l,arguments)},ua),Ht(u2,function pm(){let e=[],r=[];function a(s){return null==s||s!=s?void 0:r[(_0(e,s)-1)%r.length]}return a.domain=function(s){return arguments.length?(e=qC(s),a):e.slice()},a.range=function(s){return arguments.length?(r=WC.call(s),a):r.slice()},a.tickFormat=function(s,l){return z9(e[0],(0,E.fj)(e),null==s?10:s,l)},a.copy=function(){return pm().domain(a.domain()).range(a.range())},a},[la,ua]),Ht(c2,_8,la),Ht("band",$8,la),Ht(l2,function(){return mm($8().paddingInner(1))},la);const Dz=["clamp","base","constant","exponent"];function QC(e,r,a){return N8(JC(r||"rgb",a),e)}function Az(e,r,a){const s=a-r;let l,f,d;return s&&Number.isFinite(s)?(l=(f=e.type).indexOf("-"),f=l<0?f:f.slice(l+1),d=Ht(f)().domain([r,a]).range([0,1]),Dz.forEach(h=>e[h]?d[h](e[h]()):0),d):(0,E.a9)(.5)}function JC(e,r){const a=$o[function(e){return"interpolate"+e.toLowerCase().split("-").map(r=>r[0].toUpperCase()+r.slice(1)).join("")}(e)];return null!=r&&a&&a.gamma?a.gamma(r):a}function ex(e){const r=e.length/6|0,a=new Array(r);for(let s=0;s<r;)a[s]="#"+e.slice(6*s,6*++s);return a}function kz(e,r){for(const a in e)zz(a,r(e[a]))}const Tz={};function zz(e,r){return e=e&&e.toLowerCase(),arguments.length>1?(Tz[e]=r,this):Tz[e]}kz({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},ex),kz({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},e=>QC(ex(e)));const G8="symbol",Nz=e=>(0,E.kJ)(e)?e.map(r=>String(r)):String(e),N0=(e,r)=>e[1]-r[1],Iz=(e,r)=>r[1]-e[1];function X8(e,r,a){let s;return(0,E.hj)(r)&&(e.bins&&(r=Math.max(r,e.bins.length)),null!=a&&(r=Math.min(r,Math.floor((0,E.yP)(e.domain())/a||1)))),(0,E.Kn)(r)&&(s=r.step,r=r.interval),(0,E.HD)(r)&&(r=e.type===Hi?lc(r):e.type==vo?Gl(r):(0,E.vU)("Only time and utc scales accept interval strings."),s&&(r=r.every(s))),r}function nx(e,r,a){let s=e.range(),l=s[0],f=(0,E.fj)(s),d=N0;if(l>f&&(s=f,f=l,l=s,d=Iz),l=Math.floor(l),f=Math.ceil(f),r=r.map(h=>[h,e(h)]).filter(h=>l<=h[1]&&h[1]<=f).sort(d).map(h=>h[0]),a>0&&r.length>1){const h=[r[0],(0,E.fj)(r)];for(;r.length>a&&r.length>=3;)r=r.filter((p,v)=>!(v%2));r.length<3&&(r=h)}return r}function Y8(e,r){return e.bins?nx(e,e.bins):e.ticks?e.ticks(r):e.domain()}function J6(e,r,a,s,l,f){const d=r.type;let h=Nz;if(d===Hi||l===Hi)h=e.timeFormat(s);else if(d===vo||l===vo)h=e.utcFormat(s);else if(GC(d)){const p=e.formatFloat(s);if(f||r.bins)h=p;else{const v=ix(r,a,!1);h=_=>v(_)?p(_):""}}else if(r.tickFormat){const p=r.domain();h=e.formatSpan(p[0],p[p.length-1],a,s)}else s&&(h=e.format(s));return h}function ix(e,r,a){const s=Y8(e,r),l=e.base(),f=Math.log(l),d=Math.max(1,l*r/s.length),h=p=>{let v=p/Math.pow(l,Math.round(Math.log(p)/f));return v*l<l-.5&&(v*=l),v<=d};return a?s.filter(h):h}const Z8={[Ja]:"quantiles",[hr]:"thresholds",[dt]:"domain"},rx={[Ja]:"quantiles",[hr]:"domain"};function ox(e,r){return e.bins?function(e){const r=e.slice(0,-1);return r.max=(0,E.fj)(e),r}(e.bins):e.type===o1?ix(e,r,!0):Z8[e.type]?function(e){const r=[-1/0].concat(e);return r.max=1/0,r}(e[Z8[e.type]]()):Y8(e,r)}function sx(e,r,a,s,l,f,d){const h=rx[r.type]&&f!==Hi&&f!==vo?function(e,r,a){const s=r[rx[r.type]](),l=s.length;let d,f=l>1?s[1]-s[0]:s[0];for(d=1;d<l;++d)f=Math.min(f,s[d]-s[d-1]);return e.formatSpan(0,f,30,a)}(e,r,l):J6(e,r,a,l,f,d);return s===G8&&(e=>Z8[e.type]||e.bins)(r)?cx(h):"discrete"===s?bm(h):W$(h)}const cx=e=>(r,a,s)=>{const l=ym(s[a+1],ym(s.max,1/0)),f=K8(r,e),d=K8(l,e);return f&&d?f+" \u2013 "+d:d?"< "+d:"\u2265 "+f},ym=(e,r)=>null!=e?e:r,bm=e=>(r,a)=>a?e(r):null,W$=e=>r=>e(r),K8=(e,r)=>Number.isFinite(e)?r(e):null;function q(e,r,a){a=a||{};const s=Math.max(3,a.maxlen||7),l=function(e,r,a,s){const l=s||r.type;return(0,E.HD)(a)&&function(e){return h2(e,f2)}(l)&&(a=a.replace(/%a/g,"%A").replace(/%b/g,"%B")),a||l!==Hi?a||l!==vo?sx(e,r,5,null,a,s,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}(e,r,a.format,a.formatType);if(W8(r.type)){const f=ox(r).slice(1).map(l),d=f.length;return"".concat(d," boundar").concat(1===d?"y":"ies",": ").concat(f.join(", "))}if(z0(r.type)){const f=r.domain(),d=f.length,h=d>s?f.slice(0,s-2).map(l).join(", ")+", ending with "+f.slice(-1).map(l):f.map(l).join(", ");return"".concat(d," value").concat(1===d?"":"s",": ").concat(h)}{const f=r.domain();return"values from ".concat(l(f[0])," to ").concat(l((0,E.fj)(f)))}}let Q8=0;function Cm(e){return e&&e.gradient}function $(e,r,a){const s=e.gradient;let l=e.id,f="radial"===s?"p_":"";return l||(l=e.id="gradient_"+Q8++,"radial"===s?(e.x1=U(e.x1,.5),e.y1=U(e.y1,.5),e.r1=U(e.r1,0),e.x2=U(e.x2,.5),e.y2=U(e.y2,.5),e.r2=U(e.r2,.5),f="p_"):(e.x1=U(e.x1,0),e.y1=U(e.y1,0),e.x2=U(e.x2,1),e.y2=U(e.y2,0))),r[l]=e,"url("+(a||"")+"#"+f+l+")"}function U(e,r){return null!=e?e:r}const Oz={basis:{curve:function(e){return new n1(e)}},"basis-closed":{curve:function(e){return new c9(e)}},"basis-open":{curve:function(e){return new Rr(e)}},bundle:{curve:jT,tension:"beta",value:.85},cardinal:{curve:Rb,tension:"tension",value:0},"cardinal-open":{curve:u9,tension:"tension",value:0},"cardinal-closed":{curve:Vb,tension:"tension",value:0},"catmull-rom":{curve:m9,tension:"alpha",value:.5},"catmull-rom-closed":{curve:qT,tension:"alpha",value:.5},"catmull-rom-open":{curve:Hb,tension:"alpha",value:.5},linear:{curve:a8},"linear-closed":{curve:function(e){return new g9(e)}},monotone:{horizontal:function(e){return new c8(e)},vertical:function(e){return new P6(e)}},natural:{curve:function(e){return new y9(e)}},step:{curve:function(e){return new v0(e,.5)}},"step-after":{curve:function(e){return new v0(e,1)}},"step-before":{curve:function(e){return new v0(e,0)}}};function lx(e,r,a){var s=(0,E.nr)(Oz,e)&&Oz[e],l=null;return s&&(l=s.curve||s[r||"vertical"],s.tension&&null!=a&&(l=l[s.tension](a))),l}const J8={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},m2=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/];function eu(e){const r=[];let a,s,l,f,d,h,p,v,_,y;const C=e.slice().replace(m2[0],"###$1").split(m2[1]).slice(1);for(p=0,_=C.length;p<_;++p){for(a=C[p],s=a.slice(1).trim().replace(m2[2],"$1###$2").replace(m2[3],"$1###$2").split(m2[4]),d=a.charAt(0),l=[d],v=0,y=s.length;v<y;++v)(f=+s[v])===f&&l.push(f);if(h=J8[d.toLowerCase()],l.length-1>h){const M=l.length;for(v=1,r.push([d].concat(l.slice(v,v+=h))),d="M"===d?"L":"m"===d?"l":d;v<M;v+=h)r.push([d].concat(l.slice(v,v+h)))}else r.push(l)}return r}const Kn=Math.PI/180,p2=Math.PI/2,R1=2*Math.PI,Me=Math.sqrt(3)/2;var td={},xm={},Mm=[].join;function wm(e){const r=Mm.call(e);if(xm[r])return xm[r];var a=e[0],s=e[1],l=e[2],f=e[3],d=e[4],h=e[5],p=e[6],v=e[7];const _=v*d,y=-p*h,C=p*d,M=v*h,w=Math.cos(l),A=Math.sin(l),S=Math.cos(f),T=Math.sin(f),N=.5*(f-l),I=Math.sin(.5*N),F=8/3*I*I/Math.sin(N),O=a+w-F*A,P=s+A+F*w,V=a+S,G=s+T,Y=V+F*T,W=G-F*S;return xm[r]=[_*O+y*P,C*O+M*P,_*Y+y*W,C*Y+M*W,_*V+y*G,C*V+M*G]}const Ie=["l",0,0,0,0,0,0,0];function Pz(e,r,a){const s=Ie[0]=e[0];if("a"===s||"A"===s)Ie[1]=r*e[1],Ie[2]=a*e[2],Ie[3]=e[3],Ie[4]=e[4],Ie[5]=e[5],Ie[6]=r*e[6],Ie[7]=a*e[7];else if("h"===s||"H"===s)Ie[1]=r*e[1];else if("v"===s||"V"===s)Ie[1]=a*e[1];else for(var l=1,f=e.length;l<f;++l)Ie[l]=(l%2==1?r:a)*e[l];return Ie}function Bi(e,r,a,s,l,f){var d,C,M,w,A,h=null,p=0,v=0,_=0,y=0;null==a&&(a=0),null==s&&(s=0),null==l&&(l=1),null==f&&(f=l),e.beginPath&&e.beginPath();for(var S=0,T=r.length;S<T;++S){switch(d=r[S],(1!==l||1!==f)&&(d=Pz(d,l,f)),d[0]){case"l":e.lineTo((p+=d[1])+a,(v+=d[2])+s);break;case"L":e.lineTo((p=d[1])+a,(v=d[2])+s);break;case"h":e.lineTo((p+=d[1])+a,v+s);break;case"H":e.lineTo((p=d[1])+a,v+s);break;case"v":e.lineTo(p+a,(v+=d[1])+s);break;case"V":e.lineTo(p+a,(v=d[1])+s);break;case"m":e.moveTo((p+=d[1])+a,(v+=d[2])+s);break;case"M":e.moveTo((p=d[1])+a,(v=d[2])+s);break;case"c":e.bezierCurveTo(p+d[1]+a,v+d[2]+s,(_=p+d[3])+a,(y=v+d[4])+s,(C=p+d[5])+a,(M=v+d[6])+s),p=C,v=M;break;case"C":e.bezierCurveTo(d[1]+a,d[2]+s,(_=d[3])+a,(y=d[4])+s,(p=d[5])+a,(v=d[6])+s);break;case"s":e.bezierCurveTo((_=2*p-_)+a,(y=2*v-y)+s,p+d[1]+a,v+d[2]+s,(C=p+d[3])+a,(M=v+d[4])+s),_=p+d[1],y=v+d[2],p=C,v=M;break;case"S":e.bezierCurveTo((_=2*p-_)+a,(y=2*v-y)+s,d[1]+a,d[2]+s,(C=d[3])+a,(M=d[4])+s),p=C,v=M,_=d[1],y=d[2];break;case"q":e.quadraticCurveTo((_=p+d[1])+a,(y=v+d[2])+s,(C=p+d[3])+a,(M=v+d[4])+s),p=C,v=M;break;case"Q":e.quadraticCurveTo(d[1]+a,d[2]+s,(C=d[3])+a,(M=d[4])+s),p=C,v=M,_=d[1],y=d[2];break;case"t":C=p+d[1],M=v+d[2],null===h[0].match(/[QqTt]/)?(_=p,y=v):"t"===h[0]?(_=2*p-w,y=2*v-A):"q"===h[0]&&(_=2*p-_,y=2*v-y),w=_,A=y,e.quadraticCurveTo(_+a,y+s,C+a,M+s),_=(p=C)+d[1],y=(v=M)+d[2];break;case"T":e.quadraticCurveTo((_=2*p-_)+a,(y=2*v-y)+s,(C=d[1])+a,(M=d[2])+s),p=C,v=M;break;case"a":rn(e,p+a,v+s,[d[1],d[2],d[3],d[4],d[5],d[6]+p+a,d[7]+v+s]),p+=d[6],v+=d[7];break;case"A":rn(e,p+a,v+s,[d[1],d[2],d[3],d[4],d[5],d[6]+a,d[7]+s]),p=d[6],v=d[7];break;case"z":case"Z":e.closePath()}h=d}}function rn(e,r,a,s){const l=function(e,r,a,s,l,f,d,h,p){const v=Mm.call(arguments);if(td[v])return td[v];const _=d*Kn,y=Math.sin(_),C=Math.cos(_),M=C*(h-e)*.5+y*(p-r)*.5,w=C*(p-r)*.5-y*(h-e)*.5;let A=M*M/((a=Math.abs(a))*a)+w*w/((s=Math.abs(s))*s);A>1&&(A=Math.sqrt(A),a*=A,s*=A);const S=C/a,T=y/a,N=-y/s,I=C/s,F=S*h+T*p,O=N*h+I*p,P=S*e+T*r,V=N*e+I*r;let Y=1/((P-F)*(P-F)+(V-O)*(V-O))-.25;Y<0&&(Y=0);let W=Math.sqrt(Y);f==l&&(W=-W);const X=.5*(F+P)-W*(V-O),re=.5*(O+V)+W*(P-F),ie=Math.atan2(O-re,F-X);let J=Math.atan2(V-re,P-X)-ie;J<0&&1===f?J+=R1:J>0&&0===f&&(J-=R1);const fe=Math.ceil(Math.abs(J/(p2+.001))),ye=[];for(let Se=0;Se<fe;++Se)ye[Se]=[X,re,ie+Se*J/fe,ie+(Se+1)*J/fe,a,s,y,C];return td[v]=ye}(s[5],s[6],s[0],s[1],s[3],s[4],s[2],r,a);for(let f=0;f<l.length;++f){const d=wm(l[f]);e.bezierCurveTo(d[0],d[1],d[2],d[3],d[4],d[5])}}const V1=.5773502691896257,g2={circle:{draw:function(e,r){const a=Math.sqrt(r)/2;e.moveTo(a,0),e.arc(0,0,a,0,R1)}},cross:{draw:function(e,r){var a=Math.sqrt(r)/2,s=a/2.5;e.moveTo(-a,-s),e.lineTo(-a,s),e.lineTo(-s,s),e.lineTo(-s,a),e.lineTo(s,a),e.lineTo(s,s),e.lineTo(a,s),e.lineTo(a,-s),e.lineTo(s,-s),e.lineTo(s,-a),e.lineTo(-s,-a),e.lineTo(-s,-s),e.closePath()}},diamond:{draw:function(e,r){const a=Math.sqrt(r)/2;e.moveTo(-a,0),e.lineTo(0,-a),e.lineTo(a,0),e.lineTo(0,a),e.closePath()}},square:{draw:function(e,r){var a=Math.sqrt(r),s=-a/2;e.rect(s,s,a,a)}},arrow:{draw:function(e,r){var a=Math.sqrt(r)/2,s=a/7,l=a/2.5,f=a/8;e.moveTo(-s,a),e.lineTo(s,a),e.lineTo(s,-f),e.lineTo(l,-f),e.lineTo(0,-a),e.lineTo(-l,-f),e.lineTo(-s,-f),e.closePath()}},wedge:{draw:function(e,r){var a=Math.sqrt(r)/2,s=Me*a,l=s-a*V1,f=a/4;e.moveTo(0,-s-l),e.lineTo(-f,s-l),e.lineTo(f,s-l),e.closePath()}},triangle:{draw:function(e,r){var a=Math.sqrt(r)/2,s=Me*a,l=s-a*V1;e.moveTo(0,-s-l),e.lineTo(-a,s-l),e.lineTo(a,s-l),e.closePath()}},"triangle-up":{draw:function(e,r){var a=Math.sqrt(r)/2,s=Me*a;e.moveTo(0,-s),e.lineTo(-a,s),e.lineTo(a,s),e.closePath()}},"triangle-down":{draw:function(e,r){var a=Math.sqrt(r)/2,s=Me*a;e.moveTo(0,s),e.lineTo(-a,-s),e.lineTo(a,-s),e.closePath()}},"triangle-right":{draw:function(e,r){var a=Math.sqrt(r)/2,s=Me*a;e.moveTo(s,0),e.lineTo(-s,-a),e.lineTo(-s,a),e.closePath()}},"triangle-left":{draw:function(e,r){var a=Math.sqrt(r)/2,s=Me*a;e.moveTo(-s,0),e.lineTo(s,-a),e.lineTo(s,a),e.closePath()}},stroke:{draw:function(e,r){const a=Math.sqrt(r)/2;e.moveTo(-a,0),e.lineTo(a,0)}}};var nd={};const es=.448084975506;function hx(e){return e.x}function mx(e){return e.y}function px(e){return e.width}function gx(e){return e.height}function v2(e){return"function"==typeof e?e:()=>+e}function id(e,r,a){return Math.max(r,Math.min(e,a))}function tu(e,r){return null!=e?e:r}const yn=e=>e.x||0,L0=e=>e.y||0,rd=e=>!1!==e.defined,da=function(){var e=$b,r=ZT,a=qt(0),s=null,l=KT,f=fo,d=QT,h=null;function p(){var v,_,y=+e.apply(this,arguments),C=+r.apply(this,arguments),M=l.apply(this,arguments)-o8,w=f.apply(this,arguments)-o8,A=UT(w-M),S=w>M;if(h||(h=v=zc()),C<y&&(_=C,C=y,y=_),C>Oi)if(A>R6-Oi)h.moveTo(C*Wa(M),C*N1(M)),h.arc(0,0,C,M,w,!S),y>Oi&&(h.moveTo(y*Wa(w),y*N1(w)),h.arc(0,0,y,w,M,S));else{var re,ie,T=M,N=w,I=M,F=w,O=A,P=A,V=d.apply(this,arguments)/2,G=V>Oi&&(s?+s.apply(this,arguments):g0(y*y+C*C)),Y=f9(UT(C-y)/2,+a.apply(this,arguments)),W=Y,X=Y;if(G>Oi){var de=d9(G/y*N1(V)),J=d9(G/C*N1(V));(O-=2*de)>Oi?(I+=de*=S?1:-1,F-=de):(O=0,I=F=(M+w)/2),(P-=2*J)>Oi?(T+=J*=S?1:-1,N-=J):(P=0,T=N=(M+w)/2)}var fe=C*Wa(T),ye=C*N1(T),Se=y*Wa(F),$e=y*N1(F);if(Y>Oi){var Zi,xt=C*Wa(N),hn=C*N1(N),vn=y*Wa(I),wr=y*N1(I);if(A<e2&&(Zi=qb(fe,ye,vn,wr,xt,hn,Se,$e))){var Z1=fe-Zi[0],O3=ye-Zi[1],P3=xt-Zi[0],H3=hn-Zi[1],ke=1/N1($T((Z1*P3+O3*H3)/(g0(Z1*Z1+O3*O3)*g0(P3*P3+H3*H3)))/2),bt=g0(Zi[0]*Zi[0]+Zi[1]*Zi[1]);W=f9(Y,(y-bt)/(ke-1)),X=f9(Y,(C-bt)/(ke+1))}}P>Oi?X>Oi?(re=h8(vn,wr,fe,ye,C,X,S),ie=h8(xt,hn,Se,$e,C,X,S),h.moveTo(re.cx+re.x01,re.cy+re.y01),X<Y?h.arc(re.cx,re.cy,X,Vn(re.y01,re.x01),Vn(ie.y01,ie.x01),!S):(h.arc(re.cx,re.cy,X,Vn(re.y01,re.x01),Vn(re.y11,re.x11),!S),h.arc(0,0,C,Vn(re.cy+re.y11,re.cx+re.x11),Vn(ie.cy+ie.y11,ie.cx+ie.x11),!S),h.arc(ie.cx,ie.cy,X,Vn(ie.y11,ie.x11),Vn(ie.y01,ie.x01),!S))):(h.moveTo(fe,ye),h.arc(0,0,C,T,N,!S)):h.moveTo(fe,ye),y>Oi&&O>Oi?W>Oi?(re=h8(Se,$e,xt,hn,y,-W,S),ie=h8(fe,ye,vn,wr,y,-W,S),h.lineTo(re.cx+re.x01,re.cy+re.y01),W<Y?h.arc(re.cx,re.cy,W,Vn(re.y01,re.x01),Vn(ie.y01,ie.x01),!S):(h.arc(re.cx,re.cy,W,Vn(re.y01,re.x01),Vn(re.y11,re.x11),!S),h.arc(0,0,y,Vn(re.cy+re.y11,re.cx+re.x11),Vn(ie.cy+ie.y11,ie.cx+ie.x11),S),h.arc(ie.cx,ie.cy,W,Vn(ie.y11,ie.x11),Vn(ie.y01,ie.x01),!S))):h.arc(0,0,y,F,I,S):h.lineTo(Se,$e)}else h.moveTo(0,0);if(h.closePath(),v)return h=null,v+""||null}return p.centroid=function(){var v=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,_=(+l.apply(this,arguments)+ +f.apply(this,arguments))/2-e2/2;return[Wa(_)*v,N1(_)*v]},p.innerRadius=function(v){return arguments.length?(e="function"==typeof v?v:qt(+v),p):e},p.outerRadius=function(v){return arguments.length?(r="function"==typeof v?v:qt(+v),p):r},p.cornerRadius=function(v){return arguments.length?(a="function"==typeof v?v:qt(+v),p):a},p.padRadius=function(v){return arguments.length?(s=null==v?null:"function"==typeof v?v:qt(+v),p):s},p.startAngle=function(v){return arguments.length?(l="function"==typeof v?v:qt(+v),p):l},p.endAngle=function(v){return arguments.length?(f="function"==typeof v?v:qt(+v),p):f},p.padAngle=function(v){return arguments.length?(d="function"==typeof v?v:qt(+v),p):d},p.context=function(v){return arguments.length?(h=null==v?null:v,p):h},p}().startAngle(e=>e.startAngle||0).endAngle(e=>e.endAngle||0).padAngle(e=>e.padAngle||0).innerRadius(e=>e.innerRadius||0).outerRadius(e=>e.outerRadius||0).cornerRadius(e=>e.cornerRadius||0),_o=Yb().x(yn).y1(L0).y0(e=>(e.y||0)+(e.height||0)).defined(rd),yo=Yb().y(L0).x1(yn).x0(e=>(e.x||0)+(e.width||0)).defined(rd),Mx=Xb().x(yn).y(L0).defined(rd),wx=function(){var e=hx,r=mx,a=px,s=gx,l=v2(0),f=l,d=l,h=l,p=null;function v(_,y,C){var M,w=null!=y?y:+e.call(this,_),A=null!=C?C:+r.call(this,_),S=+a.call(this,_),T=+s.call(this,_),N=Math.min(S,T)/2,I=id(+l.call(this,_),0,N),F=id(+f.call(this,_),0,N),O=id(+d.call(this,_),0,N),P=id(+h.call(this,_),0,N);if(p||(p=M=zc()),I<=0&&F<=0&&O<=0&&P<=0)p.rect(w,A,S,T);else{var V=w+S,G=A+T;p.moveTo(w+I,A),p.lineTo(V-F,A),p.bezierCurveTo(V-es*F,A,V,A+es*F,V,A+F),p.lineTo(V,G-P),p.bezierCurveTo(V,G-es*P,V-es*P,G,V-P,G),p.lineTo(w+O,G),p.bezierCurveTo(w+es*O,G,w,G-es*O,w,G-O),p.lineTo(w,A+I),p.bezierCurveTo(w,A+es*I,w+es*I,A,w+I,A),p.closePath()}if(M)return p=null,M+""||null}return v.x=function(_){return arguments.length?(e=v2(_),v):e},v.y=function(_){return arguments.length?(r=v2(_),v):r},v.width=function(_){return arguments.length?(a=v2(_),v):a},v.height=function(_){return arguments.length?(s=v2(_),v):s},v.cornerRadius=function(_,y,C,M){return arguments.length?(l=v2(_),f=null!=y?v2(y):l,h=null!=C?v2(C):l,d=null!=M?v2(M):f,v):l},v.context=function(_){return arguments.length?(p=null==_?null:_,v):p},v}().x(yn).y(L0).width(e=>e.width||0).height(e=>e.height||0).cornerRadius(e=>tu(e.cornerRadiusTopLeft,e.cornerRadius)||0,e=>tu(e.cornerRadiusTopRight,e.cornerRadius)||0,e=>tu(e.cornerRadiusBottomRight,e.cornerRadius)||0,e=>tu(e.cornerRadiusBottomLeft,e.cornerRadius)||0),Xz=function(e,r){var a=null;function s(){var l;if(a||(a=l=zc()),e.apply(this,arguments).draw(a,+r.apply(this,arguments)),l)return a=null,l+""||null}return e="function"==typeof e?e:qt(e||nt),r="function"==typeof r?r:qt(void 0===r?64:+r),s.type=function(l){return arguments.length?(e="function"==typeof l?l:qt(l),s):e},s.size=function(l){return arguments.length?(r="function"==typeof l?l:qt(+l),s):r},s.context=function(l){return arguments.length?(a=null==l?null:l,s):a},s}().type(e=>function(e){return(0,E.nr)(g2,e)?g2[e]:function(e){if(!(0,E.nr)(nd,e)){const r=eu(e);nd[e]={draw:function(a,s){Bi(a,r,0,0,Math.sqrt(s)/2)}}}return nd[e]}(e)}(e.shape||"circle")).size(e=>tu(e.size,64)),Yz=function(){var e,r,a,s,f,d,h,p,l=null;function v(y,C,M){const w=M/2;if(f){var A=h-C,S=y-d;if(A||S){var T=Math.sqrt(A*A+S*S),N=(A/=T)*p,I=(S/=T)*p,F=Math.atan2(S,A);l.moveTo(d-N,h-I),l.lineTo(y-A*w,C-S*w),l.arc(y,C,w,F-Math.PI,F),l.lineTo(d+N,h+I),l.arc(d,h,p,F,F+Math.PI)}else l.arc(y,C,w,0,R1);l.closePath()}else f=1;d=y,h=C,p=w}function _(y){var C,w,S,M=y.length,A=!1;for(null==l&&(l=S=zc()),C=0;C<=M;++C)!(C<M&&s(w=y[C],C,y))===A&&(A=!A)&&(f=0),A&&v(+e(w,C,y),+r(w,C,y),+a(w,C,y));if(S)return l=null,S+""||null}return _.x=function(y){return arguments.length?(e=y,_):e},_.y=function(y){return arguments.length?(r=y,_):r},_.size=function(y){return arguments.length?(a=y,_):a},_.defined=function(y){return arguments.length?(s=y,_):s},_.context=function(y){return arguments.length?(l=null==y?null:y,_):l},_}().x(yn).y(L0).defined(rd).size(e=>e.size||1);function Em(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function R0(e,r,a,s){return wx.context(e)(r,a,s)}var Am=1;function Sm(e,r,a){var s=r.clip,l=e._defs,f=r.clip_id||(r.clip_id="clip"+Am++),d=l.clipping[f]||(l.clipping[f]={id:f});return(0,E.mf)(s)?d.path=s(null):Em(a)?d.path=R0(null,a,0,0):(d.width=a.width||0,d.height=a.height||0),"url(#"+f+")"}function Qn(e){this.clear(),e&&this.union(e)}function Ee(e){this.mark=e,this.bounds=this.bounds||new Qn}function O1(e){Ee.call(this,e),this.items=this.items||[]}function Di(e){this._pending=0,this._loader=e||Ql()}function km(e){e._pending+=1}function V0(e){e._pending-=1}function ts(e,r,a){if(r.stroke&&0!==r.opacity&&0!==r.strokeOpacity){const s=null!=r.strokeWidth?+r.strokeWidth:1;e.expand(s+(a?function(e,r){return e.strokeJoin&&"miter"!==e.strokeJoin?0:r}(r,s):0))}return e}Qn.prototype={clone(){return new Qn(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,r,a,s){return a<e?(this.x2=e,this.x1=a):(this.x1=e,this.x2=a),s<r?(this.y2=r,this.y1=s):(this.y1=r,this.y2=s),this},add(e,r){return e<this.x1&&(this.x1=e),r<this.y1&&(this.y1=r),e>this.x2&&(this.x2=e),r>this.y2&&(this.y2=r),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,r){return this.x1+=e,this.x2+=e,this.y1+=r,this.y2+=r,this},rotate(e,r,a){const s=this.rotatedPoints(e,r,a);return this.clear().add(s[0],s[1]).add(s[2],s[3]).add(s[4],s[5]).add(s[6],s[7])},rotatedPoints(e,r,a){var{x1:s,y1:l,x2:f,y2:d}=this,h=Math.cos(e),p=Math.sin(e),v=r-r*h+a*p,_=a-r*p-a*h;return[h*s-p*l+v,p*s+h*l+_,h*s-p*d+v,p*s+h*d+_,h*f-p*l+v,p*f+h*l+_,h*f-p*d+v,p*f+h*d+_]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,r){return!(e<this.x1||e>this.x2||r<this.y1||r>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}},(0,E.XW)(O1,Ee),Di.prototype={pending(){return this._pending},sanitizeURL(e){const r=this;return km(r),r._loader.sanitize(e,{context:"href"}).then(a=>(V0(r),a)).catch(()=>(V0(r),null))},loadImage(e){const r=this,a="undefined"!=typeof Image?Image:null;return km(r),r._loader.sanitize(e,{context:"image"}).then(s=>{const l=s.href;if(!l||!a)throw{url:l};const f=new a,d=(0,E.nr)(s,"crossOrigin")?s.crossOrigin:"anonymous";return null!=d&&(f.crossOrigin=d),f.onload=()=>V0(r),f.onerror=()=>V0(r),f.src=l,f}).catch(s=>(V0(r),{complete:!1,width:0,height:0,src:s&&s.url||""}))},ready(){const e=this;return new Promise(r=>{!function a(s){e.pending()?setTimeout(()=>{a(!0)},10):r(s)}(!1)})}};const Sx=R1-1e-8;let iu,ru,ou,_2,Tm,ad,zm,Nm;const y2=(e,r)=>iu.add(e,r),sd=(e,r)=>y2(ru=e,ou=r),kx=e=>y2(e,iu.y1),Tx=e=>y2(iu.x1,e),jc=(e,r)=>Tm*e+zm*r,Uc=(e,r)=>ad*e+Nm*r,Im=(e,r)=>y2(jc(e,r),Uc(e,r)),Lm=(e,r)=>sd(jc(e,r),Uc(e,r));function cd(e,r){return iu=e,r?(_2=r*Kn,Tm=Nm=Math.cos(_2),ad=Math.sin(_2),zm=-ad):(Tm=Nm=1,_2=ad=zm=0),Qz}const Qz={beginPath(){},closePath(){},moveTo:Lm,lineTo:Lm,rect(e,r,a,s){_2?(Im(e+a,r),Im(e+a,r+s),Im(e,r+s),Lm(e,r)):(y2(e+a,r+s),sd(e,r))},quadraticCurveTo(e,r,a,s){const l=jc(e,r),f=Uc(e,r),d=jc(a,s),h=Uc(a,s);zx(ru,l,d,kx),zx(ou,f,h,Tx),sd(d,h)},bezierCurveTo(e,r,a,s,l,f){const d=jc(e,r),h=Uc(e,r),p=jc(a,s),v=Uc(a,s),_=jc(l,f),y=Uc(l,f);Nx(ru,d,p,_,kx),Nx(ou,h,v,y,Tx),sd(_,y)},arc(e,r,a,s,l,f){if(s+=_2,l+=_2,ru=a*Math.cos(l)+e,ou=a*Math.sin(l)+r,Math.abs(l-s)>Sx)y2(e-a,r-a),y2(e+a,r+a);else{const d=v=>y2(a*Math.cos(v)+e,a*Math.sin(v)+r);let h,p;if(d(s),d(l),l!==s)if((s%=R1)<0&&(s+=R1),(l%=R1)<0&&(l+=R1),l<s&&(f=!f,h=s,s=l,l=h),f)for(l-=R1,h=s-s%p2,p=0;p<4&&h>l;++p,h-=p2)d(h);else for(h=s-s%p2+p2,p=0;p<4&&h<l;++p,h+=p2)d(h)}}};function zx(e,r,a,s){const l=(e-r)/(e+a-2*r);0<l&&l<1&&s(e+(r-e)*l)}function Nx(e,r,a,s,l){const f=s-e+3*r-3*a,d=e+a-2*r,h=e-r;let _,p=0,v=0;Math.abs(f)>1e-14?(_=d*d+h*f,_>=0&&(_=Math.sqrt(_),p=(-d+_)/f,v=(-d-_)/f)):p=.5*h/d,0<p&&p<1&&l(Ix(p,e,r,a,s)),0<v&&v<1&&l(Ix(v,e,r,a,s))}function Ix(e,r,a,s,l){const f=1-e,d=f*f,h=e*e;return d*f*r+3*d*e*a+3*f*h*s+h*e*l}var ns=(ns=r2(1,1))?ns.getContext("2d"):null;const ld=new Qn;function Fm(e){return function(r,a){if(!ns)return!0;e(ns,r),ld.clear().union(r.bounds).intersect(a).round();const{x1:s,y1:l,x2:f,y2:d}=ld;for(let h=l;h<=d;++h)for(let p=s;p<=f;++p)if(ns.isPointInPath(p,h))return!0;return!1}}function Rm(e,r){return r.contains(e.x||0,e.y||0)}function Vm(e,r){const a=e.x||0,s=e.y||0;return r.intersects(ld.set(a,s,a+(e.width||0),s+(e.height||0)))}function O0(e,r,a,s,l){const{x1:f,y1:d,x2:h,y2:p}=e,v=s-r,_=l-a;let M,w,A,S,y=0,C=1;for(S=0;S<4;++S){if(0===S&&(M=-v,w=-(f-r)),1===S&&(M=v,w=h-r),2===S&&(M=-_,w=-(d-a)),3===S&&(M=_,w=p-a),Math.abs(M)<1e-10&&w<0)return!1;if(A=w/M,M<0){if(A>C)return!1;A>y&&(y=A)}else if(M>0){if(A<y)return!1;A<C&&(C=A)}}return!0}function $c(e,r){e.globalCompositeOperation=r.blend||"source-over"}function P1(e,r){return null==e?r:e}function b2(e,r){const a=r.length;for(let s=0;s<a;++s)e.addColorStop(r[s].offset,r[s].color);return e}function C2(e,r,a){return Cm(a)?function(e,r,a){const s=a.width(),l=a.height();let f;if("radial"===r.gradient)f=e.createRadialGradient(a.x1+P1(r.x1,.5)*s,a.y1+P1(r.y1,.5)*l,Math.max(s,l)*P1(r.r1,0),a.x1+P1(r.x2,.5)*s,a.y1+P1(r.y2,.5)*l,Math.max(s,l)*P1(r.r2,.5));else{const d=P1(r.x1,0),h=P1(r.y1,0),p=P1(r.x2,1),v=P1(r.y2,0);if(d!==p&&h!==v&&s!==l){const _=r2(Math.ceil(s),Math.ceil(l)),y=_.getContext("2d");return y.scale(s,l),y.fillStyle=b2(y.createLinearGradient(d,h,p,v),r.stops),y.fillRect(0,0,s,l),e.createPattern(_,"no-repeat")}f=e.createLinearGradient(a.x1+d*s,a.y1+h*l,a.x1+p*s,a.y1+v*l)}return b2(f,r.stops)}(e,a,r.bounds):a}function ud(e,r,a){return(a*=null==r.fillOpacity?1:r.fillOpacity)>0&&(e.globalAlpha=a,e.fillStyle=C2(e,r,r.fill),!0)}var Jz=[];function bo(e,r,a){var s=null!=(s=r.strokeWidth)?s:1;return!(s<=0)&&(a*=null==r.strokeOpacity?1:r.strokeOpacity)>0&&(e.globalAlpha=a,e.strokeStyle=C2(e,r,r.stroke),e.lineWidth=s,e.lineCap=r.strokeCap||"butt",e.lineJoin=r.strokeJoin||"miter",e.miterLimit=r.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(r.strokeDash||Jz),e.lineDashOffset=r.strokeDashOffset||0),!0)}function Y$(e,r){return e.zindex-r.zindex||e.index-r.index}function ji(e){if(!e.zdirty)return e.zitems;var s,l,f,r=e.items,a=[];for(l=0,f=r.length;l<f;++l)(s=r[l]).index=l,s.zindex&&a.push(s);return e.zdirty=!1,e.zitems=a.sort(Y$)}function is(e,r){var s,l,a=e.items;if(!a||!a.length)return;const f=ji(e);if(f&&f.length){for(s=0,l=a.length;s<l;++s)a[s].zindex||r(a[s]);a=f}for(s=0,l=a.length;s<l;++s)r(a[s])}function fd(e,r){var s,l,a=e.items;if(!a||!a.length)return null;const f=ji(e);for(f&&f.length&&(a=f),l=a.length;--l>=0;)if(s=r(a[l]))return s;if(a===f)for(l=(a=e.items).length;--l>=0;)if(!a[l].zindex&&(s=r(a[l])))return s;return null}function dd(e){return function(r,a,s){is(a,l=>{(!s||s.intersects(l.bounds))&&we(e,r,l,l)})}}function Z$(e){return function(r,a,s){a.items.length&&(!s||s.intersects(a.bounds))&&we(e,r,a.items[0],a.items)}}function we(e,r,a,s){var l=null==a.opacity?1:a.opacity;0!==l&&(e(r,s)||($c(r,a),a.fill&&ud(r,a,l)&&r.fill(),a.stroke&&bo(r,a,l)&&r.stroke()))}function hd(e){return e=e||E.yb,function(r,a,s,l,f,d){return s*=r.pixelRatio,l*=r.pixelRatio,fd(a,h=>{const p=h.bounds;if((!p||p.contains(f,d))&&p&&e(r,h,s,l,f,d))return h})}}function au(e,r){return function(a,s,l,f){var v,_,d=Array.isArray(s)?s[0]:s,h=null==r?d.fill:r,p=d.stroke&&a.isPointInStroke;return p&&(_=d.strokeCap,a.lineWidth=null!=(v=d.strokeWidth)?v:1,a.lineCap=null!=_?_:"butt"),!e(a,s)&&(h&&a.isPointInPath(l,f)||p&&a.isPointInStroke(l,f))}}function Om(e){return hd(au(e))}function ha(e,r){return"translate("+e+","+r+")"}function Pm(e){return"rotate("+e+")"}function su(e){return ha(e.x||0,e.y||0)}function pd(e,r,a){function f(d,h){var p=h.x||0,v=h.y||0,_=h.angle||0;d.translate(p,v),_&&d.rotate(_*=Kn),d.beginPath(),r(d,h),_&&d.rotate(-_),d.translate(-p,-v)}return{type:e,tag:"path",nested:!1,attr:function(d,h){d("transform",function(e){return ha(e.x||0,e.y||0)+(e.angle?" "+Pm(e.angle):"")}(h)),d("d",r(null,h))},bound:function(d,h){return r(cd(d,h.angle),h),ts(d,h).translate(h.x||0,h.y||0)},draw:dd(f),pick:Om(f),isect:a||Fm(f)}}var eN=pd("arc",function(e,r){return da.context(e)(r)});function gd(e,r,a){function f(p,v){p.beginPath(),r(p,v)}const d=au(f);return{type:e,tag:"path",nested:!0,attr:function(p,v){var _=v.mark.items;_.length&&p("d",r(null,_))},bound:function(p,v){var _=v.items;return 0===_.length?p:(r(cd(p),_),ts(p,_[0]))},draw:Z$(f),pick:function(p,v,_,y,C,M){var w=v.items,A=v.bounds;return!w||!w.length||A&&!A.contains(C,M)?null:d(p,w,_*=p.pixelRatio,y*=p.pixelRatio)?w[0]:null},isect:Rm,tip:a}}var Ox=gd("area",function(e,r){const a=r[0];return("horizontal"===a.orient?yo:_o).curve(lx(a.interpolate||"linear",a.orient,a.tension)).context(e)(r)},function(e,r){for(var d,h,a="horizontal"===e[0].orient?r[1]:r[0],s="horizontal"===e[0].orient?"y":"x",l=e.length,f=1/0;--l>=0;)!1!==e[l].defined&&(h=Math.abs(e[l][s]-a))<f&&(f=h,d=e[l]);return d});function Px(e,r){e.beginPath(),Em(r)?R0(e,r,0,0):e.rect(0,0,r.width||0,r.height||0),e.clip()}function Hx(e){const r=P1(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&r>.5&&r<1.5?.5-Math.abs(r-1):0}function Bx(e,r){const a=Hx(r);e("d",R0(null,r,a,a))}function P0(e,r,a,s){const l=Hx(r);e.beginPath(),R0(e,r,(a||0)+l,(s||0)+l)}const Ux=au(P0),oN=au(P0,!1),lu=au(P0,!0);var cN={type:"group",tag:"g",nested:!1,attr:function(e,r){e("transform",su(r))},bound:function(e,r){if(!r.clip&&r.items){const a=r.items,s=a.length;for(let l=0;l<s;++l)e.union(a[l].bounds)}return(r.clip||r.width||r.height)&&!r.noBound&&e.add(0,0).add(r.width||0,r.height||0),ts(e,r),e.translate(r.x||0,r.y||0)},draw:function(e,r,a){is(r,s=>{const l=s.x||0,f=s.y||0,d=s.strokeForeground,h=null==s.opacity?1:s.opacity;(s.stroke||s.fill)&&h&&(P0(e,s,l,f),$c(e,s),s.fill&&ud(e,s,h)&&e.fill(),s.stroke&&!d&&bo(e,s,h)&&e.stroke()),e.save(),e.translate(l,f),s.clip&&Px(e,s),a&&a.translate(-l,-f),is(s,p=>{this.draw(e,p,a)}),a&&a.translate(l,f),e.restore(),d&&s.stroke&&h&&(P0(e,s,l,f),$c(e,s),bo(e,s,h)&&e.stroke())})},pick:function(e,r,a,s,l,f){if(r.bounds&&!r.bounds.contains(l,f)||!r.items)return null;const d=a*e.pixelRatio,h=s*e.pixelRatio;return fd(r,p=>{let v,_,y;const C=p.bounds;if(C&&!C.contains(l,f))return;_=p.x||0,y=p.y||0;const A=p.clip;if(A&&(l<_||l>_+(p.width||0)||f<y||f>y+(p.height||0)))return;if(e.save(),e.translate(_,y),_=l-_,y=f-y,A&&Em(p)&&!lu(e,p,d,h))return e.restore(),null;const S=p.strokeForeground,T=!1!==r.interactive;return T&&S&&p.stroke&&oN(e,p,d,h)?(e.restore(),p):(v=fd(p,N=>function(e,r,a){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(r,a)}(N,_,y)?this.pick(N,a,s,_,y):null),!v&&T&&(p.fill||!S&&p.stroke)&&Ux(e,p,d,h)&&(v=p),e.restore(),v||null)})},isect:Vm,content:function(e,r,a){e("clip-path",r.clip?Sm(a,r,r):null)},background:function(e,r){e("class","background"),e("aria-hidden",!0),Bx(e,r)},foreground:function(e,r){e("class","foreground"),e("aria-hidden",!0),r.strokeForeground?Bx(e,r):e("d","")}},H0={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function _d(e,r){var a=e.image;return(!a||e.url&&e.url!==a.url)&&(a={complete:!1,width:0,height:0},r.loadImage(e.url).then(s=>{e.image=s,e.image.url=e.url})),a}function yd(e,r){return null!=e.width?e.width:r&&r.width?!1!==e.aspect&&e.height?e.height*r.width/r.height:r.width:0}function Hm(e,r){return null!=e.height?e.height:r&&r.height?!1!==e.aspect&&e.width?e.width*r.height/r.width:r.height:0}function fu(e,r){return"center"===e?r/2:"right"===e?r:0}function bd(e,r){return"middle"===e?r/2:"bottom"===e?r:0}var eq={type:"image",tag:"image",nested:!1,attr:function(e,r,a){const s=_d(r,a),l=yd(r,s),f=Hm(r,s),d=(r.x||0)-fu(r.align,l),h=(r.y||0)-bd(r.baseline,f);e("href",!s.src&&s.toDataURL?s.toDataURL():s.src||"",H0["xmlns:xlink"],"xlink:href"),e("transform",ha(d,h)),e("width",l),e("height",f),e("preserveAspectRatio",!1===r.aspect?"none":"xMidYMid")},bound:function(e,r){const a=r.image,s=yd(r,a),l=Hm(r,a),f=(r.x||0)-fu(r.align,s),d=(r.y||0)-bd(r.baseline,l);return e.set(f,d,f+s,d+l)},draw:function(e,r,a){is(r,s=>{if(a&&!a.intersects(s.bounds))return;const l=_d(s,this);let f=yd(s,l),d=Hm(s,l);if(0===f||0===d)return;let v,_,y,C,h=(s.x||0)-fu(s.align,f),p=(s.y||0)-bd(s.baseline,d);!1!==s.aspect&&(_=l.width/l.height,y=s.width/s.height,_==_&&y==y&&_!==y&&(y<_?(C=f/_,p+=(d-C)/2,d=C):(C=d*_,h+=(f-C)/2,f=C))),(l.complete||l.toDataURL)&&($c(e,s),e.globalAlpha=null!=(v=s.opacity)?v:1,e.imageSmoothingEnabled=!1!==s.smooth,e.drawImage(l,h,p,f,d))})},pick:hd(),isect:E.yb,get:_d,xOffset:fu,yOffset:bd},tq=gd("line",function(e,r){const a=r[0];return Mx.curve(lx(a.interpolate||"linear",a.orient,a.tension)).context(e)(r)},function(e,r){for(var l,f,a=Math.pow(e[0].strokeWidth||1,2),s=e.length;--s>=0;)if(!1!==e[s].defined&&(l=e[s].x-r[0])*l+(f=e[s].y-r[1])*f<a)return e[s];return null});function qc(e,r){var a=r.path;if(null==a)return!0;var s=r.x||0,l=r.y||0,f=r.scaleX||1,d=r.scaleY||1,h=(r.angle||0)*Kn,p=r.pathCache;(!p||p.path!==a)&&((r.pathCache=p=eu(a)).path=a),h&&e.rotate&&e.translate?(e.translate(s,l),e.rotate(h),Bi(e,p,0,0,f,d),e.rotate(-h),e.translate(-s,-l)):Bi(e,p,s,l,f,d)}var fN={type:"path",tag:"path",nested:!1,attr:function(e,r){(1!==(r.scaleX||1)||1!==(r.scaleY||1))&&e("vector-effect","non-scaling-stroke"),e("transform",function(e){return ha(e.x||0,e.y||0)+(e.angle?" "+Pm(e.angle):"")+(e.scaleX||e.scaleY?" "+function(e,r){return"scale("+e+","+r+")"}(e.scaleX||1,e.scaleY||1):"")}(r)),e("d",r.path)},bound:function(e,r){return qc(cd(e,r.angle),r)?e.set(0,0,0,0):ts(e,r,!0)},draw:dd(qc),pick:Om(qc),isect:Fm(qc)};function Wx(e,r){e.beginPath(),R0(e,r)}var dN={type:"rect",tag:"path",nested:!1,attr:function(e,r){e("d",R0(null,r))},bound:function(e,r){var a,s;return ts(e.set(a=r.x||0,s=r.y||0,a+r.width||0,s+r.height||0),r)},draw:dd(Wx),pick:Om(Wx),isect:Vm};function Gx(e,r,a){var s,l,f,d;return!(!r.stroke||!bo(e,r,a)||(s=r.x||0,l=r.y||0,f=null!=r.x2?r.x2:s,d=null!=r.y2?r.y2:l,e.beginPath(),e.moveTo(s,l),e.lineTo(f,d),0))}var gN={type:"rule",tag:"line",nested:!1,attr:function(e,r){e("transform",su(r)),e("x2",null!=r.x2?r.x2-(r.x||0):0),e("y2",null!=r.y2?r.y2-(r.y||0):0)},bound:function(e,r){var a,s;return ts(e.set(a=r.x||0,s=r.y||0,null!=r.x2?r.x2:a,null!=r.y2?r.y2:s),r)},draw:function(e,r,a){is(r,s=>{if(!a||a.intersects(s.bounds)){var l=null==s.opacity?1:s.opacity;l&&Gx(e,s,l)&&($c(e,s),e.stroke())}})},pick:hd(function(e,r,a,s){return!!e.isPointInStroke&&Gx(e,r,1)&&e.isPointInStroke(a,s)}),isect:function(e,r){const a=e.x||0,s=e.y||0;return O0(r,a,s,null!=e.x2?e.x2:a,null!=e.y2?e.y2:s)}},B0=pd("shape",function(e,r){return(r.mark.shape||r.shape).context(e)(r)}),vN=pd("symbol",function(e,r){return Xz.context(e)(r)},Rm);const Bm=(0,E.$m)();var rs={height:os,measureWidth:qm,estimateWidth:Um,width:Um,canvas:jm};function jm(e){rs.width=e&&ns?qm:Um}function Um(e,r){return $m(M2(e,r),os(e))}function $m(e,r){return~~(.8*e.length*r)}function qm(e,r){return os(e)<=0||!(r=M2(e,r))?0:Cd(r,Gm(e))}function Cd(e,r){const a=`(${r}) ${e}`;let s=Bm.get(a);return void 0===s&&(ns.font=r,s=ns.measureText(e).width,Bm.set(a,s)),s}function os(e){return null!=e.fontSize?+e.fontSize||0:11}function x2(e){return null!=e.lineHeight?e.lineHeight:os(e)+2}function hu(e){return function(e){return(0,E.kJ)(e)?e.length>1?e:e[0]:e}(e.lineBreak&&e.text&&!(0,E.kJ)(e.text)?e.text.split(e.lineBreak):e.text)}function Zx(e){const r=hu(e);return((0,E.kJ)(r)?r.length-1:0)*x2(e)}function M2(e,r){const a=null==r?"":(r+"").trim();return e.limit>0&&a.length?function(e,r){var a=+e.limit,s=function(e){if(rs.width===qm){const r=Gm(e);return a=>Cd(a,r)}{const r=os(e);return a=>$m(a,r)}}(e);if(s(r)<a)return r;var p,l=e.ellipsis||"\u2026",f="rtl"===e.dir,d=0,h=r.length;if(a-=s(l),f){for(;d<h;)s(r.slice(p=d+h>>>1))>a?d=p+1:h=p;return l+r.slice(d)}for(;d<h;)s(r.slice(0,p=1+(d+h>>>1)))<a?d=p:h=p-1;return r.slice(0,d)+l}(e,a):a}function mu(e,r){var a=e.font;return(r&&a?String(a).replace(/"/g,"'"):a)||"sans-serif"}function Gm(e,r){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+os(e)+"px "+mu(e,r)}function Xm(e){var r=e.baseline,a=os(e);return Math.round("top"===r?.79*a:"middle"===r?.3*a:"bottom"===r?-.21*a:"line-top"===r?.29*a+.5*x2(e):"line-bottom"===r?.29*a-.5*x2(e):0)}jm(!0);const yN={left:"start",center:"middle",right:"end"},pu=new Qn;function xd(e){var l,r=e.x||0,a=e.y||0,s=e.radius||0;return s&&(l=(e.theta||0)-p2,r+=s*Math.cos(l),a+=s*Math.sin(l)),pu.x1=r,pu.y1=a,pu}function Ym(e,r,a){var y,s=rs.height(r),l=r.align,f=xd(r),d=f.x1,h=f.y1,p=r.dx||0,v=(r.dy||0)+Xm(r)-Math.round(.8*s),_=hu(r);if((0,E.kJ)(_)?(s+=x2(r)*(_.length-1),y=_.reduce((C,M)=>Math.max(C,rs.width(r,M)),0)):y=rs.width(r,_),"center"===l?p-=y/2:"right"===l&&(p-=y),e.set(p+=d,v+=h,p+y,v+s),r.angle&&!a)e.rotate(r.angle*Kn,d,h);else if(2===a)return e.rotatedPoints(r.angle*Kn,d,h);return e}var xN={type:"text",tag:"text",nested:!1,attr:function(e,r){var p,a=r.dx||0,s=(r.dy||0)+Xm(r),l=xd(r),f=l.x1,d=l.y1,h=r.angle||0;e("text-anchor",yN[r.align]||"start"),h?(p=ha(f,d)+" "+Pm(h),(a||s)&&(p+=" "+ha(a,s))):p=ha(f+a,d+s),e("transform",p)},bound:Ym,draw:function(e,r,a){is(r,s=>{var f,d,h,p,v,_,y,l=null==s.opacity?1:s.opacity;if(!(a&&!a.intersects(s.bounds)||0===l||s.fontSize<=0||null==s.text||0===s.text.length)){if(e.font=Gm(s),e.textAlign=s.align||"left",d=(f=xd(s)).x1,h=f.y1,s.angle&&(e.save(),e.translate(d,h),e.rotate(s.angle*Kn),d=h=0),d+=s.dx||0,h+=(s.dy||0)+Xm(s),_=hu(s),$c(e,s),(0,E.kJ)(_))for(v=x2(s),p=0;p<_.length;++p)y=M2(s,_[p]),s.fill&&ud(e,s,l)&&e.fillText(y,d,h),s.stroke&&bo(e,s,l)&&e.strokeText(y,d,h),h+=v;else y=M2(s,_),s.fill&&ud(e,s,l)&&e.fillText(y,d,h),s.stroke&&bo(e,s,l)&&e.strokeText(y,d,h);s.angle&&e.restore()}})},pick:hd(function(e,r,a,s,l,f){if(r.fontSize<=0)return!1;if(!r.angle)return!0;var d=xd(r),h=d.x1,p=d.y1,v=Ym(pu,r,1),_=-r.angle*Kn,y=Math.cos(_),C=Math.sin(_);return v.contains(y*l-C*f+(h-y*h+C*p),C*l+y*f+(p-C*h-y*p))}),isect:function(e,r){const a=Ym(pu,e,2);return O0(r,a[0],a[1],a[2],a[3])||O0(r,a[0],a[1],a[4],a[5])||O0(r,a[4],a[5],a[6],a[7])||O0(r,a[2],a[3],a[6],a[7])}},MN=gd("trail",function(e,r){return Yz.context(e)(r)},function(e,r){for(var s,l,a=e.length;--a>=0;)if(!1!==e[a].defined&&(s=e[a].x-r[0])*s+(l=e[a].y-r[1])*l<(s=e[a].size||1)*s)return e[a];return null}),a1={arc:eN,area:Ox,group:cN,image:eq,line:tq,path:fN,rect:dN,rule:gN,shape:B0,symbol:vN,text:xN,trail:MN};function Jx(e,r,a){var s=a1[e.mark.marktype];return s.nested&&(e=e.mark),(r||s.bound)(e.bounds||(e.bounds=new Qn),e,a)}var eM={mark:null};const Zm=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function tM(e){return Md("string"==typeof e?JSON.parse(e):e)}function Md(e){var s,l,f,r=e.marktype,a=e.items;if(a)for(l=0,f=a.length;l<f;++l)a[l][s=r?"mark":"group"]=e,a[l].zindex&&(a[l][s].zdirty=!0),"group"===(r||s)&&Md(a[l]);return r&&function(e,r,a){var h,p,v,_,s=a1[e.marktype],l=s.bound,f=e.items,d=f&&f.length;if(s.nested)return d?v=f[0]:(eM.mark=e,v=eM),_=Jx(v,l,a),r&&r.union(_)||_;if(r=r||e.bounds&&e.bounds.clear()||new Qn,d)for(h=0,p=f.length;h<p;++h)r.union(Jx(f[h],l,a));e.bounds=r}(e),e}function nM(e){arguments.length?this.root=tM(e):(this.root=iM({marktype:"group",name:"root",role:"frame"}),this.root.items=[new O1(this.root)])}function iM(e,r){const a={bounds:new Qn,clip:!!e.clip,group:r,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(a.aria=e.aria),e.description&&(a.description=e.description),a}function as(e,r,a){return!e&&"undefined"!=typeof document&&document.createElement&&(e=document),e?a?e.createElementNS(a,r):e.createElement(r):null}function rM(e,r){r=r.toLowerCase();for(var a=e.childNodes,s=0,l=a.length;s<l;++s)if(a[s].tagName.toLowerCase()===r)return a[s]}function Ye(e,r,a,s){var f,l=e.childNodes[r];return(!l||l.tagName.toLowerCase()!==a.toLowerCase())&&(f=l||null,l=as(e.ownerDocument,a,s),e.insertBefore(l,f)),l}function ma(e,r){for(var a=e.childNodes,s=a.length;s>r;)e.removeChild(a[--s]);return e}function Qm(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function wd(e,r){const a=r.getBoundingClientRect();return[e.clientX-a.left-(r.clientLeft||0),e.clientY-a.top-(r.clientTop||0)]}function j0(e,r){this._active=null,this._handlers={},this._loader=e||Ql(),this._tooltip=r||EN}function EN(e,r,a,s){e.element().setAttribute("title",s||"")}function Ui(e){this._el=null,this._bgcolor=null,this._loader=new Di(e)}nM.prototype={toJSON(e){return function(e,r){return JSON.stringify(e,Zm,r)}(this.root,e||0)},mark(e,r,a){const s=iM(e,r=r||this.root.items[0]);return r.items[a]=s,s.zindex&&(s.group.zdirty=!0),s}},j0.prototype={initialize(e,r,a){return this._el=e,this._obj=a||null,this.origin(r)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,r,a){for(let s=e?e.length:0;--s>=0;)if(e[s].type===r&&(!a||e[s].handler===a))return s;return-1},handlers(e){const r=this._handlers,a=[];if(e)a.push(...r[this.eventName(e)]);else for(const s in r)a.push(...r[s]);return a},eventName(e){const r=e.indexOf(".");return r<0?e:e.slice(0,r)},handleHref(e,r,a){this._loader.sanitize(a,{context:"href"}).then(s=>{const l=new MouseEvent(e.type,e),f=as(null,"a");for(const d in s)f.setAttribute(d,s[d]);f.dispatchEvent(l)}).catch(()=>{})},handleTooltip(e,r,a){r&&null!=r.tooltip&&(r=function(e,r,a,s){var f,d,l=e&&e.mark;if(l&&(f=a1[l.marktype]).tip){for((d=wd(r,a))[0]-=s[0],d[1]-=s[1];e=e.mark.group;)d[0]-=e.x||0,d[1]-=e.y||0;e=f.tip(l.items,d)}return e}(r,e,this.canvas(),this._origin),this._tooltip.call(this._obj,this,e,r,a&&r&&r.tooltip||null))},getItemBoundingClientRect(e){const r=this.canvas();if(!r)return;const a=r.getBoundingClientRect(),s=this._origin,l=e.bounds,f=l.width(),d=l.height();let h=l.x1+s[0]+a.left,p=l.y1+s[1]+a.top;for(;e.mark&&(e=e.mark.group);)h+=e.x||0,p+=e.y||0;return{x:h,y:p,width:f,height:d,left:h,top:p,right:h+f,bottom:p+d}}},Ui.prototype={initialize(e,r,a,s,l){return this._el=e,this.resize(r,a,s,l)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},resize(e,r,a,s){return this._width=e,this._height=r,this._origin=a||[0,0],this._scale=s||1,this},dirty(){},render(e){const r=this;return r._call=function(){r._render(e)},r._call(),r._call=null,r},_render(){},renderAsync(e){const r=this.render(e);return this._ready?this._ready.then(()=>r):Promise.resolve(r)},_load(e,r){var a=this,s=a._loader[e](r);if(!a._ready){const l=a._call;a._ready=a._loader.ready().then(f=>{f&&l(),a._ready=null})}return s},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}};const aM="dragenter",ss="dragleave",sM="dragover",cM="mousedown",mt="mousemove",U0="mouseout",AN="mouseover",pa="click",kN="mousewheel",Dd="touchstart",Ad="touchmove",Sd="touchend",cs=mt,$0=U0,E2=pa;function Wc(e,r){j0.call(this,e,r),this._down=null,this._touch=null,this._first=!0,this._events={}}function lM(e,r){(e=>e===Dd||e===Ad||e===Sd?[Dd,Ad,Sd]:[e])(r).forEach(a=>function(e,r){const a=e.canvas();a&&!e._events[r]&&(e._events[r]=1,a.addEventListener(r,e[r]?s=>e[r](s):s=>e.fire(r,s)))}(e,a))}function tp(e,r,a){return function(s){const l=this._active,f=this.pickEvent(s);f===l||((!l||!l.exit)&&this.fire(a,s),this._active=f,this.fire(r,s)),this.fire(e,s)}}function fM(e){return function(r){this.fire(e,r),this._active=null}}(0,E.XW)(Wc,j0,{initialize(e,r,a){return this._canvas=e&&rM(e,"canvas"),[pa,cM,mt,U0,ss].forEach(s=>lM(this,s)),j0.prototype.initialize.call(this,e,r,a)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:["keydown","keypress","keyup",aM,ss,sM,cM,"mouseup",mt,U0,AN,pa,"dblclick","wheel",kN,Dd,Ad,Sd],DOMMouseScroll(e){this.fire(kN,e)},mousemove:tp(mt,AN,U0),dragover:tp(sM,aM,ss),mouseout:fM(U0),dragleave:fM(ss),mousedown(e){this._down=this._active,this.fire(cM,e)},click(e){this._down===this._active&&(this.fire(pa,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(Dd,e,!0)},touchmove(e){this.fire(Ad,e,!0)},touchend(e){this.fire(Sd,e,!0),this._touch=null},fire(e,r,a){const s=a?this._touch:this._active,l=this._handlers[e];if(r.vegaType=e,e===E2&&s&&s.href?this.handleHref(r,s,s.href):(e===cs||e===$0)&&this.handleTooltip(r,s,e!==$0),l)for(let f=0,d=l.length;f<d;++f)l[f].handler.call(this._obj,r,s)},on(e,r){const a=this.eventName(e),s=this._handlers;return this._handlerIndex(s[a],e,r)<0&&(lM(this,e),(s[a]||(s[a]=[])).push({type:e,handler:r})),this},off(e,r){const a=this.eventName(e),s=this._handlers[a],l=this._handlerIndex(s,e,r);return l>=0&&s.splice(l,1),this},pickEvent(e){const r=wd(e,this._canvas),a=this._origin;return this.pick(this._scene,r[0],r[1],r[0]-a[0],r[1]-a[1])},pick(e,r,a,s,l){const f=this.context();return a1[e.marktype].pick.call(this,f,e,r,a,s,l)}});var zN="undefined"!=typeof window&&window.devicePixelRatio||1;function ip(e){Ui.call(this,e),this._options={},this._redraw=!1,this._dirty=new Qn,this._tempb=new Qn}const NN=Ui.prototype;function D2(e,r){j0.call(this,e,r);const a=this;a._hrefHandler=rp(a,(s,l)=>{l&&l.href&&a.handleHref(s,l,l.href)}),a._tooltipHandler=rp(a,(s,l)=>{a.handleTooltip(s,l,s.type!==$0)})}(0,E.XW)(ip,Ui,{initialize(e,r,a,s,l,f){return this._options=f||{},this._canvas=this._options.externalContext?null:r2(1,1),e&&this._canvas&&(ma(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),NN.initialize.call(this,e,r,a,s,l)},resize(e,r,a,s){if(NN.resize.call(this,e,r,a,s),this._canvas)!function(e,r,a,s,l,f){const d="undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,h=e.getContext("2d"),p=d?zN:l;e.width=r*p,e.height=a*p;for(const v in f)h[v]=f[v];d&&1!==p&&(e.style.width=r+"px",e.style.height=a+"px"),h.pixelRatio=p,h.setTransform(p,0,0,p,p*s[0],p*s[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const l=this._options.externalContext;l||(0,E.vU)("CanvasRenderer is missing a valid canvas or context"),l.scale(this._scale,this._scale),l.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){const r=this._tempb.clear().union(e.bounds);let a=e.mark.group;for(;a;)r.translate(a.x||0,a.y||0),a=a.mark.group;this._dirty.union(r)},_render(e){const r=this.context(),a=this._origin,s=this._width,l=this._height,f=this._dirty,d=((e,r,a)=>(new Qn).set(0,0,r,a).translate(-e[0],-e[1]))(a,s,l);r.save();const h=this._redraw||f.empty()?(this._redraw=!1,d.expand(1)):function(e,r,a){return r.expand(1).round(),e.pixelRatio%1&&r.scale(e.pixelRatio).round().scale(1/e.pixelRatio),r.translate(-a[0]%1,-a[1]%1),e.beginPath(),e.rect(r.x1,r.y1,r.width(),r.height()),e.clip(),r}(r,d.intersect(f),a);return this.clear(-a[0],-a[1],s,l),this.draw(r,e,h),r.restore(),f.clear(),this},draw(e,r,a){const s=a1[r.marktype];r.clip&&function(e,r){var a=r.clip;e.save(),(0,E.mf)(a)?(e.beginPath(),a(e),e.clip()):Px(e,r.group)}(e,r),s.draw.call(this,e,r,a),r.clip&&e.restore()},clear(e,r,a,s){const l=this._options,f=this.context();"pdf"!==l.type&&!l.externalContext&&f.clearRect(e,r,a,s),null!=this._bgcolor&&(f.fillStyle=this._bgcolor,f.fillRect(e,r,a,s))}});const rp=(e,r)=>a=>{let s=a.target.__data__;s=Array.isArray(s)?s[0]:s,a.vegaType=a.type,r.call(e._obj,a,s)};(0,E.XW)(D2,j0,{initialize(e,r,a){let s=this._svg;return s&&(s.removeEventListener(E2,this._hrefHandler),s.removeEventListener(cs,this._tooltipHandler),s.removeEventListener($0,this._tooltipHandler)),this._svg=s=e&&rM(e,"svg"),s&&(s.addEventListener(E2,this._hrefHandler),s.addEventListener(cs,this._tooltipHandler),s.addEventListener($0,this._tooltipHandler)),j0.prototype.initialize.call(this,e,r,a)},canvas(){return this._svg},on(e,r){const a=this.eventName(e),s=this._handlers;if(this._handlerIndex(s[a],e,r)<0){const f={type:e,handler:r,listener:rp(this,r)};(s[a]||(s[a]=[])).push(f),this._svg&&this._svg.addEventListener(a,f.listener)}return this},off(e,r){const a=this.eventName(e),s=this._handlers[a],l=this._handlerIndex(s,e,r);return l>=0&&(this._svg&&this._svg.removeEventListener(a,s[l].listener),s.splice(l,1)),this}});const Gc="aria-hidden",dM="aria-label",kd="role",op="aria-roledescription",FN="graphics-object",vu="graphics-symbol",RN=(e,r,a)=>({[kd]:e,[op]:r,[dM]:a||void 0}),iq=(0,E.Rg)(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),VN={axis:{desc:"axis",caption:function(e){const r=e.datum,a=e.orient,s=r.title?pM(e):null,l=e.context,f=l.scales[r.scale].value,d=l.dataflow.locale(),h=f.type;return("left"===a||"right"===a?"Y":"X")+"-axis"+(s?` titled '${s}'`:"")+` for a ${z0(h)?"discrete":h} scale with ${q(d,f,e)}`}},legend:{desc:"legend",caption:function(e){const r=e.datum,a=r.title?pM(e):null,s=`${r.type||""} legend`.trim(),l=r.scales,f=Object.keys(l),d=e.context,h=d.scales[l[f[0]]].value,p=d.dataflow.locale();return function(e){return e.length?e[0].toUpperCase()+e.slice(1):e}(s)+(a?` titled '${a}'`:"")+` for ${function(e){return e=e.map(r=>r+("fill"===r||"stroke"===r?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+(0,E.fj)(e)}(f)} with ${q(p,h,e)}`}},"title-text":{desc:"title",caption:e=>`Title text '${mM(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${mM(e)}'`}},ap={ariaRole:kd,ariaRoleDescription:op,description:dM};function Td(e,r){const a=!1===r.aria;if(e(Gc,a||void 0),a||null==r.description)for(const s in ap)e(ap[s],void 0);else{const s=r.mark.marktype;e(dM,r.description),e(kd,r.ariaRole||("group"===s?FN:vu)),e(op,r.ariaRoleDescription||`${s} mark`)}}function hM(e){return!1===e.aria?{[Gc]:!0}:iq[e.role]?null:VN[e.role]?function(e,r){try{const a=e.items[0],s=r.caption||(()=>"");return RN(r.role||vu,r.desc,a.description||s(a))}catch(a){return null}}(e,VN[e.role]):function(e){const r=e.marktype,a="group"===r||"text"===r||e.items.some(s=>null!=s.description&&!1!==s.aria);return RN(a?FN:vu,`${r} mark container`,e.description)}(e)}function mM(e){return(0,E.IX)(e.text).join(" ")}function pM(e){try{return(0,E.IX)((0,E.fj)(e.items).items[0].text).join(" ")}catch(r){return null}}const gM=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");function sp(){let e="",r="",a="";const s=[],l=()=>r=a="",d=(p,v)=>(null!=v&&(r+=` ${p}="${(e=>gM(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))(v)}"`),h),h={open(p,...v){(p=>{r&&(e+=`${r}>${a}`,l()),s.push(p)})(p),r="<"+p;for(const _ of v)for(const y in _)d(y,_[y]);return h},close(){const p=s.pop();return e+=r?r+(a?`>${a}</${p}>`:"/>"):`</${p}>`,l(),h},attr:d,text:p=>(a+=gM(p),h),toString:()=>e};return h}const vM=e=>cp(sp(),e)+"";function cp(e,r){if(e.open(r.tagName),r.hasAttributes()){const a=r.attributes,s=a.length;for(let l=0;l<s;++l)e.attr(a[l].name,a[l].value)}if(r.hasChildNodes()){const a=r.childNodes,s=a.length;for(let l=0;l<s;l++){const f=a[l];3===f.nodeType?e.text(f.nodeValue):cp(e,f)}}return e.close()}const yu={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},lp={fill:"none","stroke-miterlimit":10},_M="http://www.w3.org/2000/xmlns/",$n=H0.xmlns;function yM(e){Ui.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const up=Ui.prototype;function bM(e,r){for(;e&&e.dirty!==r;e=e.mark.group){if(e.dirty=r,!e.mark||e.mark.dirty===r)return;e.mark.dirty=r}}function UN(e,r,a){let s,l,f;if("radial"===r.gradient){let d=Ye(e,a++,"pattern",$n);si(d,{id:"p_"+r.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),d=Ye(d,0,"rect",$n),si(d,{width:1,height:1,fill:`url(${CM()}#${r.id})`}),si(e=Ye(e,a++,"radialGradient",$n),{id:r.id,fx:r.x1,fy:r.y1,fr:r.r1,cx:r.x2,cy:r.y2,r:r.r2})}else si(e=Ye(e,a++,"linearGradient",$n),{id:r.id,x1:r.x1,x2:r.x2,y1:r.y1,y2:r.y2});for(s=0,l=r.stops.length;s<l;++s)f=Ye(e,s,"stop",$n),f.setAttribute("offset",r.stops[s].offset),f.setAttribute("stop-color",r.stops[s].color);return ma(e,s),a}function bu(e,r,a){let s;return(e=Ye(e,a,"clipPath",$n)).setAttribute("id",r.id),r.path?(s=Ye(e,0,"path",$n),s.setAttribute("d",r.path)):(s=Ye(e,0,"rect",$n),si(s,{x:0,y:0,width:r.width,height:r.height})),ma(e,1),a+1}function Nd(e,r,a,s,l){let d,f=e._svg;if(!f&&(d=r.ownerDocument,f=as(d,s,$n),e._svg=f,e.mark&&(f.__data__=e,f.__values__={fill:"default"},"g"===s))){const h=as(d,"path",$n);f.appendChild(h),h.__data__=e;const p=as(d,"g",$n);f.appendChild(p),p.__data__=e;const v=as(d,"path",$n);f.appendChild(v),v.__data__=e,v.__values__={fill:"default"}}return(f.ownerSVGElement!==l||function(e,r){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=r}(f,a))&&r.insertBefore(f,a?a.nextSibling:r.firstChild),f}(0,E.XW)(yM,Ui,{initialize(e,r,a,s,l){return this._defs={},this._clearDefs(),e&&(this._svg=Ye(e,0,"svg",$n),this._svg.setAttributeNS(_M,"xmlns",$n),this._svg.setAttributeNS(_M,"xmlns:xlink",H0["xmlns:xlink"]),this._svg.setAttribute("version",H0.version),this._svg.setAttribute("class","marks"),ma(e,1),this._root=Ye(this._svg,0,"g",$n),si(this._root,lp),ma(this._svg,1)),this.background(this._bgcolor),up.initialize.call(this,e,r,a,s,l)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),up.background.apply(this,arguments)},resize(e,r,a,s){return up.resize.call(this,e,r,a,s),this._svg&&(si(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){const e=this._svg,r=this._bgcolor;if(!e)return null;let a;r&&(e.removeAttribute("style"),a=Ye(e,0,"rect",$n),si(a,{width:this._width,height:this._height,fill:r}));const s=vM(e);return r&&(e.removeChild(a),this._svg.style.setProperty("background-color",r)),s},_render(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),ma(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const r=++this._dirtyID;let a,s,l,f,d,h,p;for(d=0,h=e.length;d<h;++d)if(a=e[d],s=a.mark,s.marktype!==l&&(l=s.marktype,f=a1[l]),s.zdirty&&s.dirty!==r&&(this._dirtyAll=!1,bM(a,r),s.items.forEach(v=>{v.dirty=r})),!s.zdirty){if(a.exit){f.nested&&s.items.length?(p=s.items[0],p._svg&&this._update(f,p._svg,p)):a._svg&&(p=a._svg.parentNode,p&&p.removeChild(a._svg)),a._svg=null;continue}a=f.nested?s.items[0]:a,a._update!==r&&(a._svg&&a._svg.ownerSVGElement?this._update(f,a._svg,a):(this._dirtyAll=!1,bM(a,r)),a._update=r)}return!this._dirtyAll},mark(e,r,a){if(!this.isDirty(r))return r._svg;const s=this._svg,l=a1[r.marktype],f=!1===r.interactive?"none":null,d="g"===l.tag;let h=null,p=0;const v=Nd(r,e,a,"g",s);v.setAttribute("class",Qm(r));const _=hM(r);for(const C in _)mr(v,C,_[C]);d||mr(v,"pointer-events",f),mr(v,"clip-path",r.clip?Sm(this,r,r.group):null);const y=C=>{const M=this.isDirty(C),w=Nd(C,v,h,l.tag,s);M&&(this._update(l,w,C),d&&function(e,r,a){r=r.lastChild.previousSibling;let s,l=0;is(a,f=>{s=e.mark(r,f,s),++l}),ma(r,1+l)}(this,w,C)),h=w,++p};return l.nested?r.items.length&&y(r.items[0]):is(r,y),ma(v,p),v},_update(e,r,a){ls=r,On=r.__values__,Td(Id,a),e.attr(Id,a,this);const s=qN[e.type];s&&s.call(this,e,r,a),ls&&this.style(ls,a)},style(e,r){if(null!=r)for(const a in yu){let s="font"===a?mu(r):r[a];if(s===On[a])continue;const l=yu[a];null==s?e.removeAttribute(l):(Cm(s)&&(s=$(s,this._defs.gradient,CM())),e.setAttribute(l,s+"")),On[a]=s}},defs(){const e=this._svg,r=this._defs;let a=r.el,s=0;for(const l in r.gradient)a||(r.el=a=Ye(e,1,"defs",$n)),s=UN(a,r.gradient[l],s);for(const l in r.clipping)a||(r.el=a=Ye(e,1,"defs",$n)),s=bu(a,r.clipping[l],s);a&&(0===s?(e.removeChild(a),r.el=null):ma(a,s))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});let ls=null,On=null;const qN={group(e,r,a){const s=ls=r.childNodes[2];On=s.__values__,e.foreground(Id,a,this),On=r.__values__,ls=r.childNodes[1],e.content(Id,a,this);const l=ls=r.childNodes[0];e.background(Id,a,this);const f=!1===a.mark.interactive?"none":null;if(f!==On.events&&(mr(s,"pointer-events",f),mr(l,"pointer-events",f),On.events=f),a.strokeForeground&&a.stroke){const d=a.fill;mr(s,"display",null),this.style(l,a),mr(l,"stroke",null),d&&(a.fill=null),On=s.__values__,this.style(s,a),d&&(a.fill=d),ls=null}else mr(s,"display","none")},image(e,r,a){!1===a.smooth?(fp(r,"image-rendering","optimizeSpeed"),fp(r,"image-rendering","pixelated")):fp(r,"image-rendering",null)},text(e,r,a){const s=hu(a);let l,f,d,h;(0,E.kJ)(s)?(f=s.map(p=>M2(a,p)),l=f.join("\n"),l!==On.text&&(ma(r,0),d=r.ownerDocument,h=x2(a),f.forEach((p,v)=>{const _=as(d,"tspan",$n);_.__data__=a,_.textContent=p,v&&(_.setAttribute("x",0),_.setAttribute("dy",h)),r.appendChild(_)}),On.text=l)):(f=M2(a,s),f!==On.text&&(r.textContent=f,On.text=f)),mr(r,"font-family",mu(a)),mr(r,"font-size",os(a)+"px"),mr(r,"font-style",a.fontStyle),mr(r,"font-variant",a.fontVariant),mr(r,"font-weight",a.fontWeight)}};function Id(e,r,a){r!==On[e]&&(a?function(e,r,a,s){null!=a?e.setAttributeNS(s,r,a):e.removeAttributeNS(s,r)}(ls,e,r,a):mr(ls,e,r),On[e]=r)}function fp(e,r,a){a!==On[r]&&(null==a?e.style.removeProperty(r):e.style.setProperty(r,a+""),On[r]=a)}function si(e,r){for(const a in r)mr(e,a,r[a])}function mr(e,r,a){null!=a?e.setAttribute(r,a):e.removeAttribute(r)}function CM(){let e;return"undefined"==typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function Cu(e){Ui.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}(0,E.XW)(Cu,Ui,{svg(){return this._text},_render(e){const r=sp();r.open("svg",(0,E.l7)({},H0,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const a=this._bgcolor;return a&&"transparent"!==a&&"none"!==a&&r.open("rect",{width:this._width,height:this._height,fill:a}).close(),r.open("g",lp,{transform:"translate("+this._origin+")"}),this.mark(r,e),r.close(),this.defs(r),this._text=r.close()+"",this},mark(e,r){const a=a1[r.marktype],s=a.tag,l=[Td,a.attr];e.open("g",{class:Qm(r),"clip-path":r.clip?Sm(this,r,r.group):null},hM(r),{"pointer-events":"g"!==s&&!1===r.interactive?"none":null});const f=d=>{const h=this.href(d);if(h&&e.open("a",h),e.open(s,this.attr(r,d,l,"g"!==s?s:null)),"text"===s){const p=hu(d);if((0,E.kJ)(p)){const v={x:0,dy:x2(d)};for(let _=0;_<p.length;++_)e.open("tspan",_?v:null).text(M2(d,p[_])).close()}else e.text(M2(d,p))}else if("g"===s){const p=d.strokeForeground,v=d.fill,_=d.stroke;p&&_&&(d.stroke=null),e.open("path",this.attr(r,d,a.background,"bgrect")).close(),e.open("g",this.attr(r,d,a.content)),is(d,y=>this.mark(e,y)),e.close(),p&&_?(v&&(d.fill=null),d.stroke=_,e.open("path",this.attr(r,d,a.foreground,"bgrect")).close(),v&&(d.fill=v)):e.open("path",this.attr(r,d,a.foreground,"bgfore")).close()}e.close(),h&&e.close()};return a.nested?r.items&&r.items.length&&f(r.items[0]):is(r,f),e.close()},href(e){const r=e.href;let a;if(r){if(a=this._hrefs&&this._hrefs[r])return a;this.sanitizeURL(r).then(s=>{s["xlink:href"]=s.href,s.href=null,(this._hrefs||(this._hrefs={}))[r]=s})}return null},attr(e,r,a,s){const l={},f=(d,h,p,v)=>{l[v||d]=h};return Array.isArray(a)?a.forEach(d=>d(f,r,this)):a(f,r,this),s&&function(e,r,a,s,l){if(null==r||("bgrect"===s&&!1===a.interactive&&(e["pointer-events"]="none"),"bgfore"===s&&(!1===a.interactive&&(e["pointer-events"]="none"),e.display="none",null!==r.fill)))return e;"image"===s&&!1===r.smooth&&(e.style="image-rendering: optimizeSpeed; image-rendering: pixelated;"),"text"===s&&(e["font-family"]=mu(r),e["font-size"]=os(r)+"px",e["font-style"]=r.fontStyle,e["font-variant"]=r.fontVariant,e["font-weight"]=r.fontWeight);for(const f in yu){let d=r[f];const h=yu[f];"transparent"===d&&("fill"===h||"stroke"===h)||null!=d&&(Cm(d)&&(d=$(d,l.gradient,"")),e[h]=d)}}(l,r,e,s,this._defs),l},defs(e){const r=this._defs.gradient,a=this._defs.clipping;if(Object.keys(r).length+Object.keys(a).length!==0){e.open("defs");for(const l in r){const f=r[l],d=f.stops;"radial"===f.gradient?(e.open("pattern",{id:"p_"+l,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+l+")"}).close(),e.close(),e.open("radialGradient",{id:l,fx:f.x1,fy:f.y1,fr:f.r1,cx:f.x2,cy:f.y2,r:f.r2})):e.open("linearGradient",{id:l,x1:f.x1,x2:f.x2,y1:f.y1,y2:f.y2});for(let h=0;h<d.length;++h)e.open("stop",{offset:d[h].offset,"stop-color":d[h].color}).close();e.close()}for(const l in a){const f=a[l];e.open("clipPath",{id:l}),f.path?e.open("path",{d:f.path}).close():e.open("rect",{x:0,y:0,width:f.width,height:f.height}).close(),e.close()}e.close()}}});const Yc={};function Ld(e,r){return e=String(e||"").toLowerCase(),arguments.length>1?(Yc[e]=r,this):Yc[e]}function hp(e,r,a,s){if(function(e,r,a){return e.bounds&&r.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!a||a(e)))}(e,r,a)){const l=e.items,f=e.marktype,d=l.length;let h=0;if("group"===f)for(;h<d;++h)wM(l[h],r,a,s);else for(const p=a1[f].isect;h<d;++h){const v=l[h];ZN(v,r,p)&&s.push(v)}}return s}function wM(e,r,a,s){a&&a(e.mark)&&ZN(e,r,a1.group.isect)&&s.push(e);const l=e.items,f=l&&l.length;if(f){const d=e.x||0,h=e.y||0;r.translate(-d,-h);for(let p=0;p<f;++p)hp(l[p],r,a,s);r.translate(d,h)}return s}function ZN(e,r,a){const s=e.bounds;return r.encloses(s)||r.intersects(s)&&a(e,r)}Yc.canvas=Yc.png={renderer:ip,headless:ip,handler:Wc},Yc.svg={renderer:yM,headless:Cu,handler:D2},Yc.none={};const xu=new Qn,W0="top",Co="left",H1="right",ga="bottom",gp="start",Rd="middle",$i="end",Vd="group",Ai="axis",A2="title",AM="legend",G0="row-header",SM="row-footer",Od="row-title",kM="column-header",vp="column-footer",TM="column-title",NM="none",Mu="all",Cp="each",Hd="flush",xo="column",us="row";function IM(e){te.call(this,null,e)}function X0(e,r,a){return r(e.bounds.clear(),e,a)}(0,E.XW)(IM,te,{transform(e,r){const a=r.dataflow,s=e.mark,l=s.marktype,f=a1[l],d=f.bound;let p,h=s.bounds;if(f.nested)s.items.length&&a.dirty(s.items[0]),h=X0(s,d),s.items.forEach(v=>{v.bounds.clear().union(h)});else if(l===Vd||e.modified())switch(r.visit(r.MOD,v=>a.dirty(v)),h.clear(),s.items.forEach(v=>h.union(X0(v,d))),s.role){case Ai:case AM:case A2:r.reflow()}else p=r.changed(r.REM),r.visit(r.ADD,v=>{h.union(X0(v,d))}),r.visit(r.MOD,v=>{p=p||h.alignsWith(v.bounds),a.dirty(v),h.union(X0(v,d))}),p&&(h.clear(),s.items.forEach(v=>h.union(v.bounds)));return function(e){const r=e.clip;if((0,E.mf)(r))r(cd(xu.clear()));else{if(!r)return;xu.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(xu)}(s),r.modifies("bounds")}});const Bd=":vega_identifier:";function xp(e){te.call(this,0,e)}function Mp(e){te.call(this,null,e)}function wp(e){te.call(this,null,e)}xp.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},(0,E.XW)(xp,te,{transform(e,r){const a=function(e){return e._signals[Bd]||(e._signals[Bd]=e.add(0))}(r.dataflow),s=e.as;let l=a.value;return r.visit(r.ADD,f=>f[s]=f[s]||++l),a.set(this.value=l),r}}),(0,E.XW)(Mp,te,{transform(e,r){let a=this.value;a||(a=r.dataflow.scenegraph().mark(e.markdef,function(e){const r=e.groups,a=e.parent;return r&&1===r.size?r.get(Object.keys(r.object)[0]):r&&a?r.lookup(a):null}(e),e.index),a.group.context=e.context,e.context.group||(e.context.group=a.group),a.source=this.source,a.clip=e.clip,a.interactive=e.interactive,this.value=a);const s=a.marktype===Vd?O1:Ee;return r.visit(r.ADD,l=>s.call(l,a)),(e.modified("clip")||e.modified("interactive"))&&(a.clip=e.clip,a.interactive=!!e.interactive,a.zdirty=!0,r.reflow()),a.items=r.source,r}});const FM={parity:e=>e.filter((r,a)=>a%2?r.opacity=0:1),greedy:(e,r)=>{let a;return e.filter((s,l)=>l&&Ep(a.bounds,s.bounds,r)?s.opacity=0:(a=s,1))}},Ep=(e,r,a)=>a>Math.max(r.x1-e.x2,e.x1-r.x2,r.y1-e.y2,e.y1-r.y2),Dp=(e,r)=>{for(var f,a=1,s=e.length,l=e[0].bounds;a<s;l=f,++a)if(Ep(l,f=e[a].bounds,r))return!0},iI=e=>{const r=e.bounds;return r.width()>1&&r.height()>1},Ap=e=>(e.forEach(r=>r.opacity=1),e),RM=(e,r)=>e.reflow(r.modified()).modifies("opacity");function Sp(e){te.call(this,null,e)}(0,E.XW)(wp,te,{transform(e,r){const a=FM[e.method]||FM.parity,s=e.separation||0;let f,d,l=r.materialize(r.SOURCE).source;if(!l||!l.length)return;if(!e.method)return e.modified("method")&&(Ap(l),r=RM(r,e)),r;if(l=l.filter(iI),!l.length)return;if(e.sort&&(l=l.slice().sort(e.sort)),f=Ap(l),r=RM(r,e),f.length>=3&&Dp(f,s)){do{f=a(f,s)}while(f.length>=3&&Dp(f,s));f.length<3&&!(0,E.fj)(l).opacity&&(f.length>1&&((0,E.fj)(f).opacity=0),(0,E.fj)(l).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(d=((e,r,a)=>{var s=e.range(),l=new Qn;return r===W0||r===ga?l.set(s[0],-1/0,s[1],1/0):l.set(-1/0,s[0],1/0,s[1]),l.expand(a||1),f=>l.encloses(f.bounds)})(e.boundScale,e.boundOrient,+e.boundTolerance),l.forEach(p=>{d(p)||(p.opacity=0)}));const h=f[0].mark.bounds.clear();return l.forEach(p=>{p.opacity&&h.union(p.bounds)}),r}}),(0,E.XW)(Sp,te,{transform(e,r){const a=r.dataflow;if(r.visit(r.ALL,s=>a.dirty(s)),r.fields&&r.fields.zindex){const s=r.source&&r.source[0];s&&(s.mark.zdirty=!0)}}});const Si=new Qn;function Zc(e,r,a){return e[r]===a?0:(e[r]=a,1)}function VM(e){var r=e.items[0].orient;return r===Co||r===H1}function aI(e,r,a,s){var F,O,l=r.items[0],f=l.datum,d=null!=l.translate?l.translate:.5,h=l.orient,p=function(e){let r=+e.grid;return[e.ticks?r++:-1,e.labels?r++:-1,r+ +e.domain]}(f),v=l.range,_=l.offset,y=l.position,C=l.minExtent,M=l.maxExtent,w=f.title&&l.items[p[2]].items[0],A=l.titlePadding,S=l.bounds,T=w&&Zx(w),N=0,I=0;switch(Si.clear().union(S),S.clear(),(F=p[0])>-1&&S.union(l.items[F].bounds),(F=p[1])>-1&&S.union(l.items[F].bounds),h){case W0:N=y||0,I=-_,O=Math.max(C,Math.min(M,-S.y1)),S.add(0,-O).add(v,0),w&&jd(e,w,O,A,T,0,-1,S);break;case Co:N=-_,I=y||0,O=Math.max(C,Math.min(M,-S.x1)),S.add(-O,0).add(0,v),w&&jd(e,w,O,A,T,1,-1,S);break;case H1:N=a+_,I=y||0,O=Math.max(C,Math.min(M,S.x2)),S.add(0,0).add(O,v),w&&jd(e,w,O,A,T,1,1,S);break;case ga:N=y||0,I=s+_,O=Math.max(C,Math.min(M,S.y2)),S.add(0,0).add(v,O),w&&jd(e,w,O,A,0,0,1,S);break;default:N=l.x,I=l.y}return ts(S.translate(N,I),l),Zc(l,"x",N+d)|Zc(l,"y",I+d)&&(l.bounds=Si,e.dirty(l),l.bounds=S,e.dirty(l)),l.mark.bounds.clear().union(S)}function jd(e,r,a,s,l,f,d,h){const p=r.bounds;if(r.auto){const v=d*(a+l+s);let _=0,y=0;e.dirty(r),f?_=(r.x||0)-(r.x=v):y=(r.y||0)-(r.y=v),r.mark.bounds.clear().union(p.translate(-_,-y)),e.dirty(r)}h.union(p)}const kp=(e,r)=>Math.floor(Math.min(e,r)),sI=(e,r)=>Math.ceil(Math.max(e,r));function aq(e){return(new Qn).set(0,0,e.width||0,e.height||0)}function sq(e){const r=e.bounds.clone();return r.empty()?r.set(0,0,0,0):r.translate(-(e.x||0),-(e.y||0))}function bn(e,r,a){const s=(0,E.Kn)(e)?e[r]:e;return null!=s?s:void 0!==a?a:0}function cI(e){return e<0?Math.ceil(-e):0}function lI(e,r,a){var P,V,G,Y,W,X,re,ie,de,J,fe,s=!a.nodirty,l=a.bounds===Hd?aq:sq,f=Si.set(0,0,0,0),d=bn(a.align,xo),h=bn(a.align,us),p=bn(a.padding,xo),v=bn(a.padding,us),_=a.columns||r.length,y=_<=0?1:Math.ceil(r.length/_),C=r.length,M=Array(C),w=Array(_),A=0,S=Array(C),T=Array(y),N=0,I=Array(C),F=Array(C),O=Array(C);for(V=0;V<_;++V)w[V]=0;for(V=0;V<y;++V)T[V]=0;for(V=0;V<C;++V)W=O[V]=l(X=r[V]),X.x=X.x||0,I[V]=0,X.y=X.y||0,F[V]=0,G=V%_,Y=~~(V/_),A=Math.max(A,re=Math.ceil(W.x2)),N=Math.max(N,ie=Math.ceil(W.y2)),w[G]=Math.max(w[G],re),T[Y]=Math.max(T[Y],ie),M[V]=p+cI(W.x1),S[V]=v+cI(W.y1),s&&e.dirty(r[V]);for(V=0;V<C;++V)V%_==0&&(M[V]=0),V<_&&(S[V]=0);if(d===Cp)for(G=1;G<_;++G){for(fe=0,V=G;V<C;V+=_)fe<M[V]&&(fe=M[V]);for(V=G;V<C;V+=_)M[V]=fe+w[G-1]}else if(d===Mu){for(fe=0,V=0;V<C;++V)V%_&&fe<M[V]&&(fe=M[V]);for(V=0;V<C;++V)V%_&&(M[V]=fe+A)}else for(d=!1,G=1;G<_;++G)for(V=G;V<C;V+=_)M[V]+=w[G-1];if(h===Cp)for(Y=1;Y<y;++Y){for(fe=0,P=(V=Y*_)+_;V<P;++V)fe<S[V]&&(fe=S[V]);for(V=Y*_;V<P;++V)S[V]=fe+T[Y-1]}else if(h===Mu){for(fe=0,V=_;V<C;++V)fe<S[V]&&(fe=S[V]);for(V=_;V<C;++V)S[V]=fe+N}else for(h=!1,Y=1;Y<y;++Y)for(P=(V=Y*_)+_;V<P;++V)S[V]+=T[Y-1];for(de=0,V=0;V<C;++V)I[V]+=(de=M[V]+(V%_?de:0))-r[V].x;for(G=0;G<_;++G)for(J=0,V=G;V<C;V+=_)F[V]+=(J+=S[V])-r[V].y;if(d&&bn(a.center,xo)&&y>1)for(V=0;V<C;++V)(de=(W=d===Mu?A:w[V%_])-O[V].x2-r[V].x-I[V])>0&&(I[V]+=de/2);if(h&&bn(a.center,us)&&1!==_)for(V=0;V<C;++V)(J=(W=h===Mu?N:T[~~(V/_)])-O[V].y2-r[V].y-F[V])>0&&(F[V]+=J/2);for(V=0;V<C;++V)f.union(O[V].translate(I[V],F[V]));switch(de=bn(a.anchor,"x"),J=bn(a.anchor,"y"),bn(a.anchor,xo)){case $i:de-=f.width();break;case Rd:de-=f.width()/2}switch(bn(a.anchor,us)){case $i:J-=f.height();break;case Rd:J-=f.height()/2}for(de=Math.round(de),J=Math.round(J),f.clear(),V=0;V<C;++V)r[V].mark.bounds.clear();for(V=0;V<C;++V)(X=r[V]).x+=I[V]+=de,X.y+=F[V]+=J,f.union(X.mark.bounds.union(X.bounds.translate(I[V],F[V]))),s&&e.dirty(X);return f}function fI(e,r){return"x1"===r?e.x||0:"y1"===r?e.y||0:"x2"===r?(e.x||0)+(e.width||0):"y2"===r?(e.y||0)+(e.height||0):void 0}function dI(e,r){return e.bounds[r]}function Tp(e,r,a,s,l,f,d,h,p,v,_,y,C,M){var T,N,I,F,O,P,V,G,Y,w=a.length,A=0,S=0;if(!w)return A;for(T=_;T<w;T+=y)a[T]&&(A=d(A,p(a[T],v)));if(!r.length)return A;for(r.length>l&&(e.warn("Grid headers exceed limit: "+l),r=r.slice(0,l)),A+=f,N=0,F=r.length;N<F;++N)e.dirty(r[N]),r[N].mark.bounds.clear();for(T=_,N=0,F=r.length;N<F;++N,T+=y){for(O=(P=r[N]).mark.bounds,I=T;I>=0&&null==(V=a[I]);I-=C);h?(G=null==M?V.x:Math.round(V.bounds.x1+M*V.bounds.width()),Y=A):(G=A,Y=null==M?V.y:Math.round(V.bounds.y1+M*V.bounds.height())),O.union(P.bounds.translate(G-(P.x||0),Y-(P.y||0))),P.x=G,P.y=Y,e.dirty(P),S=d(S,O[v])}return S}function hI(e,r,a,s,l,f){if(r){e.dirty(r);var d=a,h=a;s?d=Math.round(l.x1+f*l.width()):h=Math.round(l.y1+f*l.height()),r.bounds.translate(d-(r.x||0),h-(r.y||0)),r.mark.bounds.clear().union(r.bounds),r.x=d,r.y=h,e.dirty(r)}}function pI(e,r,a,s,l,f,d){const h=function(e,r){const a=e[r]||{};return(s,l)=>null!=a[s]?a[s]:null!=e[s]?e[s]:l}(a,r),p=function(e,r){let a=-1/0;return e.forEach(s=>{null!=s.offset&&(a=Math.max(a,s.offset))}),a>-1/0?a:r}(e,h("offset",0)),v=h("anchor",gp),_=v===$i?1:v===Rd?.5:0,y={align:Cp,bounds:h("bounds",Hd),columns:"vertical"===h("direction")?1:e.length,padding:h("margin",8),center:h("center"),nodirty:!0};switch(r){case Co:y.anchor={x:Math.floor(s.x1)-p,column:$i,y:_*(d||s.height()+2*s.y1),row:v};break;case H1:y.anchor={x:Math.ceil(s.x2)+p,y:_*(d||s.height()+2*s.y1),row:v};break;case W0:y.anchor={y:Math.floor(l.y1)-p,row:$i,x:_*(f||l.width()+2*l.x1),column:v};break;case ga:y.anchor={y:Math.ceil(l.y2)+p,x:_*(f||l.width()+2*l.x1),column:v};break;case"top-left":y.anchor={x:p,y:p};break;case"top-right":y.anchor={x:f-p,y:p,column:$i};break;case"bottom-left":y.anchor={x:p,y:d-p,row:$i};break;case"bottom-right":y.anchor={x:f-p,y:d-p,column:$i,row:$i}}return y}function gI(e,r){var p,v,a=r.items[0],s=a.datum,l=a.orient,f=a.bounds,d=a.x,h=a.y;return a._bounds?a._bounds.clear().union(f):a._bounds=f.clone(),f.clear(),function(e,r,a){var s=r.padding,l=s-a.x,f=s-a.y;if(r.datum.title){var d=r.items[1].items[0],h=d.anchor,p=r.titlePadding||0,v=s-d.x,_=s-d.y;switch(d.orient){case Co:l+=Math.ceil(d.bounds.width())+p;break;case H1:case ga:break;default:f+=d.bounds.height()+p}switch((l||f)&&Ud(e,a,l,f),d.orient){case Co:_+=Y0(r,a,d,h,1,1);break;case H1:v+=Y0(r,a,d,$i,0,0)+p,_+=Y0(r,a,d,h,1,1);break;case ga:v+=Y0(r,a,d,h,0,0),_+=Y0(r,a,d,$i,-1,0,1)+p;break;default:v+=Y0(r,a,d,h,0,0)}(v||_)&&Ud(e,d,v,_),(v=Math.round(d.bounds.x1-s))<0&&(Ud(e,a,-v,0),Ud(e,d,-v,0))}else(l||f)&&Ud(e,a,l,f)}(e,a,a.items[0].items[0]),f=function(e,r){return e.items.forEach(a=>r.union(a.bounds)),r.x1=e.padding,r.y1=e.padding,r}(a,f),p=2*a.padding,v=2*a.padding,f.empty()||(p=Math.ceil(f.width()+p),v=Math.ceil(f.height()+v)),"symbol"===s.type&&function(e){const r=e.reduce((a,s)=>(a[s.column]=Math.max(s.bounds.x2-s.x,a[s.column]||0),a),{});e.forEach(a=>{a.width=r[a.column],a.height=a.bounds.y2-a.y})}(a.items[0].items[0].items[0].items),l!==NM&&(a.x=d=0,a.y=h=0),a.width=p,a.height=v,ts(f.set(d,h,d+p,h+v),a),a.mark.bounds.clear().union(f),a}function Y0(e,r,a,s,l,f,d){const p=a.datum.vgrad,_=("symbol"===e.datum.type||!f&&p||d?r:r.items[0]).bounds[l?"y2":"x2"]-e.padding,y=p&&f?_:0,C=p&&f?0:_,M=l<=0?0:Zx(a);return Math.round(s===gp?y:s===$i?C-M:.5*(_-M))}function Ud(e,r,a,s){r.x+=a,r.y+=s,r.bounds.translate(a,s),r.mark.bounds.translate(a,s),e.dirty(r)}function wu(e){te.call(this,null,e)}function OM(e,r){let a=0;if(void 0===r)for(let s of e)(s=+s)&&(a+=s);else{let s=-1;for(let l of e)(l=+r(l,++s,e))&&(a+=l)}return a}function $d(e){te.call(this,null,e)}function zp(e){te.call(this,null,e)}function Du(){return $t({})}function bI(e){te.call(this,null,e)}function qd(e){te.call(this,[],e)}(0,E.XW)(wu,te,{transform(e,r){const a=r.dataflow;return e.mark.items.forEach(s=>{e.layout&&function(e,r,a){var _,y,C,M,w,A,S,s=function(e){var l,f,r=e.items,a=r.length,s=0;const d={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;s<a;++s)if(f=(l=r[s]).items,l.marktype===Vd)switch(l.role){case Ai:case AM:case A2:break;case G0:d.rowheaders.push(...f);break;case SM:d.rowfooters.push(...f);break;case kM:d.colheaders.push(...f);break;case vp:d.colfooters.push(...f);break;case Od:d.rowtitle=f[0];break;case TM:d.coltitle=f[0];break;default:d.marks.push(...f)}return d}(r),l=s.marks,f=a.bounds===Hd?fI:dI,d=a.offset,h=a.columns||l.length,p=h<=0?1:Math.ceil(l.length/h),v=p*h;const T=lI(e,l,a);T.empty()&&T.set(0,0,0,0),s.rowheaders&&(A=bn(a.headerBand,us,null),_=Tp(e,s.rowheaders,l,0,p,-bn(d,"rowHeader"),kp,0,f,"x1",0,h,1,A)),s.colheaders&&(A=bn(a.headerBand,xo,null),y=Tp(e,s.colheaders,l,0,h,-bn(d,"columnHeader"),kp,1,f,"y1",0,1,h,A)),s.rowfooters&&(A=bn(a.footerBand,us,null),C=Tp(e,s.rowfooters,l,0,p,bn(d,"rowFooter"),sI,0,f,"x2",h-1,h,1,A)),s.colfooters&&(A=bn(a.footerBand,xo,null),M=Tp(e,s.colfooters,l,0,h,bn(d,"columnFooter"),sI,1,f,"y2",v-h,1,h,A)),s.rowtitle&&(w=bn(a.titleAnchor,us),S=bn(d,"rowTitle"),S=w===$i?C+S:_-S,A=bn(a.titleBand,us,.5),hI(e,s.rowtitle,S,0,T,A)),s.coltitle&&(w=bn(a.titleAnchor,xo),S=bn(d,"columnTitle"),S=w===$i?M+S:y-S,A=bn(a.titleBand,xo,.5),hI(e,s.coltitle,S,1,T,A))}(a,s,e.layout),function(e,r,a){var _,y,C,w,A,s=r.items,l=Math.max(0,r.width||0),f=Math.max(0,r.height||0),d=(new Qn).set(0,0,l,f),h=d.clone(),p=d.clone(),v=[];for(w=0,A=s.length;w<A;++w)switch(y=s[w],y.role){case Ai:(VM(y)?h:p).union(aI(e,y,l,f));break;case A2:_=y;break;case AM:v.push(gI(e,y));break;case"frame":case"scope":case G0:case SM:case Od:case kM:case vp:case TM:h.union(y.bounds),p.union(y.bounds);break;default:d.union(y.bounds)}if(v.length){const S={};v.forEach(T=>{(C=T.orient||H1)!==NM&&(S[C]||(S[C]=[])).push(T)});for(const T in S){const N=S[T];lI(e,N,pI(N,T,a.legends,h,p,l,f))}v.forEach(T=>{const N=T.bounds;if(N.equals(T._bounds)||(T.bounds=T._bounds,e.dirty(T),T.bounds=N,e.dirty(T)),a.autosize&&"fit"===a.autosize.type)switch(T.orient){case Co:case H1:d.add(N.x1,0).add(N.x2,0);break;case W0:case ga:d.add(0,N.y1).add(0,N.y2)}else d.union(N)})}d.union(h).union(p),_&&d.union(function(e,r,a,s,l){var I,f=r.items[0],h=f.orient,p=f.anchor,v=f.offset,_=f.padding,y=f.items[0].items[0],C=f.items[1]&&f.items[1].items[0],M=h===Co||h===H1?s:a,w=0,A=0,S=0,T=0,N=0;if(f.frame!==Vd?h===Co?(w=l.y2,M=l.y1):h===H1?(w=l.y1,M=l.y2):(w=l.x1,M=l.x2):h===Co&&(w=s,M=0),I=p===gp?w:p===$i?M:(w+M)/2,C&&C.text){switch(h){case W0:case ga:N=y.bounds.height()+_;break;case Co:T=y.bounds.width()+_;break;case H1:T=-y.bounds.width()-_}Si.clear().union(C.bounds),Si.translate(T-(C.x||0),N-(C.y||0)),Zc(C,"x",T)|Zc(C,"y",N)&&(e.dirty(C),C.bounds.clear().union(Si),C.mark.bounds.clear().union(Si),e.dirty(C)),Si.clear().union(C.bounds)}else Si.clear();switch(Si.union(y.bounds),h){case W0:A=I,S=l.y1-Si.height()-v;break;case Co:A=l.x1-Si.width()-v,S=I;break;case H1:A=l.x2+Si.width()+v,S=I;break;case ga:A=I,S=l.y2+v;break;default:A=f.x,S=f.y}return Zc(f,"x",A)|Zc(f,"y",S)&&(Si.translate(A,S),e.dirty(f),f.bounds.clear().union(Si),r.bounds.clear().union(Si),e.dirty(f)),f.bounds}(e,_,l,f,d)),r.clip&&d.set(0,0,r.width||0,r.height||0),function(e,r,a,s){const l=s.autosize||{},f=l.type;if(e._autosize<1||!f)return;let d=e._width,h=e._height,p=Math.max(0,r.width||0),v=Math.max(0,Math.ceil(-a.x1)),_=Math.max(0,r.height||0),y=Math.max(0,Math.ceil(-a.y1));const C=Math.max(0,Math.ceil(a.x2-p)),M=Math.max(0,Math.ceil(a.y2-_));if("padding"===l.contains){const w=e.padding();d-=w.left+w.right,h-=w.top+w.bottom}f===NM?(v=0,y=0,p=d,_=h):"fit"===f?(p=Math.max(0,d-v-C),_=Math.max(0,h-y-M)):"fit-x"===f?(p=Math.max(0,d-v-C),h=_+y+M):"fit-y"===f?(d=p+v+C,_=Math.max(0,h-y-M)):"pad"===f&&(d=p+v+C,h=_+y+M),e._resizeView(d,h,p,_,[v,y],l.resize)}(e,r,d,a)}(a,s,e)}),function(e){return e&&"legend-entry"!==e.mark.role}(e.mark.group)?r.reflow():r}}),(0,E.XW)($d,te,{transform(e,r){if(this.value&&!e.modified())return r.StopPropagation;var a=r.dataflow.locale(),s=r.fork(r.NO_SOURCE|r.NO_FIELDS),l=this.value,f=e.scale,h=X8(f,null==e.count?e.values?e.values.length:10:e.count,e.minstep),p=e.format||J6(a,f,h,e.formatSpecifier,e.formatType,!!e.values),v=e.values?nx(f,e.values,h):Y8(f,h);return l&&(s.rem=l),l=v.map((_,y)=>$t({index:y/(v.length-1||1),value:_,label:p(_)})),e.extra&&l.length&&l.push($t({index:-1,extra:{value:l[0].value},label:""})),s.source=l,s.add=l,this.value=l,s}}),(0,E.XW)(zp,te,{transform(e,r){var a=r.dataflow,s=r.fork(r.NO_SOURCE|r.NO_FIELDS),l=e.item||Du,f=e.key||Le,d=this.value;return(0,E.kJ)(s.encode)&&(s.encode=null),d&&(e.modified("key")||r.modified(f))&&(0,E.vU)("DataJoin does not support modified key function or fields."),d||(r=r.addAll(),this.value=d=function(e){const r=(0,E.Xr)().test(a=>a.exit);return r.lookup=a=>r.get(e(a)),r}(f)),r.visit(r.ADD,h=>{const p=f(h);let v=d.get(p);v?v.exit?(d.empty--,s.add.push(v)):s.mod.push(v):(v=l(h),d.set(p,v),s.add.push(v)),v.datum=h,v.exit=!1}),r.visit(r.MOD,h=>{const p=f(h),v=d.get(p);v&&(v.datum=h,s.mod.push(v))}),r.visit(r.REM,h=>{const p=f(h),v=d.get(p);h===v.datum&&!v.exit&&(s.rem.push(v),v.exit=!0,++d.empty)}),r.changed(r.ADD_MOD)&&s.modifies("datum"),(r.clean()||e.clean&&d.empty>a.cleanThreshold)&&a.runAfter(d.clean),s}}),(0,E.XW)(bI,te,{transform(e,r){var a=r.fork(r.ADD_REM),s=e.mod||!1,l=e.encoders,f=r.encode;if((0,E.kJ)(f)){if(!a.changed()&&!f.every(y=>l[y]))return r.StopPropagation;f=f[0],a.encode=null}var d="enter"===f,h=l.update||E.k,p=l.enter||E.k,v=l.exit||E.k,_=(f&&!d?l[f]:h)||E.k;if(r.changed(r.ADD)&&(r.visit(r.ADD,y=>{p(y,e),h(y,e)}),a.modifies(p.output),a.modifies(h.output),_!==E.k&&_!==h&&(r.visit(r.ADD,y=>{_(y,e)}),a.modifies(_.output))),r.changed(r.REM)&&v!==E.k&&(r.visit(r.REM,y=>{v(y,e)}),a.modifies(v.output)),d||_!==E.k){const y=r.MOD|(e.modified()?r.REFLOW:0);d?(r.visit(y,C=>{const M=p(C,e)||s;(_(C,e)||M)&&a.mod.push(C)}),a.mod.length&&a.modifies(p.output)):r.visit(y,C=>{(_(C,e)||s)&&a.mod.push(C)}),a.mod.length&&a.modifies(_.output)}return a.changed()?a:r.StopPropagation}}),(0,E.XW)(qd,te,{transform(e,r){if(null!=this.value&&!e.modified())return r.StopPropagation;var C,M,w,A,S,a=r.dataflow.locale(),s=r.fork(r.NO_SOURCE|r.NO_FIELDS),l=this.value,f=e.type||G8,d=e.scale,h=+e.limit,p=X8(d,null==e.count?5:e.count,e.minstep),_=e.format||sx(a,d,p,f,e.formatSpecifier,e.formatType,!!e.values||f===G8),y=e.values||ox(d,p);return l&&(s.rem=l),f===G8?(h&&y.length>h?(r.dataflow.warn("Symbol legend count exceeds limit, filtering items."),l=y.slice(0,h-1),S=!0):l=y,(0,E.mf)(w=e.size)?(!e.values&&0===d(l[0])&&(l=l.slice(1)),A=l.reduce((T,N)=>Math.max(T,w(N,e)),0)):w=(0,E.a9)(A=w||8),l=l.map((T,N)=>$t({index:N,label:_(T,N,l),value:T,offset:A,size:w(T,e)})),S&&(S=y[l.length],l.push($t({index:l.length,label:"\u2026".concat(y.length-l.length," entries"),value:S,offset:A,size:w(S,e)})))):"gradient"===f?(C=d.domain(),M=Az(d,C[0],(0,E.fj)(C)),y.length<3&&!e.values&&C[0]!==(0,E.fj)(C)&&(y=[C[0],(0,E.fj)(C)]),l=y.map((T,N)=>$t({index:N,label:_(T,N,y),value:T,perc:M(T)}))):(w=y.length-1,M=function(e){const r=e.domain(),a=r.length-1;let s=+r[0],l=+(0,E.fj)(r),f=l-s;if(e.type===dt){const d=a?f/a:.1;s-=d,l+=d,f=l-s}return d=>(d-s)/f}(d),l=y.map((T,N)=>$t({index:N,label:_(T,N,y),value:T,perc:N?M(T):0,perc2:N===w?1:M(y[N+1])}))),s.source=l,s.add=l,this.value=l,s}});const fs=e=>e.source.x,PM=e=>e.source.y,dq=e=>e.target.x,hq=e=>e.target.y;function HM(e){te.call(this,{},e)}HM.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},(0,E.XW)(HM,te,{transform(e,r){var a=e.sourceX||fs,s=e.sourceY||PM,l=e.targetX||dq,f=e.targetY||hq,d=e.as||"path",p=e.shape||"line",v=Lp.get(p+"-"+(e.orient||"vertical"))||Lp.get(p);return v||(0,E.vU)("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),r.visit(r.SOURCE,_=>{_[d]=v(a(_),s(_),l(_),f(_))}),r.reflow(e.modified()).modifies(d)}});const BM=(e,r,a,s)=>"M"+e+","+r+"L"+a+","+s,Np=(e,r,a,s)=>{var l=a-e,f=s-r,d=Math.sqrt(l*l+f*f)/2;return"M"+e+","+r+"A"+d+","+d+" "+180*Math.atan2(f,l)/Math.PI+" 0 1 "+a+","+s},xI=(e,r,a,s)=>{const l=a-e,f=s-r,d=.2*(l+f),h=.2*(f-l);return"M"+e+","+r+"C"+(e+d)+","+(r+h)+" "+(a+h)+","+(s-d)+" "+a+","+s},Lp=(0,E.Xr)({line:BM,"line-radial":(e,r,a,s)=>BM(r*Math.cos(e),r*Math.sin(e),s*Math.cos(a),s*Math.sin(a)),arc:Np,"arc-radial":(e,r,a,s)=>Np(r*Math.cos(e),r*Math.sin(e),s*Math.cos(a),s*Math.sin(a)),curve:xI,"curve-radial":(e,r,a,s)=>xI(r*Math.cos(e),r*Math.sin(e),s*Math.cos(a),s*Math.sin(a)),"orthogonal-horizontal":(e,r,a,s)=>"M"+e+","+r+"V"+s+"H"+a,"orthogonal-vertical":(e,r,a,s)=>"M"+e+","+r+"H"+a+"V"+s,"orthogonal-radial":(e,r,a,s)=>{const l=Math.cos(e),f=Math.sin(e),d=Math.cos(a),h=Math.sin(a);return"M"+r*l+","+r*f+"A"+r+","+r+" 0 0,"+((Math.abs(a-e)>Math.PI?a<=e:a>e)?1:0)+" "+r*d+","+r*h+"L"+s*d+","+s*h},"diagonal-horizontal":(e,r,a,s)=>{const l=(e+a)/2;return"M"+e+","+r+"C"+l+","+r+" "+l+","+s+" "+a+","+s},"diagonal-vertical":(e,r,a,s)=>{const l=(r+s)/2;return"M"+e+","+r+"C"+e+","+l+" "+a+","+l+" "+a+","+s},"diagonal-radial":(e,r,a,s)=>{const l=Math.cos(e),f=Math.sin(e),d=Math.cos(a),h=Math.sin(a),p=(r+s)/2;return"M"+r*l+","+r*f+"C"+p*l+","+p*f+" "+p*d+","+p*h+" "+s*d+","+s*h}});function Fp(e){te.call(this,null,e)}function jM(e){return gm(e)&&e!==fn}Fp.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},(0,E.XW)(Fp,te,{transform(e,r){var w,A,S,a=e.as||["startAngle","endAngle"],s=a[0],l=a[1],d=e.startAngle||0,h=null!=e.endAngle?e.endAngle:2*Math.PI,p=r.source,v=p.map(e.field||E.kX),_=v.length,y=d,C=(h-d)/OM(v),M=ur(_);for(e.sort&&M.sort((T,N)=>v[T]-v[N]),w=0;w<_;++w)S=v[M[w]],(A=p[M[w]])[s]=y,A[l]=y+=S*C;return this.value=v,r.reflow(e.modified()).modifies(a)}});const UM=(0,E.Rg)(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function $M(e){te.call(this,null,e),this.modified(!0)}function qM(e,r,a){return GC(e)&&Math.abs(r.reduce((l,f)=>l+(f<0?-1:f>0?1:0),0))!==r.length&&a.warn("Log scale domain includes zero: "+(0,E.m8)(r)),r}function Pp(e,r,a){return(0,E.mf)(e)&&(r||a)?function(e,r){const a=r[0],s=(0,E.fj)(r)-a;return function(l){return e(a+l*s)}}(e,Wd(r||[0,1],a)):e}function Wd(e,r){return r?e.slice().reverse():e}function WM(e){te.call(this,null,e)}(0,E.XW)($M,te,{transform(e,r){var a=r.dataflow,s=this.value,l=function(e){var s,r=e.type,a="";return r===fn?fn+"-"+Hc:(function(e){const r=e.type;return gm(r)&&r!==Hi&&r!==vo&&(e.scheme||e.range&&e.range.length&&e.range.every(E.HD))}(e)&&(a=2===(s=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0)?fn+"-":3===s?F1+"-":""),(a+r||Hc).toLowerCase())}(e);for(l in(!s||l!==s.type)&&(this.value=s=Ht(l)()),e)if(!UM[l]){if("padding"===l&&jM(s.type))continue;(0,E.mf)(s[l])?s[l](e[l]):a.warn("Unsupported scale property: "+l)}return function(e,r,a){var s=e.type,l=r.round||!1,f=r.range;if(null!=r.rangeStep)f=function(e,r,a){return"band"!==e&&e!==l2&&(0,E.vU)("Only band and point scales support rangeStep."),[0,r.rangeStep*S0(a,e===l2?1:(null!=r.paddingInner?r.paddingInner:r.padding)||0,(null!=r.paddingOuter?r.paddingOuter:r.padding)||0)]}(s,r,a);else if(r.scheme&&(f=function(e,r,a){var f,s=r.schemeExtent;return(0,E.kJ)(r.scheme)?f=QC(r.scheme,r.interpolate,r.interpolateGamma):(f=zz(r.scheme.toLowerCase()))||(0,E.vU)("Unrecognized scheme name: ".concat(r.scheme)),a=e===dt?a+1:e===u2?a-1:e===Ja||e===hr?+r.schemeCount||5:a,YC(e)?Pp(f,s,r.reverse):(0,E.mf)(f)?function(e,r){const a=new Array(r),s=r+1;for(let l=0;l<r;)a[l]=e(++l/s);return a}(Pp(f,s),a):e===c2?f:f.slice(0,a)}(s,r,a),(0,E.mf)(f))){if(e.interpolator)return e.interpolator(f);(0,E.vU)("Scale type ".concat(s," does not support interpolating color schemes."))}if(f&&YC(s))return e.interpolator(QC(Wd(f,r.reverse),r.interpolate,r.interpolateGamma));f&&r.interpolate&&e.interpolate?e.interpolate(JC(r.interpolate,r.interpolateGamma)):(0,E.mf)(e.round)?e.round(l):(0,E.mf)(e.rangeRound)&&e.interpolate(l?M0:sa),f&&e.range(Wd(f,r.reverse))}(s,e,function(e,r,a){let s=r.bins;if(s&&!(0,E.kJ)(s)){const l=e.domain(),f=l[0],d=(0,E.fj)(l),h=s.step;let p=null==s.start?f:s.start,v=null==s.stop?d:s.stop;h||(0,E.vU)("Scale bins parameter missing step property."),p<f&&(p=h*Math.ceil(f/h)),v>d&&(v=h*Math.floor(d/h)),s=ur(p,v+h/2,h)}return s?e.bins=s:e.bins&&delete e.bins,e.type===u2&&(s?!r.domain&&!r.domainRaw&&(e.domain(s),a=s.length):e.bins=e.domain()),a}(s,e,function(e,r,a){const s=function(e,r,a){return r?(e.domain(qM(e.type,r,a)),r.length):-1}(e,r.domainRaw,a);if(s>-1)return s;var h,p,l=r.domain,f=e.type,d=r.zero||void 0===r.zero&&function(e){const r=e.type;return!e.bins&&(r===Hc||r===K6||r===Q6)}(e);if(!l)return 0;if(jM(f)&&r.padding&&l[0]!==(0,E.fj)(l)&&(l=function(e,r,a,s,l,f){var d=Math.abs((0,E.fj)(a)-a[0]),h=d/(d-2*s),p=e===o1?(0,E.dH)(r,null,h):e===Q6?(0,E.mK)(r,null,h,.5):e===K6?(0,E.mK)(r,null,h,l||1):e===T0?(0,E.bV)(r,null,h,f||1):(0,E.ay)(r,null,h);return(r=r.slice())[0]=p[0],r[r.length-1]=p[1],r}(f,l,r.range,r.padding,r.exponent,r.constant)),(d||null!=r.domainMin||null!=r.domainMax||null!=r.domainMid)&&(h=(l=l.slice()).length-1||1,d&&(l[0]>0&&(l[0]=0),l[h]<0&&(l[h]=0)),null!=r.domainMin&&(l[0]=r.domainMin),null!=r.domainMax&&(l[h]=r.domainMax),null!=r.domainMid)){const v=(p=r.domainMid)>l[h]?h+1:p<l[0]?0:h;v!==h&&a.warn("Scale domainMid exceeds domain min or max.",p),l.splice(v,0,p)}return e.domain(qM(f,l,a)),f===c2&&e.unknown(r.domainImplicit?eC:void 0),r.nice&&e.nice&&e.nice(!0!==r.nice&&X8(e,r.nice)||null),l.length}(s,e,a))),r.fork(r.NO_SOURCE|r.NO_FIELDS)}}),(0,E.XW)(WM,te,{transform(e,r){const a=e.modified("sort")||r.changed(r.ADD)||r.modified(e.sort.fields)||r.modified("datum");return a&&r.source.sort(_c(e.sort)),this.modified(a),r}});const GM="normalize",XM=["y0","y1"];function Au(e){te.call(this,null,e)}function YM(e,r,a,s,l){for(var p,f=(r-e.sum)/2,d=e.length,h=0;h<d;++h)(p=e[h])[s]=f,p[l]=f+=Math.abs(a(p))}function ZM(e,r,a,s,l){for(var _,f=1/e.sum,d=0,h=e.length,p=0,v=0;p<h;++p)(_=e[p])[s]=d,_[l]=d=f*(v+=Math.abs(a(_)))}function Bp(e,r,a,s,l){for(var v,_,f=0,d=0,h=e.length,p=0;p<h;++p)(v=+a(_=e[p]))<0?(_[s]=d,_[l]=d+=v):(_[s]=f,_[l]=f+=v)}Au.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center",GM]},{name:"as",type:"string",array:!0,length:2,default:XM}]},(0,E.XW)(Au,te,{transform(e,r){var p,v,_,y,a=e.as||XM,s=a[0],l=a[1],f=_c(e.sort),d=e.field||E.kX,h="center"===e.offset?YM:e.offset===GM?ZM:Bp;for(p=function(e,r,a,s){var d,h,p,v,_,y,C,M,w,l=[],f=A=>A(_);if(null==r)l.push(e.slice());else for(d={},h=0,p=e.length;h<p;++h)_=e[h],(C=d[y=r.map(f)])||(d[y]=C=[],l.push(C)),C.push(_);for(y=0,w=0,v=l.length;y<v;++y){for(h=0,M=0,p=(C=l[y]).length;h<p;++h)M+=Math.abs(s(C[h]));C.sum=M,M>w&&(w=M),a&&C.sort(a)}return l.max=w,l}(r.source,e.groupby,f,d),v=0,_=p.length,y=p.max;v<_;++v)h(p[v],y,d,s,l);return r.reflow(e.modified()).modifies(a)}});const gr=e=>e;function Xd(e,r){e&&KM.hasOwnProperty(e.type)&&KM[e.type](e,r)}var zI={Feature:function(e,r){Xd(e.geometry,r)},FeatureCollection:function(e,r){for(var a=e.features,s=-1,l=a.length;++s<l;)Xd(a[s].geometry,r)}},KM={Sphere:function(e,r){r.sphere()},Point:function(e,r){r.point((e=e.coordinates)[0],e[1],e[2])},MultiPoint:function(e,r){for(var a=e.coordinates,s=-1,l=a.length;++s<l;)r.point((e=a[s])[0],e[1],e[2])},LineString:function(e,r){QM(e.coordinates,r,0)},MultiLineString:function(e,r){for(var a=e.coordinates,s=-1,l=a.length;++s<l;)QM(a[s],r,0)},Polygon:function(e,r){JM(e.coordinates,r)},MultiPolygon:function(e,r){for(var a=e.coordinates,s=-1,l=a.length;++s<l;)JM(a[s],r)},GeometryCollection:function(e,r){for(var a=e.geometries,s=-1,l=a.length;++s<l;)Xd(a[s],r)}};function QM(e,r,a){var f,s=-1,l=e.length-a;for(r.lineStart();++s<l;)r.point((f=e[s])[0],f[1],f[2]);r.lineEnd()}function JM(e,r){var a=-1,s=e.length;for(r.polygonStart();++a<s;)QM(e[a],r,1);r.polygonEnd()}function ds(e,r){e&&zI.hasOwnProperty(e.type)?zI[e.type](e,r):Xd(e,r)}class ki{constructor(){this._partials=new Float64Array(32),this._n=0}add(r){const a=this._partials;let s=0;for(let l=0;l<this._n&&l<32;l++){const f=a[l],d=r+f,h=Math.abs(r)<Math.abs(f)?r-(d-f):f-(d-r);h&&(a[s++]=h),r=d}return a[s]=r,this._n=s+1,this}valueOf(){const r=this._partials;let s,l,f,a=this._n,d=0;if(a>0){for(d=r[--a];a>0&&(s=d,l=r[--a],d=s+l,f=l-(d-s),!f););a>0&&(f<0&&r[a-1]<0||f>0&&r[a-1]>0)&&(l=2*f,s=d+l,l==s-d&&(d=s))}return d}}var He=1e-6,Yd=1e-12,yt=Math.PI,Cn=yt/2,Zd=yt/4,Pr=2*yt,Nn=180/yt,pt=yt/180,Tt=Math.abs,K0=Math.atan,s1=Math.atan2,Re=Math.cos,Q0=Math.ceil,jp=Math.exp,ew=(Math,Math.hypot),Up=Math.log,tw=Math.pow,Oe=Math.sin,Mo=Math.sign||function(e){return e>0?1:e<0?-1:0},Hr=Math.sqrt,Su=Math.tan;function nw(e){return e>1?0:e<-1?yt:Math.acos(e)}function c1(e){return e>1?Cn:e<-1?-Cn:Math.asin(e)}function Bt(){}var NI,II,iw,Wp,$p=new ki,qp=new ki,va={point:Bt,lineStart:Bt,lineEnd:Bt,polygonStart:function(){va.lineStart=ci,va.lineEnd=rw},polygonEnd:function(){va.lineStart=va.lineEnd=va.point=Bt,$p.add(Tt(qp)),qp=new ki},result:function(){var e=$p/2;return $p=new ki,e}};function ci(){va.point=wq}function wq(e,r){va.point=Gp,NI=iw=e,II=Wp=r}function Gp(e,r){qp.add(Wp*e-iw*r),iw=e,Wp=r}function rw(){Gp(NI,II)}const ow=va;var hs=1/0,Kd=hs,ku=-hs,Tu=ku,Kc={point:function(e,r){e<hs&&(hs=e),e>ku&&(ku=e),r<Kd&&(Kd=r),r>Tu&&(Tu=r)},lineStart:Bt,lineEnd:Bt,polygonStart:Bt,polygonEnd:Bt,result:function(){var e=[[hs,Kd],[ku,Tu]];return ku=Tu=-(Kd=hs=1/0),e}};const J0=Kc;var cw,LI,l1,_a,zu=0,Xp=0,S2=0,Qd=0,e4=0,Qc=0,qn=0,sw=0,Nu=0,ya={point:t4,lineStart:Yp,lineEnd:lw,polygonStart:function(){ya.lineStart=VI,ya.lineEnd=uw},polygonEnd:function(){ya.point=t4,ya.lineStart=Yp,ya.lineEnd=lw},result:function(){var e=Nu?[qn/Nu,sw/Nu]:Qc?[Qd/Qc,e4/Qc]:S2?[zu/S2,Xp/S2]:[NaN,NaN];return zu=Xp=S2=Qd=e4=Qc=qn=sw=Nu=0,e}};function t4(e,r){zu+=e,Xp+=r,++S2}function Yp(){ya.point=FI}function FI(e,r){ya.point=RI,t4(l1=e,_a=r)}function RI(e,r){var a=e-l1,s=r-_a,l=Hr(a*a+s*s);Qd+=l*(l1+e)/2,e4+=l*(_a+r)/2,Qc+=l,t4(l1=e,_a=r)}function lw(){ya.point=t4}function VI(){ya.point=fw}function uw(){Zp(cw,LI)}function fw(e,r){ya.point=Zp,t4(cw=l1=e,LI=_a=r)}function Zp(e,r){var a=e-l1,s=r-_a,l=Hr(a*a+s*s);Qd+=l*(l1+e)/2,e4+=l*(_a+r)/2,Qc+=l,qn+=(l=_a*e-l1*r)*(l1+e),sw+=l*(_a+r),Nu+=3*l,t4(l1=e,_a=r)}const dw=ya;function hw(e){this._context=e}hw.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,r){switch(this._point){case 0:this._context.moveTo(e,r),this._point=1;break;case 1:this._context.lineTo(e,r);break;default:this._context.moveTo(e+this._radius,r),this._context.arc(e,r,this._radius,0,Pr)}},result:Bt};var Jc,mw,Kp,ba,Iu,Jd=new ki,eh={point:Bt,lineStart:function(){eh.point=OI},lineEnd:function(){Jc&&pw(mw,Kp),eh.point=Bt},polygonStart:function(){Jc=!0},polygonEnd:function(){Jc=null},result:function(){var e=+Jd;return Jd=new ki,e}};function OI(e,r){eh.point=pw,mw=ba=e,Kp=Iu=r}function pw(e,r){Jd.add(Hr((ba-=e)*ba+(Iu-=r)*Iu)),ba=e,Iu=r}const PI=eh;function gw(){this._string=[]}function vw(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function _w(e,r){var s,l,a=4.5;function f(d){return d&&("function"==typeof a&&l.pointRadius(+a.apply(this,arguments)),ds(d,s(l))),l.result()}return f.area=function(d){return ds(d,s(ow)),ow.result()},f.measure=function(d){return ds(d,s(PI)),PI.result()},f.bounds=function(d){return ds(d,s(J0)),J0.result()},f.centroid=function(d){return ds(d,s(dw)),dw.result()},f.projection=function(d){return arguments.length?(s=null==d?(e=null,gr):(e=d).stream,f):e},f.context=function(d){return arguments.length?(l=null==d?(r=null,new gw):new hw(r=d),"function"!=typeof a&&l.pointRadius(a),f):r},f.pointRadius=function(d){return arguments.length?(a="function"==typeof d?d:(l.pointRadius(+d),+d),f):a},f.projection(e).context(r)}function yw(){var r,e=[];return{point:function(a,s,l){r.push([a,s,l])},lineStart:function(){e.push(r=[])},lineEnd:Bt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var a=e;return e=[],r=null,a}}}function th(e,r){return Tt(e[0]-r[0])<He&&Tt(e[1]-r[1])<He}function nh(e,r,a,s){this.x=e,this.z=r,this.o=a,this.e=s,this.v=!1,this.n=this.p=null}function bw(e,r,a,s,l){var h,p,f=[],d=[];if(e.forEach(function(w){if(!((A=w.length-1)<=0)){var A,N,S=w[0],T=w[A];if(th(S,T)){if(!S[2]&&!T[2]){for(l.lineStart(),h=0;h<A;++h)l.point((S=w[h])[0],S[1]);return void l.lineEnd()}T[0]+=2*He}f.push(N=new nh(S,w,null,!0)),d.push(N.o=new nh(S,null,N,!1)),f.push(N=new nh(T,w,null,!1)),d.push(N.o=new nh(T,null,N,!0))}}),f.length){for(d.sort(r),Cw(f),Cw(d),h=0,p=d.length;h<p;++h)d[h].e=a=!a;for(var _,y,v=f[0];;){for(var C=v,M=!0;C.v;)if((C=C.n)===v)return;_=C.z,l.lineStart();do{if(C.v=C.o.v=!0,C.e){if(M)for(h=0,p=_.length;h<p;++h)l.point((y=_[h])[0],y[1]);else s(C.x,C.n.x,1,l);C=C.n}else{if(M)for(h=(_=C.p.z).length-1;h>=0;--h)l.point((y=_[h])[0],y[1]);else s(C.x,C.p.x,-1,l);C=C.p}_=(C=C.o).z,M=!M}while(!C.v);l.lineEnd()}}}function Cw(e){if(r=e.length){for(var r,l,a=0,s=e[0];++a<r;)s.n=l=e[a],l.p=s,s=l;s.n=l=e[0],l.p=s}}function el(e){return[s1(e[1],e[0]),c1(e[2])]}function Ca(e){var r=e[0],a=e[1],s=Re(a);return[s*Re(r),s*Oe(r),Oe(a)]}function Qp(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]}function xa(e,r){return[e[1]*r[2]-e[2]*r[1],e[2]*r[0]-e[0]*r[2],e[0]*r[1]-e[1]*r[0]]}function Vt(e,r){e[0]+=r[0],e[1]+=r[1],e[2]+=r[2]}function wo(e,r){return[e[0]*r,e[1]*r,e[2]*r]}function ms(e){var r=Hr(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=r,e[1]/=r,e[2]/=r}function tl(e){return Tt(e[0])<=yt?e[0]:Mo(e[0])*((Tt(e[0])+yt)%Pr-yt)}function Jp(e){return Array.from(function*(e){for(const r of e)yield*r}(e))}function xw(e,r,a,s){return function(l){var v,_,y,f=r(l),d=yw(),h=r(d),p=!1,C={point:M,lineStart:A,lineEnd:S,polygonStart:function(){C.point=T,C.lineStart=N,C.lineEnd=I,_=[],v=[]},polygonEnd:function(){C.point=M,C.lineStart=A,C.lineEnd=S,_=Jp(_);var F=function(e,r){var a=tl(r),s=r[1],l=Oe(s),f=[Oe(a),-Re(a),0],d=0,h=0,p=new ki;1===l?s=Cn+He:-1===l&&(s=-Cn-He);for(var v=0,_=e.length;v<_;++v)if(C=(y=e[v]).length)for(var y,C,M=y[C-1],w=tl(M),A=M[1]/2+Zd,S=Oe(A),T=Re(A),N=0;N<C;++N,w=F,S=P,T=V,M=I){var I=y[N],F=tl(I),O=I[1]/2+Zd,P=Oe(O),V=Re(O),G=F-w,Y=G>=0?1:-1,W=Y*G,X=W>yt,re=S*P;if(p.add(s1(re*Y*Oe(W),T*V+re*Re(W))),d+=X?G+Y*Pr:G,X^w>=a^F>=a){var ie=xa(Ca(M),Ca(I));ms(ie);var de=xa(f,ie);ms(de);var J=(X^G>=0?-1:1)*c1(de[2]);(s>J||s===J&&(ie[0]||ie[1]))&&(h+=X^G>=0?1:-1)}}return(d<-He||d<He&&p<-Yd)^1&h}(v,s);_.length?(p||(l.polygonStart(),p=!0),bw(_,Mw,F,a,l)):F&&(p||(l.polygonStart(),p=!0),l.lineStart(),a(null,null,1,l),l.lineEnd()),p&&(l.polygonEnd(),p=!1),_=v=null},sphere:function(){l.polygonStart(),l.lineStart(),a(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function M(F,O){e(F,O)&&l.point(F,O)}function w(F,O){f.point(F,O)}function A(){C.point=w,f.lineStart()}function S(){C.point=M,f.lineEnd()}function T(F,O){y.push([F,O]),h.point(F,O)}function N(){h.lineStart(),y=[]}function I(){T(y[0][0],y[0][1]),h.lineEnd();var P,G,Y,W,F=h.clean(),O=d.result(),V=O.length;if(y.pop(),v.push(y),y=null,V){if(1&F){if((G=(Y=O[0]).length-1)>0){for(p||(l.polygonStart(),p=!0),l.lineStart(),P=0;P<G;++P)l.point((W=Y[P])[0],W[1]);l.lineEnd()}return}V>1&&2&F&&O.push(O.pop().concat(O.shift())),_.push(O.filter(HI))}}return C}}function HI(e){return e.length>1}function Mw(e,r){return((e=e.x)[0]<0?e[1]-Cn-He:Cn-e[1])-((r=r.x)[0]<0?r[1]-Cn-He:Cn-r[1])}gw.prototype={_radius:4.5,_circle:vw(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,r){switch(this._point){case 0:this._string.push("M",e,",",r),this._point=1;break;case 1:this._string.push("L",e,",",r);break;default:null==this._circle&&(this._circle=vw(this._radius)),this._string.push("M",e,",",r,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};const ww=xw(function(){return!0},function(e){var l,r=NaN,a=NaN,s=NaN;return{lineStart:function(){e.lineStart(),l=1},point:function(f,d){var h=f>0?yt:-yt,p=Tt(f-r);Tt(p-yt)<He?(e.point(r,a=(a+d)/2>0?Cn:-Cn),e.point(s,a),e.lineEnd(),e.lineStart(),e.point(h,a),e.point(f,a),l=0):s!==h&&p>=yt&&(Tt(r-s)<He&&(r-=s*He),Tt(f-h)<He&&(f-=h*He),a=function(e,r,a,s){var l,f,d=Oe(e-a);return Tt(d)>He?K0((Oe(r)*(f=Re(s))*Oe(a)-Oe(s)*(l=Re(r))*Oe(e))/(l*f*d)):(r+s)/2}(r,a,f,d),e.point(s,a),e.lineEnd(),e.lineStart(),e.point(h,a),l=0),e.point(r=f,a=d),s=h},lineEnd:function(){e.lineEnd(),r=a=NaN},clean:function(){return 2-l}}},function(e,r,a,s){var l;if(null==e)s.point(-yt,l=a*Cn),s.point(0,l),s.point(yt,l),s.point(yt,0),s.point(yt,-l),s.point(0,-l),s.point(-yt,-l),s.point(-yt,0),s.point(-yt,l);else if(Tt(e[0]-r[0])>He){var f=e[0]<r[0]?yt:-yt;s.point(-f,l=a*f/2),s.point(0,l),s.point(f,l)}else s.point(r[0],r[1])},[-yt,-Cn]);function tg(e,r){(r=Ca(r))[0]-=e,ms(r);var a=nw(-r[1]);return((-r[2]<0?-a:a)+Pr-He)%Pr}function Dq(e){var r=Re(e),a=6*pt,s=r>0,l=Tt(r)>He;function d(_,y){return Re(_)*Re(y)>r}function p(_,y,C){var A=[1,0,0],S=xa(Ca(_),Ca(y)),T=Qp(S,S),N=S[0],I=T-N*N;if(!I)return!C&&_;var F=r*T/I,O=-r*N/I,P=xa(A,S),V=wo(A,F);Vt(V,wo(S,O));var Y=P,W=Qp(V,Y),X=Qp(Y,Y),re=W*W-X*(Qp(V,V)-1);if(!(re<0)){var ie=Hr(re),de=wo(Y,(-W-ie)/X);if(Vt(de,V),de=el(de),!C)return de;var $e,J=_[0],fe=y[0],ye=_[1],Se=y[1];fe<J&&($e=J,J=fe,fe=$e);var xt=fe-J,hn=Tt(xt-yt)<He;if(!hn&&Se<ye&&($e=ye,ye=Se,Se=$e),hn||xt<He?hn?ye+Se>0^de[1]<(Tt(de[0]-J)<He?ye:Se):ye<=de[1]&&de[1]<=Se:xt>yt^(J<=de[0]&&de[0]<=fe)){var wr=wo(Y,(-W+ie)/X);return Vt(wr,V),[de,el(wr)]}}}function v(_,y){var C=s?e:yt-e,M=0;return _<-C?M|=1:_>C&&(M|=2),y<-C?M|=4:y>C&&(M|=8),M}return xw(d,function(_){var y,C,M,w,A;return{lineStart:function(){w=M=!1,A=1},point:function(S,T){var I,N=[S,T],F=d(S,T),O=s?F?0:v(S,T):F?v(S+(S<0?yt:-yt),T):0;if(!y&&(w=M=F)&&_.lineStart(),F!==M&&(!(I=p(y,N))||th(y,I)||th(N,I))&&(N[2]=1),F!==M)A=0,F?(_.lineStart(),I=p(N,y),_.point(I[0],I[1])):(I=p(y,N),_.point(I[0],I[1],2),_.lineEnd()),y=I;else if(l&&y&&s^F){var P;!(O&C)&&(P=p(N,y,!0))&&(A=0,s?(_.lineStart(),_.point(P[0][0],P[0][1]),_.point(P[1][0],P[1][1]),_.lineEnd()):(_.point(P[1][0],P[1][1]),_.lineEnd(),_.lineStart(),_.point(P[0][0],P[0][1],3)))}F&&(!y||!th(y,N))&&_.point(N[0],N[1]),y=N,M=F,C=O},lineEnd:function(){M&&_.lineEnd(),y=null},clean:function(){return A|(w&&M)<<1}}},function(_,y,C,M){!function(e,r,a,s,l,f){if(a){var d=Re(r),h=Oe(r),p=s*a;null==l?(l=r+s*Pr,f=r-p/2):(l=tg(d,l),f=tg(d,f),(s>0?l<f:l>f)&&(l+=s*Pr));for(var v,_=l;s>0?_>f:_<f;_-=p)v=el([d,-h*Re(_),-h*Oe(_)]),e.point(v[0],v[1])}}(M,e,a,C,_,y)},s?[0,-e]:[-yt,e-yt])}var Lu=1e9,vr=-Lu;function pn(e,r,a,s){function l(v,_){return e<=v&&v<=a&&r<=_&&_<=s}function f(v,_,y,C){var M=0,w=0;if(null==v||(M=d(v,y))!==(w=d(_,y))||p(v,_)<0^y>0)do{C.point(0===M||3===M?e:a,M>1?s:r)}while((M=(M+y+4)%4)!==w);else C.point(_[0],_[1])}function d(v,_){return Tt(v[0]-e)<He?_>0?0:3:Tt(v[0]-a)<He?_>0?2:1:Tt(v[1]-r)<He?_>0?1:0:_>0?3:2}function h(v,_){return p(v.x,_.x)}function p(v,_){var y=d(v,1),C=d(_,1);return y!==C?y-C:0===y?_[1]-v[1]:1===y?v[0]-_[0]:2===y?v[1]-_[1]:_[0]-v[0]}return function(v){var C,M,w,A,S,T,N,I,F,O,P,_=v,y=yw(),V={point:G,lineStart:function(){V.point=de,M&&M.push(w=[]),O=!0,F=!1,N=I=NaN},lineEnd:function(){C&&(de(A,S),T&&F&&y.rejoin(),C.push(y.result())),V.point=G,F&&_.lineEnd()},polygonStart:function(){_=y,C=[],M=[],P=!0},polygonEnd:function(){var J=function(){for(var J=0,fe=0,ye=M.length;fe<ye;++fe)for(var vn,wr,Se=M[fe],$e=1,xt=Se.length,hn=Se[0],Zi=hn[0],Z1=hn[1];$e<xt;++$e)vn=Zi,wr=Z1,Zi=(hn=Se[$e])[0],Z1=hn[1],wr<=s?Z1>s&&(Zi-vn)*(s-wr)>(Z1-wr)*(e-vn)&&++J:Z1<=s&&(Zi-vn)*(s-wr)<(Z1-wr)*(e-vn)&&--J;return J}(),fe=P&&J,ye=(C=Jp(C)).length;(fe||ye)&&(v.polygonStart(),fe&&(v.lineStart(),f(null,null,1,v),v.lineEnd()),ye&&bw(C,h,J,f,v),v.polygonEnd()),_=v,C=M=w=null}};function G(J,fe){l(J,fe)&&_.point(J,fe)}function de(J,fe){var ye=l(J,fe);if(M&&w.push([J,fe]),O)A=J,S=fe,T=ye,O=!1,ye&&(_.lineStart(),_.point(J,fe));else if(ye&&F)_.point(J,fe);else{var Se=[N=Math.max(vr,Math.min(Lu,N)),I=Math.max(vr,Math.min(Lu,I))],$e=[J=Math.max(vr,Math.min(Lu,J)),fe=Math.max(vr,Math.min(Lu,fe))];!function(e,r,a,s,l,f){var w,d=e[0],h=e[1],_=0,y=1,C=r[0]-d,M=r[1]-h;if(w=a-d,C||!(w>0)){if(w/=C,C<0){if(w<_)return;w<y&&(y=w)}else if(C>0){if(w>y)return;w>_&&(_=w)}if(w=l-d,C||!(w<0)){if(w/=C,C<0){if(w>y)return;w>_&&(_=w)}else if(C>0){if(w<_)return;w<y&&(y=w)}if(w=s-h,M||!(w>0)){if(w/=M,M<0){if(w<_)return;w<y&&(y=w)}else if(M>0){if(w>y)return;w>_&&(_=w)}if(w=f-h,M||!(w<0)){if(w/=M,M<0){if(w>y)return;w>_&&(_=w)}else if(M>0){if(w<_)return;w<y&&(y=w)}return _>0&&(e[0]=d+_*C,e[1]=h+_*M),y<1&&(r[0]=d+y*C,r[1]=h+y*M),!0}}}}}(Se,$e,e,r,a,s)?ye&&(_.lineStart(),_.point(J,fe),P=!1):(F||(_.lineStart(),_.point(Se[0],Se[1])),_.point($e[0],$e[1]),ye||_.lineEnd(),P=!1)}N=J,I=fe,F=ye}return V}}function u1(e,r){function a(s,l){return s=e(s,l),r(s[0],s[1])}return e.invert&&r.invert&&(a.invert=function(s,l){return(s=r.invert(s,l))&&e.invert(s[0],s[1])}),a}function ih(e,r){return[Tt(e)>yt?e+Math.round(-e/Pr)*Pr:e,r]}function Dw(e,r,a){return(e%=Pr)?r||a?u1(rh(e),nl(r,a)):rh(e):r||a?nl(r,a):ih}function ng(e){return function(r,a){return[(r+=e)>yt?r-Pr:r<-yt?r+Pr:r,a]}}function rh(e){var r=ng(e);return r.invert=ng(-e),r}function nl(e,r){var a=Re(e),s=Oe(e),l=Re(r),f=Oe(r);function d(h,p){var v=Re(p),_=Re(h)*v,y=Oe(h)*v,C=Oe(p),M=C*a+_*s;return[s1(y*l-M*f,_*a-C*s),c1(M*l+y*f)]}return d.invert=function(h,p){var v=Re(p),_=Re(h)*v,y=Oe(h)*v,C=Oe(p),M=C*l-y*f;return[s1(y*l+C*f,_*a+M*s),c1(M*a-_*s)]},d}function Eo(e){return function(r){var a=new ig;for(var s in e)a[s]=e[s];return a.stream=r,a}}function ig(){}function oh(e,r,a){var s=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=s&&e.clipExtent(null),ds(a,e.stream(J0)),r(J0.result()),null!=s&&e.clipExtent(s),e}function n4(e,r,a){return oh(e,function(s){var l=r[1][0]-r[0][0],f=r[1][1]-r[0][1],d=Math.min(l/(s[1][0]-s[0][0]),f/(s[1][1]-s[0][1])),h=+r[0][0]+(l-d*(s[1][0]+s[0][0]))/2,p=+r[0][1]+(f-d*(s[1][1]+s[0][1]))/2;e.scale(150*d).translate([h,p])},a)}function il(e,r,a){return n4(e,[[0,0],r],a)}function Ru(e,r,a){return oh(e,function(s){var l=+r,f=l/(s[1][0]-s[0][0]),d=(l-f*(s[1][0]+s[0][0]))/2,h=-f*s[0][1];e.scale(150*f).translate([d,h])},a)}function ah(e,r,a){return oh(e,function(s){var l=+r,f=l/(s[1][1]-s[0][1]),d=-f*s[0][0],h=(l-f*(s[1][1]+s[0][1]))/2;e.scale(150*f).translate([d,h])},a)}ih.invert=ih,ig.prototype={constructor:ig,point:function(e,r){this.stream.point(e,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var UI=Re(30*pt);function Vu(e,r){return+r?function(e,r){function a(s,l,f,d,h,p,v,_,y,C,M,w,A,S){var T=v-s,N=_-l,I=T*T+N*N;if(I>4*r&&A--){var F=d+C,O=h+M,P=p+w,V=Hr(F*F+O*O+P*P),G=c1(P/=V),Y=Tt(Tt(P)-1)<He||Tt(f-y)<He?(f+y)/2:s1(O,F),W=e(Y,G),X=W[0],re=W[1],ie=X-s,de=re-l,J=N*ie-T*de;(J*J/I>r||Tt((T*ie+N*de)/I-.5)>.3||d*C+h*M+p*w<UI)&&(a(s,l,f,d,h,p,X,re,Y,F/=V,O/=V,P,A,S),S.point(X,re),a(X,re,Y,F,O,P,v,_,y,C,M,w,A,S))}}return function(s){var l,f,d,h,p,v,_,y,C,M,w,A,S={point:T,lineStart:N,lineEnd:F,polygonStart:function(){s.polygonStart(),S.lineStart=O},polygonEnd:function(){s.polygonEnd(),S.lineStart=N}};function T(G,Y){G=e(G,Y),s.point(G[0],G[1])}function N(){y=NaN,S.point=I,s.lineStart()}function I(G,Y){var W=Ca([G,Y]),X=e(G,Y);a(y,C,_,M,w,A,y=X[0],C=X[1],_=G,M=W[0],w=W[1],A=W[2],16,s),s.point(y,C)}function F(){S.point=T,s.lineEnd()}function O(){N(),S.point=P,S.lineEnd=V}function P(G,Y){I(l=G,Y),f=y,d=C,h=M,p=w,v=A,S.point=I}function V(){a(y,C,_,M,w,A,f,d,l,h,p,v,16,s),S.lineEnd=F,F()}return S}}(e,r):function(e){return Eo({point:function(r,a){r=e(r,a),this.stream.point(r[0],r[1])}})}(e)}var kw=Eo({point:function(e,r){this.stream.point(e*pt,r*pt)}});function ch(e,r,a,s,l,f){if(!f)return function(e,r,a,s,l){function f(d,h){return[r+e*(d*=s),a-e*(h*=l)]}return f.invert=function(d,h){return[(d-r)/e*s,(a-h)/e*l]},f}(e,r,a,s,l);var d=Re(f),h=Oe(f),p=d*e,v=h*e,_=d/e,y=h/e,C=(h*a-d*r)/e,M=(h*r+d*a)/e;function w(A,S){return[p*(A*=s)-v*(S*=l)+r,a-v*A-p*S]}return w.invert=function(A,S){return[s*(_*A-y*S+C),l*(M-y*A-_*S)]},w}function j1(e){return qI(function(){return e})()}function qI(e){var r,_,T,N,I,P,V,G,Y,W,a=150,s=480,l=250,f=0,d=0,h=0,p=0,v=0,y=0,C=1,M=1,w=null,A=ww,S=null,F=gr,O=.5;function X(J){return G(J[0]*pt,J[1]*pt)}function re(J){return(J=G.invert(J[0],J[1]))&&[J[0]*Nn,J[1]*Nn]}function ie(){var J=ch(a,0,0,C,M,y).apply(null,r(f,d)),fe=ch(a,s-J[0],l-J[1],C,M,y);return _=Dw(h,p,v),V=u1(r,fe),G=u1(_,V),P=Vu(V,O),de()}function de(){return Y=W=null,X}return X.stream=function(J){return Y&&W===J?Y:Y=kw(function(e){return Eo({point:function(r,a){var s=e(r,a);return this.stream.point(s[0],s[1])}})}(_)(A(P(F(W=J)))))},X.preclip=function(J){return arguments.length?(A=J,w=void 0,de()):A},X.postclip=function(J){return arguments.length?(F=J,S=T=N=I=null,de()):F},X.clipAngle=function(J){return arguments.length?(A=+J?Dq(w=J*pt):(w=null,ww),de()):w*Nn},X.clipExtent=function(J){return arguments.length?(F=null==J?(S=T=N=I=null,gr):pn(S=+J[0][0],T=+J[0][1],N=+J[1][0],I=+J[1][1]),de()):null==S?null:[[S,T],[N,I]]},X.scale=function(J){return arguments.length?(a=+J,ie()):a},X.translate=function(J){return arguments.length?(s=+J[0],l=+J[1],ie()):[s,l]},X.center=function(J){return arguments.length?(f=J[0]%360*pt,d=J[1]%360*pt,ie()):[f*Nn,d*Nn]},X.rotate=function(J){return arguments.length?(h=J[0]%360*pt,p=J[1]%360*pt,v=J.length>2?J[2]%360*pt:0,ie()):[h*Nn,p*Nn,v*Nn]},X.angle=function(J){return arguments.length?(y=J%360*pt,ie()):y*Nn},X.reflectX=function(J){return arguments.length?(C=J?-1:1,ie()):C<0},X.reflectY=function(J){return arguments.length?(M=J?-1:1,ie()):M<0},X.precision=function(J){return arguments.length?(P=Vu(V,O=J*J),de()):Hr(O)},X.fitExtent=function(J,fe){return n4(X,J,fe)},X.fitSize=function(J,fe){return il(X,J,fe)},X.fitWidth=function(J,fe){return Ru(X,J,fe)},X.fitHeight=function(J,fe){return ah(X,J,fe)},function(){return r=e.apply(this,arguments),X.invert=r.invert&&re,ie()}}function Tw(e){var r=0,a=yt/3,s=qI(e),l=s(r,a);return l.parallels=function(f){return arguments.length?s(r=f[0]*pt,a=f[1]*pt):[r*Nn,a*Nn]},l}function Sq(e,r){var a=Oe(e),s=(a+Oe(r))/2;if(Tt(s)<He)return function(e){var r=Re(e);function a(s,l){return[s*r,Oe(l)/r]}return a.invert=function(s,l){return[s/r,c1(l*r)]},a}(e);var l=1+a*(2*s-a),f=Hr(l)/s;function d(h,p){var v=Hr(l-2*s*Oe(p))/s;return[v*Oe(h*=s),f-v*Re(h)]}return d.invert=function(h,p){var v=f-p,_=s1(h,Tt(v))*Mo(v);return v*s<0&&(_-=yt*Mo(h)*Mo(v)),[_/s,c1((l-(h*h+v*v)*s*s)/(2*s))]},d}function rg(){return Tw(Sq).scale(155.424).center([0,33.6442])}function WI(){return rg().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function zw(e){return function(r,a){var s=Re(r),l=Re(a),f=e(s*l);return f===1/0?[2,0]:[f*l*Oe(r),f*Oe(a)]}}function Ou(e){return function(r,a){var s=Hr(r*r+a*a),l=e(s),f=Oe(l),d=Re(l);return[s1(r*f,s*d),c1(s&&a*f/s)]}}var Nw=zw(function(e){return Hr(2/(1+e))});Nw.invert=Ou(function(e){return 2*c1(e/2)});var Iw=zw(function(e){return(e=nw(e))&&e/Oe(e)});function lh(e,r){return[e,Up(Su((Cn+r)/2))]}function i4(e){var h,p,v,r=j1(e),a=r.center,s=r.scale,l=r.translate,f=r.clipExtent,d=null;function _(){var y=yt*s(),C=r(function(e){function r(a){return(a=e(a[0]*pt,a[1]*pt))[0]*=Nn,a[1]*=Nn,a}return e=Dw(e[0]*pt,e[1]*pt,e.length>2?e[2]*pt:0),r.invert=function(a){return(a=e.invert(a[0]*pt,a[1]*pt))[0]*=Nn,a[1]*=Nn,a},r}(r.rotate()).invert([0,0]));return f(null==d?[[C[0]-y,C[1]-y],[C[0]+y,C[1]+y]]:e===lh?[[Math.max(C[0]-y,d),h],[Math.min(C[0]+y,p),v]]:[[d,Math.max(C[1]-y,h)],[p,Math.min(C[1]+y,v)]])}return r.scale=function(y){return arguments.length?(s(y),_()):s()},r.translate=function(y){return arguments.length?(l(y),_()):l()},r.center=function(y){return arguments.length?(a(y),_()):a()},r.clipExtent=function(y){return arguments.length?(null==y?d=h=p=v=null:(d=+y[0][0],h=+y[0][1],p=+y[1][0],v=+y[1][1]),_()):null==d?null:[[d,h],[p,v]]},_()}function uh(e){return Su((Cn+e)/2)}function KI(e,r){var a=Re(e),s=e===r?Oe(e):Up(a/Re(r))/Up(uh(r)/uh(e)),l=a*tw(uh(e),s)/s;if(!s)return lh;function f(d,h){l>0?h<-Cn+He&&(h=-Cn+He):h>Cn-He&&(h=Cn-He);var p=l/tw(uh(h),s);return[p*Oe(s*d),l-p*Re(s*d)]}return f.invert=function(d,h){var p=l-h,v=Mo(s)*Hr(d*d+p*p),_=s1(d,Tt(p))*Mo(p);return p*s<0&&(_-=yt*Mo(d)*Mo(p)),[_/s,2*K0(tw(l/v,1/s))-Cn]},f}function og(e,r){return[e,r]}function JI(e,r){var a=Re(e),s=e===r?Oe(e):(a-Re(r))/(r-e),l=a/s+e;if(Tt(s)<He)return og;function f(d,h){var p=l-h,v=s*d;return[p*Oe(v),l-p*Re(v)]}return f.invert=function(d,h){var p=l-h,v=s1(d,Tt(p))*Mo(p);return p*s<0&&(v-=yt*Mo(d)*Mo(p)),[v/s,l-Mo(s)*Hr(d*d+p*p)]},f}Iw.invert=Ou(function(e){return e}),lh.invert=function(e,r){return[e,2*K0(jp(r))-Cn]},og.invert=og;var Pu=1.340264,Hu=-.081106,ol=893e-6,Bu=.003796,fh=Hr(3)/2;function Lw(e,r){var a=c1(fh*Oe(r)),s=a*a,l=s*s*s;return[e*Re(a)/(fh*(Pu+3*Hu*s+l*(7*ol+9*Bu*s))),a*(Pu+Hu*s+l*(ol+Bu*s))]}function Fw(e,r){var a=Re(r),s=Re(e)*a;return[a*Oe(e)/s,Oe(r)/s]}function Rw(e,r){var a=r*r,s=a*a;return[e*(.8707-.131979*a+s*(s*(.003971*a-.001529*s)-.013791)),r*(1.007226+a*(.015085+s*(.028874*a-.044475-.005916*s)))]}function dh(e,r){return[Re(r)*Oe(e),Oe(r)]}function rL(e,r){var a=Re(r),s=1+Re(e)*a;return[a*Oe(e)/s,Oe(r)/s]}function Ow(e,r){return[Up(Su((Cn+r)/2)),-e]}Lw.invert=function(e,r){for(var d,a=r,s=a*a,l=s*s*s,f=0;f<12&&(l=(s=(a-=d=(a*(Pu+Hu*s+l*(ol+Bu*s))-r)/(Pu+3*Hu*s+l*(7*ol+9*Bu*s)))*a)*s*s,!(Tt(d)<Yd));++f);return[fh*e*(Pu+3*Hu*s+l*(7*ol+9*Bu*s))/Re(a),c1(Oe(a)/fh)]},Fw.invert=Ou(K0),Rw.invert=function(e,r){var l,a=r,s=25;do{var f=a*a,d=f*f;a-=l=(a*(1.007226+f*(.015085+d*(.028874*f-.044475-.005916*d)))-r)/(1.007226+f*(.045255+d*(.259866*f-.311325-.005916*11*d)))}while(Tt(l)>He&&--s>0);return[e/(.8707+(f=a*a)*(f*(f*f*f*(.003971-.001529*f)-.013791)-.131979)),a]},dh.invert=Ou(c1),rL.invert=Ou(function(e){return 2*K0(e)}),Ow.invert=function(e,r){return[-r,2*K0(jp(e))-Cn]};var sL=Math.abs,sg=(Math,Math,Math,Math.cos),mh=(Math,Math,Math,Math,Math,Math,Math,Math,Math.sin),T2=(Math,Math.PI),Hw=T2/2,ph=(Math,o4(2));function Bw(e){return e>1?Hw:e<-1?-Hw:Math.asin(e)}function o4(e){return e>0?Math.sqrt(e):0}function dL(e,r){var l,a=e*mh(r),s=30;do{r-=l=(r+mh(r)-a)/(1+sg(r))}while(sL(l)>1e-6&&--s>0);return r/2}o4(T2);var Uq=function(e,r,a){function s(l,f){return[e*l*sg(f=dL(a,f)),r*mh(f)]}return s.invert=function(l,f){return f=Bw(f/r),[l/(e*sg(f)),Bw((2*f+mh(2*f))/a)]},s}(ph/Hw,ph,T2);const mL=_w(),cg=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function Uu(e,r){return function a(){const s=r();return s.type=e,s.path=_w().projection(s),s.copy=s.copy||function(){const l=a();return cg.forEach(f=>{s[f]&&l[f](s[f]())}),l.path.pointRadius(s.path.pointRadius()),l},s}}function lg(e,r){if(!e||"string"!=typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(gh[e]=Uu(e,r),this):gh[e]||null}function pL(e){return e&&e.path||mL}const gh={albers:WI,albersusa:function(){var e,r,s,f,h,p,a=WI(),l=rg().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=rg().rotate([157,0]).center([-3,19.9]).parallels([8,18]),v={point:function(C,M){p=[C,M]}};function _(C){var M=C[0],w=C[1];return p=null,s.point(M,w),p||(f.point(M,w),p)||(h.point(M,w),p)}function y(){return e=r=null,_}return _.invert=function(C){var M=a.scale(),w=a.translate(),A=(C[0]-w[0])/M,S=(C[1]-w[1])/M;return(S>=.12&&S<.234&&A>=-.425&&A<-.214?l:S>=.166&&S<.234&&A>=-.214&&A<-.115?d:a).invert(C)},_.stream=function(C){return e&&r===C?e:e=function(e){var r=e.length;return{point:function(a,s){for(var l=-1;++l<r;)e[l].point(a,s)},sphere:function(){for(var a=-1;++a<r;)e[a].sphere()},lineStart:function(){for(var a=-1;++a<r;)e[a].lineStart()},lineEnd:function(){for(var a=-1;++a<r;)e[a].lineEnd()},polygonStart:function(){for(var a=-1;++a<r;)e[a].polygonStart()},polygonEnd:function(){for(var a=-1;++a<r;)e[a].polygonEnd()}}}([a.stream(r=C),l.stream(C),d.stream(C)])},_.precision=function(C){return arguments.length?(a.precision(C),l.precision(C),d.precision(C),y()):a.precision()},_.scale=function(C){return arguments.length?(a.scale(C),l.scale(.35*C),d.scale(C),_.translate(a.translate())):a.scale()},_.translate=function(C){if(!arguments.length)return a.translate();var M=a.scale(),w=+C[0],A=+C[1];return s=a.translate(C).clipExtent([[w-.455*M,A-.238*M],[w+.455*M,A+.238*M]]).stream(v),f=l.translate([w-.307*M,A+.201*M]).clipExtent([[w-.425*M+He,A+.12*M+He],[w-.214*M-He,A+.234*M-He]]).stream(v),h=d.translate([w-.205*M,A+.212*M]).clipExtent([[w-.214*M+He,A+.166*M+He],[w-.115*M-He,A+.234*M-He]]).stream(v),y()},_.fitExtent=function(C,M){return n4(_,C,M)},_.fitSize=function(C,M){return il(_,C,M)},_.fitWidth=function(C,M){return Ru(_,C,M)},_.fitHeight=function(C,M){return ah(_,C,M)},_.scale(1070)},azimuthalequalarea:function(){return j1(Nw).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return j1(Iw).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return Tw(KI).scale(109.5).parallels([30,30])},conicequalarea:rg,conicequidistant:function(){return Tw(JI).scale(131.154).center([0,13.9389])},equalEarth:function(){return j1(Lw).scale(177.158)},equirectangular:function(){return j1(og).scale(152.63)},gnomonic:function(){return j1(Fw).scale(144.049).clipAngle(60)},identity:function(){var d,h,v,_,y,S,T,e=1,r=0,a=0,s=1,l=1,f=0,p=null,C=1,M=1,w=Eo({point:function(F,O){var P=I([F,O]);this.stream.point(P[0],P[1])}}),A=gr;function N(){return C=e*s,M=e*l,S=T=null,I}function I(F){var O=F[0]*C,P=F[1]*M;if(f){var V=P*d-O*h;O=O*d+P*h,P=V}return[O+r,P+a]}return I.invert=function(F){var O=F[0]-r,P=F[1]-a;if(f){var V=P*d+O*h;O=O*d-P*h,P=V}return[O/C,P/M]},I.stream=function(F){return S&&T===F?S:S=w(A(T=F))},I.postclip=function(F){return arguments.length?(A=F,p=v=_=y=null,N()):A},I.clipExtent=function(F){return arguments.length?(A=null==F?(p=v=_=y=null,gr):pn(p=+F[0][0],v=+F[0][1],_=+F[1][0],y=+F[1][1]),N()):null==p?null:[[p,v],[_,y]]},I.scale=function(F){return arguments.length?(e=+F,N()):e},I.translate=function(F){return arguments.length?(r=+F[0],a=+F[1],N()):[r,a]},I.angle=function(F){return arguments.length?(h=Oe(f=F%360*pt),d=Re(f),N()):f*Nn},I.reflectX=function(F){return arguments.length?(s=F?-1:1,N()):s<0},I.reflectY=function(F){return arguments.length?(l=F?-1:1,N()):l<0},I.fitExtent=function(F,O){return n4(I,F,O)},I.fitSize=function(F,O){return il(I,F,O)},I.fitWidth=function(F,O){return Ru(I,F,O)},I.fitHeight=function(F,O){return ah(I,F,O)},I},mercator:function(){return i4(lh).scale(961/Pr)},mollweide:function(){return j1(Uq).scale(169.529)},naturalEarth1:function(){return j1(Rw).scale(175.295)},orthographic:function(){return j1(dh).scale(249.5).clipAngle(90+He)},stereographic:function(){return j1(rL).scale(250).clipAngle(142)},transversemercator:function(){var e=i4(Ow),r=e.center,a=e.rotate;return e.center=function(s){return arguments.length?r([-s[1],s[0]]):[(s=r())[1],-s[0]]},e.rotate=function(s){return arguments.length?a([s[0],s[1],s.length>2?s[2]+90:90]):[(s=a())[0],s[1],s[2]-90]},a([0,0,90]).scale(159.155)}};for(const e in gh)lg(e,gh[e]);function gL(e,r,a){var s=ur(e,r-He,a).concat(r);return function(l){return s.map(function(f){return[l,f]})}}function vL(e,r,a){var s=ur(e,r-He,a).concat(r);return function(l){return s.map(function(f){return[f,l]})}}function yL(){}const ps=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function qw(){var e=1,r=1,a=h;function s(p,v){return v.map(_=>l(p,_))}function l(p,v){var _=[],y=[];return function(p,v,_){var M,w,S,T,N,y=new Array,C=new Array;for(M=w=-1,ps[(S=p[0]>=v)<<1].forEach(I);++M<e-1;)ps[S|(S=p[M+1]>=v)<<1].forEach(I);for(ps[S<<0].forEach(I);++w<r-1;){for(M=-1,ps[(S=p[w*e+e]>=v)<<1|(T=p[w*e]>=v)<<2].forEach(I);++M<e-1;)N=T,ps[S|(S=p[w*e+e+M+1]>=v)<<1|(T=p[w*e+M+1]>=v)<<2|N<<3].forEach(I);ps[S|T<<3].forEach(I)}for(M=-1,ps[(T=p[w*e]>=v)<<2].forEach(I);++M<e-1;)N=T,ps[(T=p[w*e+M+1]>=v)<<2|N<<3].forEach(I);function I(F){var Y,W,O=[F[0][0]+M,F[0][1]+w],P=[F[1][0]+M,F[1][1]+w],V=d(O),G=d(P);(Y=C[V])?(W=y[G])?(delete C[Y.end],delete y[W.start],Y===W?(Y.ring.push(P),_(Y.ring)):y[Y.start]=C[W.end]={start:Y.start,end:W.end,ring:Y.ring.concat(W.ring)}):(delete C[Y.end],Y.ring.push(P),C[Y.end=G]=Y):(Y=y[G])?(W=C[V])?(delete y[Y.start],delete C[W.end],Y===W?(Y.ring.push(P),_(Y.ring)):y[W.start]=C[Y.end]={start:W.start,end:Y.end,ring:W.ring.concat(Y.ring)}):(delete y[Y.start],Y.ring.unshift(O),y[Y.start=V]=Y):y[V]=C[G]={start:V,end:G,ring:[O,P]}}ps[T<<3].forEach(I)}(p,v,C=>{a(C,p,v),function(e){for(var r=0,a=e.length,s=e[a-1][1]*e[0][0]-e[a-1][0]*e[0][1];++r<a;)s+=e[r-1][1]*e[r][0]-e[r-1][0]*e[r][1];return s}(C)>0?_.push([C]):y.push(C)}),y.forEach(C=>{for(var A,M=0,w=_.length;M<w;++M)if(-1!==bL((A=_[M])[0],C))return void A.push(C)}),{type:"MultiPolygon",value:v,coordinates:_}}function d(p){return 2*p[0]+p[1]*(e+1)*4}function h(p,v,_){p.forEach(y=>{var S,C=y[0],M=y[1],w=0|C,A=0|M,T=v[A*e+w];C>0&&C<e&&w===C&&(y[0]=C+(_-(S=v[A*e+w-1]))/(T-S)-.5),M>0&&M<r&&A===M&&(y[1]=M+(_-(S=v[(A-1)*e+w]))/(T-S)-.5)})}return s.contour=l,s.size=function(p){if(!arguments.length)return[e,r];var v=Math.floor(p[0]),_=Math.floor(p[1]);return v>=0&&_>=0||(0,E.vU)("invalid size"),e=v,r=_,s},s.smooth=function(p){return arguments.length?(a=p?h:yL,s):a===h},s}function bL(e,r){for(var l,a=-1,s=r.length;++a<s;)if(l=CL(e,r[a]))return l;return 0}function CL(e,r){for(var a=r[0],s=r[1],l=-1,f=0,d=e.length,h=d-1;f<d;h=f++){var p=e[f],v=p[0],_=p[1],y=e[h],C=y[0],M=y[1];if(xL(p,y,r))return 0;_>s!=M>s&&a<(C-v)*(s-_)/(M-_)+v&&(l=-l)}return l}function xL(e,r,a){var s;return function(e,r,a){return(r[0]-e[0])*(a[1]-e[1])==(a[0]-e[0])*(r[1]-e[1])}(e,r,a)&&function(e,r,a){return e<=r&&r<=a||a<=r&&r<=e}(e[s=+(e[0]===r[0])],a[s],r[s])}function ug(e,r,a){return function(s){var l=(0,E.We)(s),f=a?Math.min(l[0],0):l[0],d=l[1],h=d-f,p=r?Fa(f,d,e):h/(e+1);return ur(f+p,d,p)}}function fg(e){te.call(this,null,e)}function dg(e,r,a,s,l){const f=e.x1||0,d=e.y1||0,h=r*a<0;function p(y){y.forEach(v)}function v(y){h&&y.reverse(),y.forEach(_)}function _(y){y[0]=(y[0]-f)*r+s,y[1]=(y[1]-d)*a+l}return function(y){return y.coordinates.forEach(p),y}}function vh(e,r,a){const s=e>=0?e:Qy(r,a);return Math.round((Math.sqrt(4*s*s+1)-1)/2)}function $u(e){return(0,E.mf)(e)?e:(0,E.a9)(+e)}function _h(){var e=p=>p[0],r=p=>p[1],a=E.kX,s=[-1,-1],l=960,f=500,d=2;function h(p,v){const _=vh(s[0],p,e)>>d,y=vh(s[1],p,r)>>d,C=_?_+2:0,M=y?y+2:0,w=2*C+(l>>d),A=2*M+(f>>d),S=new Float32Array(w*A),T=new Float32Array(w*A);let N=S;p.forEach(F=>{const O=C+(+e(F)>>d),P=M+(+r(F)>>d);O>=0&&O<w&&P>=0&&P<A&&(S[O+P*w]+=+a(F))}),_>0&&y>0?(gs(w,A,S,T,_),vs(w,A,T,S,y),gs(w,A,S,T,_),vs(w,A,T,S,y),gs(w,A,S,T,_),vs(w,A,T,S,y)):_>0?(gs(w,A,S,T,_),gs(w,A,T,S,_),gs(w,A,S,T,_),N=T):y>0&&(vs(w,A,S,T,y),vs(w,A,T,S,y),vs(w,A,S,T,y),N=T);const I=v?Math.pow(2,-2*d):1/OM(N);for(let F=0,O=w*A;F<O;++F)N[F]*=I;return{values:N,scale:1<<d,width:w,height:A,x1:C,y1:M,x2:C+(l>>d),y2:M+(f>>d)}}return h.x=function(p){return arguments.length?(e=$u(p),h):e},h.y=function(p){return arguments.length?(r=$u(p),h):r},h.weight=function(p){return arguments.length?(a=$u(p),h):a},h.size=function(p){if(!arguments.length)return[l,f];var v=+p[0],_=+p[1];return v>=0&&_>=0||(0,E.vU)("invalid size"),l=v,f=_,h},h.cellSize=function(p){return arguments.length?((p=+p)>=1||(0,E.vU)("invalid cell size"),d=Math.floor(Math.log(p)/Math.LN2),h):1<<d},h.bandwidth=function(p){return arguments.length?(1===(p=(0,E.IX)(p)).length&&(p=[+p[0],+p[0]]),2!==p.length&&(0,E.vU)("invalid bandwidth"),s=p,h):s},h}function gs(e,r,a,s,l){const f=1+(l<<1);for(let d=0;d<r;++d)for(let h=0,p=0;h<e+l;++h)h<e&&(p+=a[h+d*e]),h>=l&&(h>=f&&(p-=a[h-f+d*e]),s[h-l+d*e]=p/Math.min(h+1,e-1+f-h,f))}function vs(e,r,a,s,l){const f=1+(l<<1);for(let d=0;d<e;++d)for(let h=0,p=0;h<r+l;++h)h<r&&(p+=a[d+h*e]),h>=l&&(h>=f&&(p-=a[d+(h-f)*e]),s[d+(h-l)*e]=p/Math.min(h+1,r-1+f-h,f))}function yh(e){te.call(this,null,e)}fg.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},(0,E.XW)(fg,te,{transform(e,r){if(this.value&&!r.changed()&&!e.modified())return r.StopPropagation;var a=r.fork(r.NO_SOURCE|r.NO_FIELDS),s=r.materialize(r.SOURCE).source,l=e.field||E.yR,f=qw().smooth(!1!==e.smooth),d=e.thresholds||function(e,r,a){const s=ug(a.levels||10,a.nice,!1!==a.zero);return"shared"!==a.resolve?s:s(e.map(l=>Xs(r(l).values)))}(s,l,e),h=null===e.as?null:e.as||"contour",p=[];return s.forEach(v=>{const _=l(v),y=f.size([_.width,_.height])(_.values,(0,E.kJ)(d)?d:d(_.values));(function(e,r,a,s){let l=s.scale||r.scale,f=s.translate||r.translate;if((0,E.mf)(l)&&(l=l(a,s)),(0,E.mf)(f)&&(f=f(a,s)),(1===l||null==l)&&!f)return;const d=((0,E.hj)(l)?l:l[0])||1,h=((0,E.hj)(l)?l:l[1])||1;e.forEach(dg(r,d,h,f&&f[0]||0,f&&f[1]||0))})(y,_,v,e),y.forEach(C=>{p.push(Jl(v,$t(null!=h?{[h]:C}:C)))})}),this.value&&(a.rem=this.value),this.value=a.source=a.add=p,a}}),yh.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const Xw=["x","y","weight","size","cellSize","bandwidth"];function Yw(e,r){return Xw.forEach(a=>null!=r[a]?e[a](r[a]):0),e}function bh(e){te.call(this,null,e)}(0,E.XW)(yh,te,{transform(e,r){if(this.value&&!r.changed()&&!e.modified())return r.StopPropagation;var p,a=r.fork(r.NO_SOURCE|r.NO_FIELDS),l=function(e,r){var l,f,d,h,p,v,a=[],s=_=>_(h);if(null==r)a.push(e);else for(l={},f=0,d=e.length;f<d;++f)h=e[f],(v=l[p=r.map(s)])||(l[p]=v=[],v.dims=p,a.push(v)),v.push(h);return a}(r.materialize(r.SOURCE).source,e.groupby),f=(e.groupby||[]).map(E.el),d=Yw(_h(),e),h=e.as||"grid";return p=l.map(_=>$t(function(_,y){for(let C=0;C<f.length;++C)_[f[C]]=y[C];return _}({[h]:d(_,e.counts)},_.dims))),this.value&&(a.rem=this.value),this.value=a.source=a.add=p,a}}),bh.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},(0,E.XW)(bh,te,{transform(e,r){if(this.value&&!r.changed()&&!e.modified())return r.StopPropagation;var h,p,a=r.fork(r.NO_SOURCE|r.NO_FIELDS),s=qw().smooth(!1!==e.smooth),l=e.values,f=e.thresholds||ug(e.count||10,e.nice,!!l),d=e.size;return l||(l=r.materialize(r.SOURCE).source,p=dg(h=Yw(_h(),e)(l,!0),h.scale||1,h.scale||1,0,0),d=[h.width,h.height],l=h.values),f=(0,E.kJ)(f)?f:f(l),l=s.size(d)(l,f),p&&l.forEach(p),this.value&&(a.rem=this.value),this.value=a.source=a.add=(l||[]).map($t),a}});const hg="Feature",mg="FeatureCollection";function qu(e){te.call(this,null,e)}function pg(e){te.call(this,null,e)}function al(e){te.call(this,null,e)}function a4(e){te.call(this,null,e)}function s4(e){te.call(this,[],e),this.generator=function(){var e,r,a,s,l,f,d,h,C,M,w,A,p=10,v=p,_=90,y=360,S=2.5;function T(){return{type:"MultiLineString",coordinates:N()}}function N(){return ur(Q0(s/_)*_,a,_).map(w).concat(ur(Q0(h/y)*y,d,y).map(A)).concat(ur(Q0(r/p)*p,e,p).filter(function(I){return Tt(I%_)>He}).map(C)).concat(ur(Q0(f/v)*v,l,v).filter(function(I){return Tt(I%y)>He}).map(M))}return T.lines=function(){return N().map(function(I){return{type:"LineString",coordinates:I}})},T.outline=function(){return{type:"Polygon",coordinates:[w(s).concat(A(d).slice(1),w(a).reverse().slice(1),A(h).reverse().slice(1))]}},T.extent=function(I){return arguments.length?T.extentMajor(I).extentMinor(I):T.extentMinor()},T.extentMajor=function(I){return arguments.length?(h=+I[0][1],d=+I[1][1],(s=+I[0][0])>(a=+I[1][0])&&(I=s,s=a,a=I),h>d&&(I=h,h=d,d=I),T.precision(S)):[[s,h],[a,d]]},T.extentMinor=function(I){return arguments.length?(f=+I[0][1],l=+I[1][1],(r=+I[0][0])>(e=+I[1][0])&&(I=r,r=e,e=I),f>l&&(I=f,f=l,l=I),T.precision(S)):[[r,f],[e,l]]},T.step=function(I){return arguments.length?T.stepMajor(I).stepMinor(I):T.stepMinor()},T.stepMajor=function(I){return arguments.length?(_=+I[0],y=+I[1],T):[_,y]},T.stepMinor=function(I){return arguments.length?(p=+I[0],v=+I[1],T):[p,v]},T.precision=function(I){return arguments.length?(S=+I,C=gL(f,l,90),M=vL(r,e,S),w=gL(h,d,90),A=vL(s,a,S),T):S},T.extentMajor([[-180,-90+He],[180,90-He]]).extentMinor([[-180,-80-He],[180,80+He]])}()}function Wu(e){te.call(this,null,e)}function Qw(e){if(!(0,E.mf)(e))return!1;const r=(0,E.Rg)((0,E.Oj)(e));return r.$x||r.$y||r.$value||r.$max}function Jw(e){te.call(this,null,e),this.modified(!0)}function tE(e,r,a){(0,E.mf)(e[r])&&e[r](a)}function xh(e,r,a,s){if(isNaN(r)||isNaN(a))return e;var l,y,C,M,w,A,S,T,N,f=e._root,d={data:s},h=e._x0,p=e._y0,v=e._x1,_=e._y1;if(!f)return e._root=d,e;for(;f.length;)if((A=r>=(y=(h+v)/2))?h=y:v=y,(S=a>=(C=(p+_)/2))?p=C:_=C,l=f,!(f=f[T=S<<1|A]))return l[T]=d,e;if(M=+e._x.call(null,f.data),w=+e._y.call(null,f.data),r===M&&a===w)return d.next=f,l?l[T]=d:e._root=d,e;do{l=l?l[T]=new Array(4):e._root=new Array(4),(A=r>=(y=(h+v)/2))?h=y:v=y,(S=a>=(C=(p+_)/2))?p=C:_=C}while((T=S<<1|A)==(N=(w>=C)<<1|M>=y));return l[N]=f,l[T]=d,e}function br(e,r,a,s,l){this.node=e,this.x0=r,this.y0=a,this.x1=s,this.y1=l}function c4(e){return e[0]}function l4(e){return e[1]}function vg(e,r,a){var s=new _g(null==r?c4:r,null==a?l4:a,NaN,NaN,NaN,NaN);return null==e?s:s.addAll(e)}function _g(e,r,a,s,l,f){this._x=e,this._y=r,this._x0=a,this._y0=s,this._x1=l,this._y1=f,this._root=void 0}function yg(e){for(var r={data:e.data},a=r;e=e.next;)a=a.next={data:e.data};return r}qu.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},(0,E.XW)(qu,te,{transform(e,r){var v,a=this._features,s=this._points,l=e.fields,f=l&&l[0],d=l&&l[1],h=e.geojson||!l&&E.yR,p=r.ADD;v=e.modified()||r.changed(r.REM)||r.modified((0,E.Oj)(h))||f&&r.modified((0,E.Oj)(f))||d&&r.modified((0,E.Oj)(d)),(!this.value||v)&&(p=r.SOURCE,this._features=a=[],this._points=s=[]),h&&r.visit(p,_=>a.push(h(_))),f&&d&&(r.visit(p,_=>{var y=f(_),C=d(_);null!=y&&null!=C&&(y=+y)===y&&(C=+C)===C&&s.push([y,C])}),a=a.concat({type:hg,geometry:{type:"MultiPoint",coordinates:s}})),this.value={type:mg,features:a}}}),pg.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},(0,E.XW)(pg,te,{transform(e,r){var a=r.fork(r.ALL),s=this.value,l=e.field||E.yR,f=e.as||"path",d=a.SOURCE;!s||e.modified()?(this.value=s=pL(e.projection),a.materialize().reflow()):d=l===E.yR||r.modified(l.fields)?a.ADD_MOD:a.ADD;const h=function(e,r){const a=e.pointRadius();return e.context(null),null!=r&&e.pointRadius(r),a}(s,e.pointRadius);return a.visit(d,p=>p[f]=s(l(p))),s.pointRadius(h),a.modifies(f)}}),al.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},(0,E.XW)(al,te,{transform(e,r){var p,a=e.projection,s=e.fields[0],l=e.fields[1],f=e.as||["x","y"],d=f[0],h=f[1];function v(_){const y=a([s(_),l(_)]);y?(_[d]=y[0],_[h]=y[1]):(_[d]=void 0,_[h]=void 0)}return e.modified()?r=r.materialize().reflow(!0).visit(r.SOURCE,v):(p=r.modified(s.fields)||r.modified(l.fields),r.visit(p?r.ADD_MOD:r.ADD,v)),r.modifies(f)}}),a4.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},(0,E.XW)(a4,te,{transform(e,r){var a=r.fork(r.ALL),s=this.value,l=e.as||"shape",f=a.ADD;return(!s||e.modified())&&(this.value=s=function(e,r,a){const s=null==a?l=>e(r(l)):l=>{var f=e.pointRadius(),d=e.pointRadius(a)(r(l));return e.pointRadius(f),d};return s.context=l=>(e.context(l),s),s}(pL(e.projection),e.field||(0,E.EP)("datum"),e.pointRadius),a.materialize().reflow(),f=a.SOURCE),a.visit(f,d=>d[l]=s),a.modifies(l)}}),s4.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},(0,E.XW)(s4,te,{transform(e,r){var l,a=this.value,s=this.generator;if(!a.length||e.modified())for(const f in e)(0,E.mf)(s[f])&&s[f](e[f]);return l=s(),a.length?r.mod.push(Oy(a[0],l)):r.add.push($t(l)),a[0]=l,r}}),Wu.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},(0,E.XW)(Wu,te,{transform(e,r){if(!r.changed()&&!e.modified())return r.StopPropagation;var a=r.materialize(r.SOURCE).source,s="shared"===e.resolve,l=e.field||E.yR,f=function(e,r){let a;return(0,E.mf)(e)?(a=s=>e(s,r),a.dep=Qw(e)):e?a=(0,E.a9)(e):(a=s=>s.$value/s.$max||0,a.dep=!0),a}(e.opacity,e),d=function(e,r){let a;return(0,E.mf)(e)?(a=s=>aa(e(s,r)),a.dep=Qw(e)):a=(0,E.a9)(aa(e||"#888")),a}(e.color,e),h=e.as||"image",p={$x:0,$y:0,$value:0,$max:s?Xs(a.map(v=>Xs(l(v).values))):0};return a.forEach(v=>{const _=l(v),y=(0,E.l7)({},v,p);s||(y.$max=Xs(_.values||[])),v[h]=function(e,r,a,s){const l=e.width,d=e.x1||0,h=e.y1||0,p=e.x2||l,v=e.y2||e.height,_=e.values,y=_?S=>_[S]:E.bM,C=r2(p-d,v-h),M=C.getContext("2d"),w=M.getImageData(0,0,p-d,v-h),A=w.data;for(let S=h,T=0;S<v;++S){r.$y=S-h;for(let N=d,I=S*l;N<p;++N,T+=4){r.$x=N-d,r.$value=y(N+I);const F=a(r);A[T+0]=F.r,A[T+1]=F.g,A[T+2]=F.b,A[T+3]=~~(255*s(r))}}return M.putImageData(w,0,0),C}(_,y,d.dep?d:(0,E.a9)(d(y)),f.dep?f:(0,E.a9)(f(y)))}),r.reflow(!0).modifies(h)}}),(0,E.XW)(Jw,te,{transform(e,r){let a=this.value;return!a||e.modified("type")?(this.value=a=function(e){const r=lg((e||"mercator").toLowerCase());return r||(0,E.vU)("Unrecognized projection type: "+e),r()}(e.type),cg.forEach(s=>{null!=e[s]&&tE(a,s,e[s])})):cg.forEach(s=>{e.modified(s)&&tE(a,s,e[s])}),null!=e.pointRadius&&a.path.pointRadius(e.pointRadius),e.fit&&function(e,r){const a=function(e){return 1===(e=(0,E.IX)(e)).length?e[0]:{type:mg,features:e.reduce((r,a)=>r.concat(function(e){return e.type===mg?e.features:(0,E.IX)(e).filter(r=>null!=r).map(r=>r.type===hg?r:{type:hg,geometry:r})}(a)),[])}}(r.fit);r.extent?e.fitExtent(r.extent,a):r.size&&e.fitSize(r.size,a)}(a,e),r.fork(r.NO_SOURCE|r.NO_FIELDS)}});var Wi=vg.prototype=_g.prototype;function Gi(e){return function(){return e}}function ys(e){return 1e-6*(e()-.5)}function bg(e){return e.x+e.vx}function RL(e){return e.y+e.vy}Wi.copy=function(){var a,s,e=new _g(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=yg(r),e;for(a=[{source:r,target:e._root=new Array(4)}];r=a.pop();)for(var l=0;l<4;++l)(s=r.source[l])&&(s.length?a.push({source:s,target:r.target[l]=new Array(4)}):r.target[l]=yg(s));return e},Wi.add=function(e){const r=+this._x.call(null,e),a=+this._y.call(null,e);return xh(this.cover(r,a),r,a,e)},Wi.addAll=function(e){var r,a,l,f,s=e.length,d=new Array(s),h=new Array(s),p=1/0,v=1/0,_=-1/0,y=-1/0;for(a=0;a<s;++a)isNaN(l=+this._x.call(null,r=e[a]))||isNaN(f=+this._y.call(null,r))||(d[a]=l,h[a]=f,l<p&&(p=l),l>_&&(_=l),f<v&&(v=f),f>y&&(y=f));if(p>_||v>y)return this;for(this.cover(p,v).cover(_,y),a=0;a<s;++a)xh(this,d[a],h[a],e[a]);return this},Wi.cover=function(e,r){if(isNaN(e=+e)||isNaN(r=+r))return this;var a=this._x0,s=this._y0,l=this._x1,f=this._y1;if(isNaN(a))l=(a=Math.floor(e))+1,f=(s=Math.floor(r))+1;else{for(var p,v,d=l-a||1,h=this._root;a>e||e>=l||s>r||r>=f;)switch(v=(r<s)<<1|e<a,p=new Array(4),p[v]=h,h=p,d*=2,v){case 0:l=a+d,f=s+d;break;case 1:a=l-d,f=s+d;break;case 2:l=a+d,s=f-d;break;case 3:a=l-d,s=f-d}this._root&&this._root.length&&(this._root=h)}return this._x0=a,this._y0=s,this._x1=l,this._y1=f,this},Wi.data=function(){var e=[];return this.visit(function(r){if(!r.length)do{e.push(r.data)}while(r=r.next)}),e},Wi.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Wi.find=function(e,r,a){var s,d,h,p,v,w,A,l=this._x0,f=this._y0,_=this._x1,y=this._y1,C=[],M=this._root;for(M&&C.push(new br(M,l,f,_,y)),null==a?a=1/0:(l=e-a,f=r-a,_=e+a,y=r+a,a*=a);w=C.pop();)if(!(!(M=w.node)||(d=w.x0)>_||(h=w.y0)>y||(p=w.x1)<l||(v=w.y1)<f))if(M.length){var S=(d+p)/2,T=(h+v)/2;C.push(new br(M[3],S,T,p,v),new br(M[2],d,T,S,v),new br(M[1],S,h,p,T),new br(M[0],d,h,S,T)),(A=(r>=T)<<1|e>=S)&&(w=C[C.length-1],C[C.length-1]=C[C.length-1-A],C[C.length-1-A]=w)}else{var N=e-+this._x.call(null,M.data),I=r-+this._y.call(null,M.data),F=N*N+I*I;if(F<a){var O=Math.sqrt(a=F);l=e-O,f=r-O,_=e+O,y=r+O,s=M.data}}return s},Wi.remove=function(e){if(isNaN(_=+this._x.call(null,e))||isNaN(y=+this._y.call(null,e)))return this;var r,s,l,f,_,y,C,M,w,A,S,T,a=this._root,d=this._x0,h=this._y0,p=this._x1,v=this._y1;if(!a)return this;if(a.length)for(;;){if((w=_>=(C=(d+p)/2))?d=C:p=C,(A=y>=(M=(h+v)/2))?h=M:v=M,r=a,!(a=a[S=A<<1|w]))return this;if(!a.length)break;(r[S+1&3]||r[S+2&3]||r[S+3&3])&&(s=r,T=S)}for(;a.data!==e;)if(l=a,!(a=a.next))return this;return(f=a.next)&&delete a.next,l?(f?l.next=f:delete l.next,this):r?(f?r[S]=f:delete r[S],(a=r[0]||r[1]||r[2]||r[3])&&a===(r[3]||r[2]||r[1]||r[0])&&!a.length&&(s?s[T]=a:this._root=a),this):(this._root=f,this)},Wi.removeAll=function(e){for(var r=0,a=e.length;r<a;++r)this.remove(e[r]);return this},Wi.root=function(){return this._root},Wi.size=function(){var e=0;return this.visit(function(r){if(!r.length)do{++e}while(r=r.next)}),e},Wi.visit=function(e){var a,l,f,d,h,p,r=[],s=this._root;for(s&&r.push(new br(s,this._x0,this._y0,this._x1,this._y1));a=r.pop();)if(!e(s=a.node,f=a.x0,d=a.y0,h=a.x1,p=a.y1)&&s.length){var v=(f+h)/2,_=(d+p)/2;(l=s[3])&&r.push(new br(l,v,_,h,p)),(l=s[2])&&r.push(new br(l,f,_,v,p)),(l=s[1])&&r.push(new br(l,v,d,h,_)),(l=s[0])&&r.push(new br(l,f,d,v,_))}return this},Wi.visitAfter=function(e){var s,r=[],a=[];for(this._root&&r.push(new br(this._root,this._x0,this._y0,this._x1,this._y1));s=r.pop();){var l=s.node;if(l.length){var f,d=s.x0,h=s.y0,p=s.x1,v=s.y1,_=(d+p)/2,y=(h+v)/2;(f=l[0])&&r.push(new br(f,d,h,_,y)),(f=l[1])&&r.push(new br(f,_,h,p,y)),(f=l[2])&&r.push(new br(f,d,y,_,v)),(f=l[3])&&r.push(new br(f,_,y,p,v))}a.push(s)}for(;s=a.pop();)e(s.node,s.x0,s.y0,s.x1,s.y1);return this},Wi.x=function(e){return arguments.length?(this._x=e,this):this._x},Wi.y=function(e){return arguments.length?(this._y=e,this):this._y};var rE={value:()=>{}};function N2(){for(var s,e=0,r=arguments.length,a={};e<r;++e){if(!(s=arguments[e]+"")||s in a||/[\s.]/.test(s))throw new Error("illegal type: "+s);a[s]=[]}return new u4(a)}function u4(e){this._=e}function OL(e,r){return e.trim().split(/^|\s+/).map(function(a){var s="",l=a.indexOf(".");if(l>=0&&(s=a.slice(l+1),a=a.slice(0,l)),a&&!r.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:s}})}function PL(e,r){for(var l,a=0,s=e.length;a<s;++a)if((l=e[a]).name===r)return l.value}function HL(e,r,a){for(var s=0,l=e.length;s<l;++s)if(e[s].name===r){e[s]=rE,e=e.slice(0,s).concat(e.slice(s+1));break}return null!=a&&e.push({name:r,value:a}),e}u4.prototype=N2.prototype={constructor:u4,on:function(e,r){var l,a=this._,s=OL(e+"",a),f=-1,d=s.length;if(!(arguments.length<2)){if(null!=r&&"function"!=typeof r)throw new Error("invalid callback: "+r);for(;++f<d;)if(l=(e=s[f]).type)a[l]=HL(a[l],e.name,r);else if(null==r)for(l in a)a[l]=HL(a[l],e.name,null);return this}for(;++f<d;)if((l=(e=s[f]).type)&&(l=PL(a[l],e.name)))return l},copy:function(){var e={},r=this._;for(var a in r)e[a]=r[a].slice();return new u4(e)},call:function(e,r){if((l=arguments.length-2)>0)for(var l,f,a=new Array(l),s=0;s<l;++s)a[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=0,l=(f=this._[e]).length;s<l;++s)f[s].value.apply(r,a)},apply:function(e,r,a){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],l=0,f=s.length;l<f;++l)s[l].value.apply(r,a)}};const Wq=N2;var Cg,Eh,Yu=0,wh=0,Zu=0,xg=0,f4=0,Dh=0,Ah="object"==typeof performance&&performance.now?performance:Date,BL="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function aE(){return f4||(BL(Gq),f4=Ah.now()+Dh)}function Gq(){f4=0}function sl(){this._call=this._time=this._next=null}function So(e,r,a){var s=new sl;return s.restart(e,r,a),s}function sE(){f4=(xg=Ah.now())+Dh,Yu=wh=0;try{!function(){aE(),++Yu;for(var r,e=Cg;e;)(r=f4-e._time)>=0&&e._call.call(null,r),e=e._next;--Yu}()}finally{Yu=0,function(){for(var e,a,r=Cg,s=1/0;r;)r._call?(s>r._time&&(s=r._time),e=r,r=r._next):(a=r._next,r._next=null,r=e?e._next=a:Cg=a);Eh=e,cl(s)}(),f4=0}}function jL(){var e=Ah.now(),r=e-xg;r>1e3&&(Dh-=r,xg=e)}function cl(e){Yu||(wh&&(wh=clearTimeout(wh)),e-f4>24?(e<1/0&&(wh=setTimeout(sE,e-Ah.now()-Dh)),Zu&&(Zu=clearInterval(Zu))):(Zu||(xg=Ah.now(),Zu=setInterval(jL,1e3)),Yu=1,BL(sE)))}sl.prototype=So.prototype={constructor:sl,restart:function(e,r,a){if("function"!=typeof e)throw new TypeError("callback is not a function");a=(null==a?aE():+a)+(null==r?0:+r),!this._next&&Eh!==this&&(Eh?Eh._next=this:Cg=this,Eh=this),this._call=e,this._time=a,cl()},stop:function(){this._call&&(this._call=null,this._time=1/0,cl())}};const Mg=4294967296;function $L(e){return e.x}function lE(e){return e.y}var ll=Math.PI*(3-Math.sqrt(5));function WL(e){return e.index}function fE(e,r){var a=e.get(r);if(!a)throw new Error("node not found: "+r);return a}const hE={center:function(e,r){var a,s=1;function l(){var f,h,d=a.length,p=0,v=0;for(f=0;f<d;++f)p+=(h=a[f]).x,v+=h.y;for(p=(p/d-e)*s,v=(v/d-r)*s,f=0;f<d;++f)(h=a[f]).x-=p,h.y-=v}return null==e&&(e=0),null==r&&(r=0),l.initialize=function(f){a=f},l.x=function(f){return arguments.length?(e=+f,l):e},l.y=function(f){return arguments.length?(r=+f,l):r},l.strength=function(f){return arguments.length?(s=+f,l):s},l},collide:function(e){var r,a,s,l=1,f=1;function d(){for(var v,y,C,M,w,A,S,_=r.length,T=0;T<f;++T)for(y=vg(r,bg,RL).visitAfter(h),v=0;v<_;++v)S=(A=a[(C=r[v]).index])*A,M=C.x+C.vx,w=C.y+C.vy,y.visit(N);function N(I,F,O,P,V){var G=I.data,Y=I.r,W=A+Y;if(!G)return F>M+W||P<M-W||O>w+W||V<w-W;if(G.index>C.index){var X=M-G.x-G.vx,re=w-G.y-G.vy,ie=X*X+re*re;ie<W*W&&(0===X&&(ie+=(X=ys(s))*X),0===re&&(ie+=(re=ys(s))*re),ie=(W-(ie=Math.sqrt(ie)))/ie*l,C.vx+=(X*=ie)*(W=(Y*=Y)/(S+Y)),C.vy+=(re*=ie)*W,G.vx-=X*(W=1-W),G.vy-=re*W)}}}function h(v){if(v.data)return v.r=a[v.data.index];for(var _=v.r=0;_<4;++_)v[_]&&v[_].r>v.r&&(v.r=v[_].r)}function p(){if(r){var v,y,_=r.length;for(a=new Array(_),v=0;v<_;++v)a[(y=r[v]).index]=+e(y,v,r)}}return"function"!=typeof e&&(e=Gi(null==e?1:+e)),d.initialize=function(v,_){r=v,s=_,p()},d.iterations=function(v){return arguments.length?(f=+v,d):f},d.strength=function(v){return arguments.length?(l=+v,d):l},d.radius=function(v){return arguments.length?(e="function"==typeof v?v:Gi(+v),p(),d):e},d},nbody:function(){var e,r,a,s,f,l=Gi(-30),d=1,h=1/0,p=.81;function v(M){var w,A=e.length,S=vg(e,$L,lE).visitAfter(y);for(s=M,w=0;w<A;++w)r=e[w],S.visit(C)}function _(){if(e){var M,A,w=e.length;for(f=new Array(w),M=0;M<w;++M)f[(A=e[M]).index]=+l(A,M,e)}}function y(M){var A,S,N,I,F,w=0,T=0;if(M.length){for(N=I=F=0;F<4;++F)(A=M[F])&&(S=Math.abs(A.value))&&(w+=A.value,T+=S,N+=S*A.x,I+=S*A.y);M.x=N/T,M.y=I/T}else{(A=M).x=A.data.x,A.y=A.data.y;do{w+=f[A.data.index]}while(A=A.next)}M.value=w}function C(M,w,A,S){if(!M.value)return!0;var T=M.x-r.x,N=M.y-r.y,I=S-w,F=T*T+N*N;if(I*I/p<F)return F<h&&(0===T&&(F+=(T=ys(a))*T),0===N&&(F+=(N=ys(a))*N),F<d&&(F=Math.sqrt(d*F)),r.vx+=T*M.value*s/F,r.vy+=N*M.value*s/F),!0;if(!(M.length||F>=h)){(M.data!==r||M.next)&&(0===T&&(F+=(T=ys(a))*T),0===N&&(F+=(N=ys(a))*N),F<d&&(F=Math.sqrt(d*F)));do{M.data!==r&&(r.vx+=T*(I=f[M.data.index]*s/F),r.vy+=N*I)}while(M=M.next)}}return v.initialize=function(M,w){e=M,a=w,_()},v.strength=function(M){return arguments.length?(l="function"==typeof M?M:Gi(+M),_(),v):l},v.distanceMin=function(M){return arguments.length?(d=M*M,v):Math.sqrt(d)},v.distanceMax=function(M){return arguments.length?(h=M*M,v):Math.sqrt(h)},v.theta=function(M){return arguments.length?(p=M*M,v):Math.sqrt(p)},v},link:function(e){var s,f,d,h,p,v,r=WL,a=function(S){return 1/Math.min(h[S.source.index],h[S.target.index])},l=Gi(30),_=1;function C(S){for(var T=0,N=e.length;T<_;++T)for(var F,O,P,V,G,Y,W,I=0;I<N;++I)V=(P=(F=e[I]).target).x+P.vx-(O=F.source).x-O.vx||ys(v),G=P.y+P.vy-O.y-O.vy||ys(v),G*=Y=((Y=Math.sqrt(V*V+G*G))-f[I])/Y*S*s[I],P.vx-=(V*=Y)*(W=p[I]),P.vy-=G*W,O.vx+=V*(W=1-W),O.vy+=G*W}function M(){if(d){var S,F,T=d.length,N=e.length,I=new Map(d.map((O,P)=>[r(O,P,d),O]));for(S=0,h=new Array(T);S<N;++S)(F=e[S]).index=S,"object"!=typeof F.source&&(F.source=fE(I,F.source)),"object"!=typeof F.target&&(F.target=fE(I,F.target)),h[F.source.index]=(h[F.source.index]||0)+1,h[F.target.index]=(h[F.target.index]||0)+1;for(S=0,p=new Array(N);S<N;++S)p[S]=h[(F=e[S]).source.index]/(h[F.source.index]+h[F.target.index]);s=new Array(N),w(),f=new Array(N),A()}}function w(){if(d)for(var S=0,T=e.length;S<T;++S)s[S]=+a(e[S],S,e)}function A(){if(d)for(var S=0,T=e.length;S<T;++S)f[S]=+l(e[S],S,e)}return null==e&&(e=[]),C.initialize=function(S,T){d=S,v=T,M()},C.links=function(S){return arguments.length?(e=S,M(),C):e},C.id=function(S){return arguments.length?(r=S,C):r},C.iterations=function(S){return arguments.length?(_=+S,C):_},C.strength=function(S){return arguments.length?(a="function"==typeof S?S:Gi(+S),w(),C):a},C.distance=function(S){return arguments.length?(l="function"==typeof S?S:Gi(+S),A(),C):l},C},x:function(e){var a,s,l,r=Gi(.1);function f(h){for(var _,p=0,v=a.length;p<v;++p)(_=a[p]).vx+=(l[p]-_.x)*s[p]*h}function d(){if(a){var h,p=a.length;for(s=new Array(p),l=new Array(p),h=0;h<p;++h)s[h]=isNaN(l[h]=+e(a[h],h,a))?0:+r(a[h],h,a)}}return"function"!=typeof e&&(e=Gi(null==e?0:+e)),f.initialize=function(h){a=h,d()},f.strength=function(h){return arguments.length?(r="function"==typeof h?h:Gi(+h),d(),f):r},f.x=function(h){return arguments.length?(e="function"==typeof h?h:Gi(+h),d(),f):e},f},y:function(e){var a,s,l,r=Gi(.1);function f(h){for(var _,p=0,v=a.length;p<v;++p)(_=a[p]).vy+=(l[p]-_.y)*s[p]*h}function d(){if(a){var h,p=a.length;for(s=new Array(p),l=new Array(p),h=0;h<p;++h)s[h]=isNaN(l[h]=+e(a[h],h,a))?0:+r(a[h],h,a)}}return"function"!=typeof e&&(e=Gi(null==e?0:+e)),f.initialize=function(h){a=h,d()},f.strength=function(h){return arguments.length?(r="function"==typeof h?h:Gi(+h),d(),f):r},f.y=function(h){return arguments.length?(e="function"==typeof h?h:Gi(+h),d(),f):e},f}},d4="forces",Sh=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Br=["static","iterations"],Hn=["x","y","vx","vy"];function xn(e){te.call(this,null,e)}function Ue(e,r,a,s){var f,d,h,p,l=(0,E.IX)(r.forces);for(f=0,d=Sh.length;f<d;++f)(h=Sh[f])!==d4&&r.modified(h)&&e[h](r[h]);for(f=0,d=l.length;f<d;++f)p=d4+f,(h=a||r.modified(d4,f)?XL(l[f]):s&&Kq(l[f],s)?e.force(p):null)&&e.force(p,h);for(d=e.numForces||0;f<d;++f)e.force(d4+f,null);return e.numForces=l.length,e}function Kq(e,r){var a,s;for(a in e)if((0,E.mf)(s=e[a])&&r.modified((0,E.Oj)(s)))return 1;return 0}function XL(e){var r,a;for(a in(0,E.nr)(hE,e.force)||(0,E.vU)("Unrecognized force: "+e.force),r=hE[e.force](),e)(0,E.mf)(r[a])&&YL(r[a],e[a],e);return r}function YL(e,r,a){e((0,E.mf)(r)?s=>r(s,a):r)}function ZL(e){var r=0,a=e.children,s=a&&a.length;if(s)for(;--s>=0;)r+=a[s].value;else r=1;e.value=r}function Nh(e,r){e instanceof Map?(e=[void 0,e],void 0===r&&(r=iW)):void 0===r&&(r=nF);for(var s,f,d,h,p,a=new h4(e),l=[a];s=l.pop();)if((d=r(s.data))&&(p=(d=Array.from(d)).length))for(s.children=d,h=p-1;h>=0;--h)l.push(f=d[h]=new h4(d[h])),f.parent=s,f.depth=s.depth+1;return a.eachBefore(Ih)}function nF(e){return e.children}function iW(e){return Array.isArray(e)?e[1]:null}function $1(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function Ih(e){var r=0;do{e.height=r}while((e=e.parent)&&e.height<++r)}function h4(e){this.data=e,this.depth=this.height=0,this.parent=null}function Ku(e,r){var a,s;if(We(r,e))return[r];for(a=0;a<e.length;++a)if(Lh(r,e[a])&&We(I2(e[a],r),e))return[e[a],r];for(a=0;a<e.length-1;++a)for(s=a+1;s<e.length;++s)if(Lh(I2(e[a],e[s]),r)&&Lh(I2(e[a],r),e[s])&&Lh(I2(e[s],r),e[a])&&We(wa(e[a],e[s],r),e))return[e[a],e[s],r];throw new Error}function Lh(e,r){var a=e.r-r.r,s=r.x-e.x,l=r.y-e.y;return a<0||a*a<s*s+l*l}function Wn(e,r){var a=e.r-r.r+1e-9*Math.max(e.r,r.r,1),s=r.x-e.x,l=r.y-e.y;return a>0&&a*a>s*s+l*l}function We(e,r){for(var a=0;a<r.length;++a)if(!Wn(e,r[a]))return!1;return!0}function ht(e){switch(e.length){case 1:return function(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return I2(e[0],e[1]);case 3:return wa(e[0],e[1],e[2])}}function I2(e,r){var a=e.x,s=e.y,l=e.r,f=r.x,d=r.y,h=r.r,p=f-a,v=d-s,_=h-l,y=Math.sqrt(p*p+v*v);return{x:(a+f+p/y*_)/2,y:(s+d+v/y*_)/2,r:(y+l+h)/2}}function wa(e,r,a){var s=e.x,l=e.y,f=e.r,d=r.x,h=r.y,p=r.r,v=a.x,_=a.y,y=a.r,C=s-d,M=s-v,w=l-h,A=l-_,S=p-f,T=y-f,N=s*s+l*l-f*f,I=N-d*d-h*h+p*p,F=N-v*v-_*_+y*y,O=M*w-C*A,P=(w*F-A*I)/(2*O)-s,V=(A*S-w*T)/O,G=(M*I-C*F)/(2*O)-l,Y=(C*T-M*S)/O,W=V*V+Y*Y-1,X=2*(f+P*V+G*Y),re=P*P+G*G-f*f,ie=-(W?(X+Math.sqrt(X*X-4*W*re))/(2*W):re/X);return{x:s+P+V*ie,y:l+G+Y*ie,r:ie}}function Qu(e,r,a){var l,f,h,p,s=e.x-r.x,d=e.y-r.y,v=s*s+d*d;v?(f=r.r+a.r,p=e.r+a.r,(f*=f)>(p*=p)?(l=(v+p-f)/(2*v),h=Math.sqrt(Math.max(0,p/v-l*l)),a.x=e.x-l*s-h*d,a.y=e.y-l*d+h*s):(l=(v+f-p)/(2*v),h=Math.sqrt(Math.max(0,f/v-l*l)),a.x=r.x+l*s-h*d,a.y=r.y+l*d+h*s)):(a.x=r.x+a.r,a.y=r.y)}function q1(e,r){var a=e.r+r.r-1e-6,s=r.x-e.x,l=r.y-e.y;return a>0&&a*a>s*s+l*l}function mE(e){var r=e._,a=e.next._,s=r.r+a.r,l=(r.x*a.r+a.x*r.r)/s,f=(r.y*a.r+a.y*r.r)/s;return l*l+f*f}function wn(e){this._=e,this.next=null,this.previous=null}function pE(e){if(!(l=(e=function(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}(e)).length))return 0;var r,a,s,l,f,d,h,p,v,_,y;if((r=e[0]).x=0,r.y=0,!(l>1))return r.r;if(r.x=-(a=e[1]).r,a.x=r.r,a.y=0,!(l>2))return r.r+a.r;Qu(a,r,s=e[2]),r=new wn(r),a=new wn(a),s=new wn(s),r.next=s.previous=a,a.next=r.previous=s,s.next=a.previous=r;e:for(h=3;h<l;++h){Qu(r._,a._,s=e[h]),s=new wn(s),p=a.next,v=r.previous,_=a._.r,y=r._.r;do{if(_<=y){if(q1(p._,s._)){r.next=a=p,a.previous=r,--h;continue e}_+=p._.r,p=p.next}else{if(q1(v._,s._)){(r=v).next=a,a.previous=r,--h;continue e}y+=v._.r,v=v.previous}}while(p!==v.next);for(s.previous=r,s.next=a,r.next=a.previous=a=s,f=mE(r);(s=s.next)!==a;)(d=mE(s))<f&&(r=s,f=d);a=r.next}for(r=[a._],s=a;(s=s.next)!==a;)r.push(s._);for(s=function(e){for(var l,f,r=0,a=(e=function(e){for(var a,s,r=e.length;r;)s=Math.random()*r--|0,a=e[r],e[r]=e[s],e[s]=a;return e}(Array.from(e))).length,s=[];r<a;)l=e[r],f&&Wn(f,l)?++r:(f=ht(s=Ku(s,l)),r=0);return f}(r),h=0;h<l;++h)(r=e[h]).x-=s.x,r.y-=s.y;return s.r}function sF(e){return null==e?null:ul(e)}function ul(e){if("function"!=typeof e)throw new Error;return e}function fl(){return 0}function bs(e){return function(){return e}}function cF(e){return Math.sqrt(e.value)}function Fh(e){return function(r){r.children||(r.r=Math.max(0,+e(r)||0))}}function m4(e,r){return function(a){if(s=a.children){var s,l,h,f=s.length,d=e(a)*r||0;if(d)for(l=0;l<f;++l)s[l].r+=d;if(h=pE(s),d)for(l=0;l<f;++l)s[l].r-=d;a.r=h+d}}}function Rh(e){return function(r){var a=r.parent;r.r*=e,a&&(r.x=a.x+e*r.x,r.y=a.y+e*r.y)}}function vE(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function p4(e,r,a,s,l){for(var d,f=e.children,h=-1,p=f.length,v=e.value&&(s-r)/e.value;++h<p;)(d=f[h]).y0=a,d.y1=l,d.x0=r,d.x1=r+=d.value*v}xn.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:Hn}]},(0,E.XW)(xn,te,{transform(e,r){var a=this.value,s=r.changed(r.ADD_REM),l=e.modified(Sh),f=e.iterations||300;if(a?(s&&(r.modifies("index"),a.nodes(r.source)),(l||r.changed(r.MOD))&&Ue(a,e,0,r)):(this.value=a=function(e,r){const a=function(e){var r,a=1,s=.001,l=1-Math.pow(s,1/300),f=0,d=.6,h=new Map,p=So(y),v=Wq("tick","end"),_=function(){let e=1;return()=>(e=(1664525*e+1013904223)%Mg)/Mg}();function y(){C(),v.call("tick",r),a<s&&(p.stop(),v.call("end",r))}function C(A){var S,N,T=e.length;void 0===A&&(A=1);for(var I=0;I<A;++I)for(a+=(f-a)*l,h.forEach(function(F){F(a)}),S=0;S<T;++S)null==(N=e[S]).fx?N.x+=N.vx*=d:(N.x=N.fx,N.vx=0),null==N.fy?N.y+=N.vy*=d:(N.y=N.fy,N.vy=0);return r}function M(){for(var T,A=0,S=e.length;A<S;++A){if((T=e[A]).index=A,null!=T.fx&&(T.x=T.fx),null!=T.fy&&(T.y=T.fy),isNaN(T.x)||isNaN(T.y)){var N=10*Math.sqrt(.5+A),I=A*ll;T.x=N*Math.cos(I),T.y=N*Math.sin(I)}(isNaN(T.vx)||isNaN(T.vy))&&(T.vx=T.vy=0)}}function w(A){return A.initialize&&A.initialize(e,_),A}return null==e&&(e=[]),M(),r={tick:C,restart:function(){return p.restart(y),r},stop:function(){return p.stop(),r},nodes:function(A){return arguments.length?(e=A,M(),h.forEach(w),r):e},alpha:function(A){return arguments.length?(a=+A,r):a},alphaMin:function(A){return arguments.length?(s=+A,r):s},alphaDecay:function(A){return arguments.length?(l=+A,r):+l},alphaTarget:function(A){return arguments.length?(f=+A,r):f},velocityDecay:function(A){return arguments.length?(d=1-A,r):1-d},randomSource:function(A){return arguments.length?(_=A,h.forEach(w),r):_},force:function(A,S){return arguments.length>1?(null==S?h.delete(A):h.set(A,w(S)),r):h.get(A)},find:function(A,S,T){var F,O,P,V,G,N=0,I=e.length;for(null==T?T=1/0:T*=T,N=0;N<I;++N)(P=(F=A-(V=e[N]).x)*F+(O=S-V.y)*O)<T&&(G=V,T=P);return G},on:function(A,S){return arguments.length>1?(v.on(A,S),r):v.on(A)}}}(e),s=a.stop,l=a.restart;let f=!1;return a.stopped=()=>f,a.restart=()=>(f=!1,l()),a.stop=()=>(f=!0,s()),Ue(a,r,!0).on("end",()=>f=!0)}(r.source,e),a.on("tick",function(e,r){return()=>e.touch(r).run()}(r.dataflow,this)),e.static||(s=!0,a.tick()),r.modifies("index")),l||s||e.modified(Br)||r.changed()&&e.restart)if(a.alpha(Math.max(a.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(a.alphaMin(),1/f)),e.static)for(a.stop();--f>=0;)a.tick();else if(a.stopped()&&a.restart(),!s)return r.StopPropagation;return this.finish(e,r)},finish(e,r){const a=r.dataflow;for(let _,h=this._argops,p=0,v=h.length;p<v;++p)if(_=h[p],_.name===d4&&"link"===_.op._argval.force)for(var d,s=_.op._argops,l=0,f=s.length;l<f;++l)if("links"===s[l].name&&(d=s[l].op.source)){a.pulse(d,a.changeset().reflow());break}return r.reflow(e.modified()).modifies(Hn)}}),h4.prototype=Nh.prototype={constructor:h4,count:function(){return this.eachAfter(ZL)},each:function(e,r){let a=-1;for(const s of this)e.call(r,s,++a,this);return this},eachAfter:function(e,r){for(var f,d,h,a=this,s=[a],l=[],p=-1;a=s.pop();)if(l.push(a),f=a.children)for(d=0,h=f.length;d<h;++d)s.push(f[d]);for(;a=l.pop();)e.call(r,a,++p,this);return this},eachBefore:function(e,r){for(var l,f,a=this,s=[a],d=-1;a=s.pop();)if(e.call(r,a,++d,this),l=a.children)for(f=l.length-1;f>=0;--f)s.push(l[f]);return this},find:function(e,r){let a=-1;for(const s of this)if(e.call(r,s,++a,this))return s},sum:function(e){return this.eachAfter(function(r){for(var a=+e(r.data)||0,s=r.children,l=s&&s.length;--l>=0;)a+=s[l].value;r.value=a})},sort:function(e){return this.eachBefore(function(r){r.children&&r.children.sort(e)})},path:function(e){for(var r=this,a=function(e,r){if(e===r)return e;var a=e.ancestors(),s=r.ancestors(),l=null;for(e=a.pop(),r=s.pop();e===r;)l=e,e=a.pop(),r=s.pop();return l}(r,e),s=[r];r!==a;)s.push(r=r.parent);for(var l=s.length;e!==a;)s.splice(l,0,e),e=e.parent;return s},ancestors:function(){for(var e=this,r=[e];e=e.parent;)r.push(e);return r},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore(function(r){r.children||e.push(r)}),e},links:function(){var e=this,r=[];return e.each(function(a){a!==e&&r.push({source:a.parent,target:a})}),r},copy:function(){return Nh(this).eachBefore($1)},[Symbol.iterator]:function*(){var r,s,l,f,e=this,a=[e];do{for(r=a.reverse(),a=[];e=r.pop();)if(yield e,s=e.children)for(l=0,f=s.length;l<f;++l)a.push(s[l])}while(a.length)}};var uF={depth:-1},_E={};function fF(e){return e.id}function yE(e){return e.parentId}function bE(){var e=fF,r=yE;function a(s){var d,h,p,v,_,y,C,l=Array.from(s),f=l.length,M=new Map;for(h=0;h<f;++h)_=l[h]=new h4(d=l[h]),null!=(y=e(d,h,s))&&(y+="")&&(C=_.id=y,M.set(C,M.has(C)?_E:_)),null!=(y=r(d,h,s))&&(y+="")&&(_.parent=y);for(h=0;h<f;++h)if(y=(_=l[h]).parent){if(!(v=M.get(y)))throw new Error("missing: "+y);if(v===_E)throw new Error("ambiguous: "+y);v.children?v.children.push(_):v.children=[_],_.parent=v}else{if(p)throw new Error("multiple roots");p=_}if(!p)throw new Error("no root");if(p.parent=uF,p.eachBefore(function(w){w.depth=w.parent.depth+1,--f}).eachBefore(Ih),p.parent=null,f>0)throw new Error("cycle");return p}return a.id=function(s){return arguments.length?(e=ul(s),a):e},a.parentId=function(s){return arguments.length?(r=ul(s),a):r},a}function CE(e,r){return e.parent===r.parent?1:2}function g4(e){var r=e.children;return r?r[0]:e.t}function dl(e){var r=e.children;return r?r[r.length-1]:e.t}function dF(e,r,a){var s=a/(r.i-e.i);r.c-=s,r.s+=a,e.c+=s,r.z+=a,r.m+=a}function Dg(e,r,a){return e.a.parent===r.parent?e.a:a}function Ju(e,r){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=r}function pF(e,r){return e.parent===r.parent?1:2}function vF(e,r){return e+r.x}function _F(e,r){return Math.max(e,r.y)}function e3(e,r,a,s,l){for(var d,f=e.children,h=-1,p=f.length,v=e.value&&(l-a)/e.value;++h<p;)(d=f[h]).x0=r,d.x1=s,d.y0=a,d.y1=a+=d.value*v}Ju.prototype=Object.create(h4.prototype);var xF=(1+Math.sqrt(5))/2;function xE(e,r,a,s,l,f){for(var p,v,M,w,S,T,N,I,F,O,P,d=[],h=r.children,_=0,y=0,C=h.length,A=r.value;_<C;){M=l-a,w=f-s;do{S=h[y++].value}while(!S&&y<C);for(T=N=S,P=S*S*(O=Math.max(w/M,M/w)/(A*e)),F=Math.max(N/P,P/T);y<C;++y){if(S+=v=h[y].value,v<T&&(T=v),v>N&&(N=v),P=S*S*O,(I=Math.max(N/P,P/T))>F){S-=v;break}F=I}d.push(p={value:S,dice:M<w,children:h.slice(_,y)}),p.dice?p4(p,a,s,l,A?s+=w*S/A:f):e3(p,a,s,A?a+=M*S/A:l,f),A-=S,_=y}return d}const Oh=function e(r){function a(s,l,f,d,h){xE(r,s,l,f,d,h)}return a.ratio=function(s){return e((s=+s)>1?s:1)},a}(xF),MF=function e(r){function a(s,l,f,d,h){if((p=s._squarify)&&p.ratio===r)for(var p,v,_,y,M,C=-1,w=p.length,A=s.value;++C<w;){for(_=(v=p[C]).children,y=v.value=0,M=_.length;y<M;++y)v.value+=_[y].value;v.dice?p4(v,l,f,d,A?f+=(h-f)*v.value/A:h):e3(v,l,f,A?l+=(d-l)*v.value/A:d,h),A-=v.value}else s._squarify=p=xE(r,s,l,f,d,h),p.ratio=r}return a.ratio=function(s){return e((s=+s)>1?s:1)},a}(xF);function hl(e,r,a){const s={};return e.each(l=>{const f=l.data;a(f)&&(s[r(f)]=l)}),e.lookup=s,e}function Ph(e){te.call(this,null,e)}Ph.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const EF=e=>e.values;function L2(){const e=[],r={entries:l=>s(a(l,0),0),key:l=>(e.push(l),r)};function a(l,f){if(f>=e.length)return l;const d=l.length,h=e[f++],p={},v={};let y,C,M,_=-1;for(;++_<d;)y=h(C=l[_])+"",(M=p[y])?M.push(C):p[y]=[C];for(y in p)v[y]=a(p[y],f);return v}function s(l,f){if(++f>e.length)return l;const d=[];for(const h in l)d.push({key:h,values:s(l[h],f)});return d}return r}function Cs(e){te.call(this,null,e)}(0,E.XW)(Ph,te,{transform(e,r){r.source||(0,E.vU)("Nest transform requires an upstream data source.");var a=e.generate,s=e.modified(),l=r.clone(),f=this.value;return(!f||s||r.changed())&&(f&&f.each(d=>{d.children&&Jo(d.data)&&l.rem.push(d.data)}),this.value=f=Nh({values:(0,E.IX)(e.keys).reduce((d,h)=>(d.key(h),d),L2()).entries(l.source)},EF),a&&f.each(d=>{d.children&&(d=$t(d.data),l.add.push(d),l.source.push(d))}),hl(f,Le,Le)),l.source.root=f,l}});const ME=(e,r)=>e.parent===r.parent?1:2;(0,E.XW)(Cs,te,{transform(e,r){(!r.source||!r.source.root)&&(0,E.vU)(this.constructor.name+" transform requires a backing tree data source.");const a=this.layout(e.method),s=this.fields,l=r.source.root,f=e.as||s;e.field?l.sum(e.field):l.count(),e.sort&&l.sort(_c(e.sort,d=>d.data)),function(e,r,a){for(let s,l=0,f=r.length;l<f;++l)s=r[l],s in a&&e[s](a[s])}(a,this.params,e),a.separation&&a.separation(!1!==e.separation?ME:E.kX);try{this.value=a(l)}catch(d){(0,E.vU)(d)}return l.each(d=>function(e,r,a){const s=e.data,l=r.length-1;for(let f=0;f<l;++f)s[a[f]]=e[r[f]];s[a[l]]=e.children?e.children.length:0}(d,s,f)),r.reflow(e.modified()).modifies(f).modifies("leaf")}});const pl=["x","y","r","depth","children"];function Hh(e){Cs.call(this,e)}Hh.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:pl.length,default:pl}]},(0,E.XW)(Hh,Cs,{layout:function(){var e=null,r=1,a=1,s=fl;function l(f){return f.x=r/2,f.y=a/2,e?f.eachBefore(Fh(e)).eachAfter(m4(s,.5)).eachBefore(Rh(1)):f.eachBefore(Fh(cF)).eachAfter(m4(fl,1)).eachAfter(m4(s,f.r/Math.min(r,a))).eachBefore(Rh(Math.min(r,a)/(2*f.r))),f}return l.radius=function(f){return arguments.length?(e=sF(f),l):e},l.size=function(f){return arguments.length?(r=+f[0],a=+f[1],l):[r,a]},l.padding=function(f){return arguments.length?(s="function"==typeof f?f:bs(+f),l):s},l},params:["radius","size","padding"],fields:pl});const wE=["x0","y0","x1","y1","depth","children"];function Bh(e){Cs.call(this,e)}function zg(e){te.call(this,null,e)}Bh.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:wE.length,default:wE}]},(0,E.XW)(Bh,Cs,{layout:function(){var e=1,r=1,a=0,s=!1;function l(d){var h=d.height+1;return d.x0=d.y0=a,d.x1=e,d.y1=r/h,d.eachBefore(function(d,h){return function(p){p.children&&p4(p,p.x0,d*(p.depth+1)/h,p.x1,d*(p.depth+2)/h);var v=p.x0,_=p.y0,y=p.x1-a,C=p.y1-a;y<v&&(v=y=(v+y)/2),C<_&&(_=C=(_+C)/2),p.x0=v,p.y0=_,p.x1=y,p.y1=C}}(r,h)),s&&d.eachBefore(vE),d}return l.round=function(d){return arguments.length?(s=!!d,l):s},l.size=function(d){return arguments.length?(e=+d[0],r=+d[1],l):[e,r]},l.padding=function(d){return arguments.length?(a=+d,l):a},l},params:["size","round","padding"],fields:wE}),zg.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},(0,E.XW)(zg,te,{transform(e,r){r.source||(0,E.vU)("Stratify transform requires an upstream data source.");let a=this.value;const s=e.modified(),l=r.fork(r.ALL).materialize(r.SOURCE),f=!a||s||r.changed(r.ADD_REM)||r.modified(e.key.fields)||r.modified(e.parentKey.fields);return l.source=l.source.slice(),f&&(a=l.source.length?hl(bE().id(e.key).parentId(e.parentKey)(l.source),e.key,E.yb):hl(bE()([{}]),e.key,e.key)),l.source.root=this.value=a,l}});const Ng={tidy:function(){var e=CE,r=1,a=1,s=null;function l(v){var _=function(e){for(var a,l,f,d,h,r=new Ju(e,0),s=[r];a=s.pop();)if(f=a._.children)for(a.children=new Array(h=f.length),d=h-1;d>=0;--d)s.push(l=a.children[d]=new Ju(f[d],d)),l.parent=a;return(r.parent=new Ju(null,0)).children=[r],r}(v);if(_.eachAfter(f),_.parent.m=-_.z,_.eachBefore(d),s)v.eachBefore(p);else{var y=v,C=v,M=v;v.eachBefore(function(N){N.x<y.x&&(y=N),N.x>C.x&&(C=N),N.depth>M.depth&&(M=N)});var w=y===C?1:e(y,C)/2,A=w-y.x,S=r/(C.x+w+A),T=a/(M.depth||1);v.eachBefore(function(N){N.x=(N.x+A)*S,N.y=N.depth*T})}return v}function f(v){var _=v.children,y=v.parent.children,C=v.i?y[v.i-1]:null;if(_){!function(e){for(var f,r=0,a=0,s=e.children,l=s.length;--l>=0;)(f=s[l]).z+=r,f.m+=r,r+=f.s+(a+=f.c)}(v);var M=(_[0].z+_[_.length-1].z)/2;C?(v.z=C.z+e(v._,C._),v.m=v.z-M):v.z=M}else C&&(v.z=C.z+e(v._,C._));v.parent.A=function(v,_,y){if(_){for(var F,C=v,M=v,w=_,A=C.parent.children[0],S=C.m,T=M.m,N=w.m,I=A.m;w=dl(w),C=g4(C),w&&C;)A=g4(A),(M=dl(M)).a=v,(F=w.z+N-C.z-S+e(w._,C._))>0&&(dF(Dg(w,v,y),v,F),S+=F,T+=F),N+=w.m,S+=C.m,I+=A.m,T+=M.m;w&&!dl(M)&&(M.t=w,M.m+=N-T),C&&!g4(A)&&(A.t=C,A.m+=S-I,y=v)}return y}(v,C,v.parent.A||y[0])}function d(v){v._.x=v.z+v.parent.m,v.m+=v.parent.m}function p(v){v.x*=r,v.y=v.depth*a}return l.separation=function(v){return arguments.length?(e=v,l):e},l.size=function(v){return arguments.length?(s=!1,r=+v[0],a=+v[1],l):s?null:[r,a]},l.nodeSize=function(v){return arguments.length?(s=!0,r=+v[0],a=+v[1],l):s?[r,a]:null},l},cluster:function(){var e=pF,r=1,a=1,s=!1;function l(f){var d,h=0;f.eachAfter(function(C){var M=C.children;M?(C.x=function(e){return e.reduce(vF,0)/e.length}(M),C.y=function(e){return 1+e.reduce(_F,0)}(M)):(C.x=d?h+=e(C,d):0,C.y=0,d=C)});var p=function(e){for(var r;r=e.children;)e=r[0];return e}(f),v=function(e){for(var r;r=e.children;)e=r[r.length-1];return e}(f),_=p.x-e(p,v)/2,y=v.x+e(v,p)/2;return f.eachAfter(s?function(C){C.x=(C.x-f.x)*r,C.y=(f.y-C.y)*a}:function(C){C.x=(C.x-_)/(y-_)*r,C.y=(1-(f.y?C.y/f.y:1))*a})}return l.separation=function(f){return arguments.length?(e=f,l):e},l.size=function(f){return arguments.length?(s=!1,r=+f[0],a=+f[1],l):s?null:[r,a]},l.nodeSize=function(f){return arguments.length?(s=!0,r=+f[0],a=+f[1],l):s?[r,a]:null},l}},Ig=["x","y","depth","children"];function EE(e){Cs.call(this,e)}function f1(e){te.call(this,[],e)}EE.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:Ig.length,default:Ig}]},(0,E.XW)(EE,Cs,{layout(e){const r=e||"tidy";if((0,E.nr)(Ng,r))return Ng[r]();(0,E.vU)("Unrecognized Tree layout method: "+r)},params:["size","nodeSize"],fields:Ig}),f1.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},(0,E.XW)(f1,te,{transform(e,r){const a=this.value,s=r.source&&r.source.root,l=r.fork(r.NO_SOURCE),f={};return s||(0,E.vU)("TreeLinks transform requires a tree data source."),r.changed(r.ADD_REM)?(l.rem=a,r.visit(r.SOURCE,d=>f[Le(d)]=1),s.each(d=>{const h=d.data,p=d.parent&&d.parent.data;p&&f[Le(h)]&&f[Le(p)]&&l.add.push($t({source:p,target:h}))}),this.value=l.add):r.changed(r.MOD)&&(r.visit(r.MOD,d=>f[Le(d)]=1),a.forEach(d=>{(f[Le(d.source)]||f[Le(d.target)])&&l.mod.push(d)})),l}});const DE={binary:function(e,r,a,s,l){var d,p,f=e.children,h=f.length,v=new Array(h+1);for(v[0]=p=d=0;d<h;++d)v[d+1]=p+=f[d].value;!function _(y,C,M,w,A,S,T){if(y>=C-1){var N=f[y];return N.x0=w,N.y0=A,N.x1=S,void(N.y1=T)}for(var I=v[y],F=M/2+I,O=y+1,P=C-1;O<P;){var V=O+P>>>1;v[V]<F?O=V+1:P=V}F-v[O-1]<v[O]-F&&y+1<O&&--O;var G=v[O]-I,Y=M-G;if(S-w>T-A){var W=M?(w*Y+S*G)/M:S;_(y,O,G,w,A,W,T),_(O,C,Y,W,A,S,T)}else{var X=M?(A*Y+T*G)/M:T;_(y,O,G,w,A,S,X),_(O,C,Y,w,X,S,T)}}(0,h,e.value,r,a,s,l)},dice:p4,slice:e3,slicedice:function(e,r,a,s,l){(1&e.depth?e3:p4)(e,r,a,s,l)},squarify:Oh,resquarify:MF},Lg=["x0","y0","x1","y1","depth","children"];function Fg(e){Cs.call(this,e)}function kF(e,r,a,s){const l=e.width,f=e.height,d=a||s,h=r2(l,f).getContext("2d");r.forEach(S=>SE(h,S,d));const p=new Uint32Array(h.getImageData(0,0,l,f).data.buffer),v=e.bitmap(),_=d&&e.bitmap();let y,C,M,w,A;for(C=0;C<f;++C)for(y=0;y<l;++y)A=4278190080&p[C*l+y],A&&(M=e(y),w=e(C),s||v.set(M,w),d&&268435456^A&&_.set(M,w));return[v,_]}function SE(e,r,a){if(!r.length)return;const s=r[0].mark.marktype;"group"===s?r.forEach(l=>{l.items.forEach(f=>SE(e,f.items,a))}):a1[s].draw(e,{items:a?r.map(TF):r})}function TF(e){const r=Jl(e,{});return r.stroke&&(r.strokeOpacity=1),r.fill&&(r.fillOpacity=.0625,r.stroke="#000",r.strokeOpacity=1,r.strokeWidth=2),r}Fg.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Lg.length,default:Lg}]},(0,E.XW)(Fg,Cs,{layout(){const e=function(){var e=Oh,r=!1,a=1,s=1,l=[0],f=fl,d=fl,h=fl,p=fl,v=fl;function _(C){return C.x0=C.y0=0,C.x1=a,C.y1=s,C.eachBefore(y),l=[0],r&&C.eachBefore(vE),C}function y(C){var M=l[C.depth],w=C.x0+M,A=C.y0+M,S=C.x1-M,T=C.y1-M;S<w&&(w=S=(w+S)/2),T<A&&(A=T=(A+T)/2),C.x0=w,C.y0=A,C.x1=S,C.y1=T,C.children&&(M=l[C.depth+1]=f(C)/2,w+=v(C)-M,A+=d(C)-M,(S-=h(C)-M)<w&&(w=S=(w+S)/2),(T-=p(C)-M)<A&&(A=T=(A+T)/2),e(C,w,A,S,T))}return _.round=function(C){return arguments.length?(r=!!C,_):r},_.size=function(C){return arguments.length?(a=+C[0],s=+C[1],_):[a,s]},_.tile=function(C){return arguments.length?(e=ul(C),_):e},_.padding=function(C){return arguments.length?_.paddingInner(C).paddingOuter(C):_.paddingInner()},_.paddingInner=function(C){return arguments.length?(f="function"==typeof C?C:bs(+C),_):f},_.paddingOuter=function(C){return arguments.length?_.paddingTop(C).paddingRight(C).paddingBottom(C).paddingLeft(C):_.paddingTop()},_.paddingTop=function(C){return arguments.length?(d="function"==typeof C?C:bs(+C),_):d},_.paddingRight=function(C){return arguments.length?(h="function"==typeof C?C:bs(+C),_):h},_.paddingBottom=function(C){return arguments.length?(p="function"==typeof C?C:bs(+C),_):p},_.paddingLeft=function(C){return arguments.length?(v="function"==typeof C?C:bs(+C),_):v},_}();return e.ratio=r=>{const a=e.tile();a.ratio&&e.tile(a.ratio(r))},e.method=r=>{(0,E.nr)(DE,r)?e.tile(DE[r]):(0,E.vU)("Unrecognized Treemap layout method: "+r)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:Lg});const F2=new Uint32Array(33),ko=new Uint32Array(33);ko[0]=0,F2[0]=~ko[0];for(let e=1;e<=32;++e)ko[e]=ko[e-1]<<1|1,F2[e]=~ko[e];function IF(e,r,a,s,l,f){let d=a/2;return e-d<0||e+d>l||r-(d=s/2)<0||r+d>f}function LF(){return!1}function FF(e,r,a,s,l,f,d,h){const p=l*f/(2*s),v=e(r-p),_=e(r+p),y=e(a-(f/=2)),C=e(a+f);return d.outOfBounds(v,y,_,C)||d.getRange(v,y,_,C)||h&&h.getRange(v,y,_,C)}function Rg(e,r,a,s,l,f,d,h){const p=l*f/(2*s);let v=e(r-p),_=e(r+p),y=e(a-(f/=2)),C=e(a+f);return v=v>0?v:0,y=y>0?y:0,_=_<e.width?_:e.width-1,C=C<e.height?C:e.height-1,d.getRange(v,y,_,C)||h&&h.getRange(v,y,_,C)}function jh(e){return e?[Rg,LF]:[FF,IF]}const rW=[-1,-1,1,1],R2=[-1,1,-1,1],VF=["right","center","left"],OF=["bottom","middle","top"];function Vg(e,r,a,s,l,f,d,h,p,v,_,y){return!(l.outOfBounds(e,a,r,s)||(y&&f?f.getRange(e,a,r,s)||!function(e,r,a,s,l){return l[0]<=e&&a<=l[2]&&l[3]<=r&&s<=l[5]}(d,p,h,v,_):l.getRange(e,a,r,s)))}const HF={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},aW={naive:function(e,r,a,s){const l=e.width,f=e.height;return function(d){const h=d.datum.datum.items[s].items,p=h.length,v=d.datum.fontSize,_=rs.width(d.datum,d.datum.text);let C,M,w,A,S,T,N,y=0;for(let I=0;I<p;++I)C=h[I].x,w=h[I].y,M=void 0===h[I].x2?C:h[I].x2,A=void 0===h[I].y2?w:h[I].y2,S=(C+M)/2,T=(w+A)/2,N=Math.abs(M-C+A-w),N>=y&&(y=N,d.x=S,d.y=T);return S=_/2,T=v/2,C=d.x-S,M=d.x+S,w=d.y-T,A=d.y+T,d.align="center",C<0&&M<=l?d.align="left":0<=C&&l<M&&(d.align="right"),d.baseline="middle",w<0&&A<=f?d.baseline="top":0<=w&&f<A&&(d.baseline="bottom"),!0}},"reduced-search":function(e,r,a,s,l){const f=e.width,d=e.height,[h,p]=jh(l),v=r[0],_=r[1];function y(C,M,w,A,S){const T=e.invert(C),N=e.invert(M);let O,I=w,F=d;if(!p(T,N,A,S,f,d)&&!h(e,T,N,S,A,I,v,_)&&!h(e,T,N,S,A,S,v,null)){for(;F-I>=1;)O=(I+F)/2,h(e,T,N,S,A,O,v,_)?F=O:I=O;if(I>w)return[T,N,I,!0]}}return function(C){const M=C.datum.datum.items[s].items,w=M.length,A=C.datum.fontSize,S=rs.width(C.datum,C.datum.text);let O,P,V,G,Y,W,X,re,ie,de,J,fe,ye,Se,$e,xt,hn,T=a?A:0,N=!1,I=!1,F=0;for(let vn=0;vn<w;++vn){for(O=M[vn].x,V=M[vn].y,P=void 0===M[vn].x2?O:M[vn].x2,G=void 0===M[vn].y2?V:M[vn].y2,O>P&&(hn=O,O=P,P=hn),V>G&&(hn=V,V=G,G=hn),ie=e(O),J=e(P),de=~~((ie+J)/2),fe=e(V),Se=e(G),ye=~~((fe+Se)/2),X=de;X>=ie;--X)for(re=ye;re>=fe;--re)xt=y(X,re,T,S,A),xt&&([C.x,C.y,T,N]=xt);for(X=de;X<=J;++X)for(re=ye;re<=Se;++re)xt=y(X,re,T,S,A),xt&&([C.x,C.y,T,N]=xt);!N&&!a&&($e=Math.abs(P-O+G-V),Y=(O+P)/2,W=(V+G)/2,$e>=F&&!p(Y,W,S,A,f,d)&&!h(e,Y,W,A,S,A,v,null)&&(F=$e,C.x=Y,C.y=W,I=!0))}return!(!N&&!I||(Y=S/2,W=A/2,v.setRange(e(C.x-Y),e(C.y-W),e(C.x+Y),e(C.y+W)),C.align="center",C.baseline="middle",0))}},floodfill:function(e,r,a,s,l){const f=e.width,d=e.height,[h,p]=jh(l),v=r[0],_=r[1],y=e.bitmap();return function(C){const M=C.datum.datum.items[s].items,w=M.length,A=C.datum.fontSize,S=rs.width(C.datum,C.datum.text),T=[];let P,V,G,Y,W,X,re,ie,de,J,fe,ye,N=a?A:0,I=!1,F=!1,O=0;for(let Se=0;Se<w;++Se){for(P=M[Se].x,G=M[Se].y,V=void 0===M[Se].x2?P:M[Se].x2,Y=void 0===M[Se].y2?G:M[Se].y2,T.push([e((P+V)/2),e((G+Y)/2)]);T.length;)if([re,ie]=T.pop(),!(v.get(re,ie)||_.get(re,ie)||y.get(re,ie))){y.set(re,ie);for(let $e=0;$e<4;++$e)W=re+rW[$e],X=ie+R2[$e],y.outOfBounds(W,X,W,X)||T.push([W,X]);if(W=e.invert(re),X=e.invert(ie),de=N,J=d,!p(W,X,S,A,f,d)&&!h(e,W,X,A,S,de,v,_)&&!h(e,W,X,A,S,A,v,null)){for(;J-de>=1;)fe=(de+J)/2,h(e,W,X,A,S,fe,v,_)?J=fe:de=fe;de>N&&(C.x=W,C.y=X,N=de,I=!0)}}!I&&!a&&(ye=Math.abs(V-P+Y-G),W=(P+V)/2,X=(G+Y)/2,ye>=O&&!p(W,X,S,A,f,d)&&!h(e,W,X,A,S,A,v,null)&&(O=ye,C.x=W,C.y=X,F=!0))}return!(!I&&!F||(W=S/2,X=A/2,v.setRange(e(C.x-W),e(C.y-X),e(C.x+W),e(C.y+X)),C.align="center",C.baseline="middle",0))}}};function BF(e,r,a,s,l,f,d,h,p,v,_){if(!e.length)return e;const y=Math.max(s.length,l.length),C=function(e,r){const a=new Float64Array(r),s=e.length;for(let l=0;l<s;++l)a[l]=e[l]||0;for(let l=s;l<r;++l)a[l]=a[s-1];return a}(s,y),M=function(e,r){const a=new Int8Array(r),s=e.length;for(let l=0;l<s;++l)a[l]|=HF[e[l]];for(let l=s;l<r;++l)a[l]=a[s-1];return a}(l,y),w=function(e){return e&&e.mark&&e.mark.marktype}(e[0].datum),A="group"===w&&e[0].datum.items[p].marktype,S="area"===A,T=function(e,r,a,s){const l=f=>[f.x,f.x,f.x,f.y,f.y,f.y];return e?"line"===e||"area"===e?f=>l(f.datum):"line"===r?f=>{const d=f.datum.items[s].items;return l(d.length?d["start"===a?0:d.length-1]:{x:NaN,y:NaN})}:f=>{const d=f.datum.bounds;return[d.x1,(d.x1+d.x2)/2,d.x2,d.y1,(d.y1+d.y2)/2,d.y2]}:l}(w,A,h,p),N=null===v||v===1/0,I=function(e,r,a){const s=Math.max(1,Math.sqrt(e*r/1e6)),l=~~((e+2*a+s)/s),f=~~((r+2*a+s)/s),d=h=>~~((h+a)/s);return d.invert=h=>h*s-a,d.bitmap=()=>function(e,r){const a=new Uint32Array(~~((e*r+32)/32));function s(f,d){a[f]|=d}function l(f,d){a[f]&=d}return{array:a,get:(f,d)=>{const h=d*e+f;return a[h>>>5]&1<<(31&h)},set:(f,d)=>{const h=d*e+f;s(h>>>5,1<<(31&h))},clear:(f,d)=>{const h=d*e+f;l(h>>>5,~(1<<(31&h)))},getRange:(f,d,h,p)=>{let _,y,C,M,v=p;for(;v>=d;--v)if(_=v*e+f,y=v*e+h,C=_>>>5,M=y>>>5,C===M){if(a[C]&F2[31&_]&ko[1+(31&y)])return!0}else{if(a[C]&F2[31&_]||a[M]&ko[1+(31&y)])return!0;for(let w=C+1;w<M;++w)if(a[w])return!0}return!1},setRange:(f,d,h,p)=>{let v,_,y,C,M;for(;d<=p;++d)if(v=d*e+f,_=d*e+h,y=v>>>5,C=_>>>5,y===C)s(y,F2[31&v]&ko[1+(31&_)]);else for(s(y,F2[31&v]),s(C,ko[1+(31&_)]),M=y+1;M<C;++M)s(M,4294967295)},clearRange:(f,d,h,p)=>{let v,_,y,C,M;for(;d<=p;++d)if(v=d*e+f,_=d*e+h,y=v>>>5,C=_>>>5,y===C)l(y,ko[31&v]|F2[1+(31&_)]);else for(l(y,ko[31&v]),l(C,F2[1+(31&_)]),M=y+1;M<C;++M)l(M,0)},outOfBounds:(f,d,h,p)=>f<0||d<0||p>=r||h>=e}}(l,f),d.ratio=s,d.padding=a,d.width=e,d.height=r,d}(r[0],r[1],N?0:v),F=S&&"naive"===_,O=e.map(G=>({datum:G,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:T(G)}));let P;if(!F){a&&O.sort((Y,W)=>a(Y.datum,W.datum));let G=!1;for(let Y=0;Y<M.length&&!G;++Y)G=5===M[Y]||C[Y]<0;w&&(d||S)&&(f=[e.map(Y=>Y.datum)].concat(f)),P=f.length?kF(I,f,G,S):function(e,r){const a=e.bitmap();return(r||[]).forEach(s=>a.set(e(s.boundary[0]),e(s.boundary[3]))),[a,void 0]}(I,d&&O)}const V=S?aW[_](I,P,d,p,N):function(e,r,a,s,l){const f=e.width,d=e.height,h=r[0],p=r[1],v=s.length;return function(_){const y=_.boundary,C=_.datum.fontSize;if(!l&&(y[2]<0||y[5]<0||y[0]>f||y[3]>d))return!1;let w,A,S,T,N,I,F,O,P,V,G,Y,W,X,re,M=0;for(let ie=0;ie<v;++ie){if(w=(3&a[ie])-1,A=(a[ie]>>>2&3)-1,S=0===w&&0===A||s[ie]<0,T=w&&A?Math.SQRT1_2:1,N=s[ie]<0?-1:1,I=y[1+w]+s[ie]*w*T,G=y[4+A]+N*C*A/2+s[ie]*A*T,O=G-C/2,P=G+C/2,Y=e(I),X=e(O),re=e(P),l&&(Y=Y<0?0:Y,X=X<0?0:X,re=re>=e.height?e.height-1:re),!M){if(!Vg(Y,Y,X,re,h,p,I,I,O,P,y,S))continue;M=rs.width(_.datum,_.datum.text)}if(V=I+N*M*w/2,I=V-M/2,F=V+M/2,Y=e(I),W=e(F),l&&(Y=Y<0?0:Y,W=W>=e.width?e.width-1:W),Vg(Y,W,X,re,h,p,I,F,O,P,y,S))return _.x=w?w*N<0?F:I:V,_.y=A?A*N<0?P:O:G,_.align=VF[w*N+1],_.baseline=OF[A*N+1],h.setRange(Y,X,W,re),!0}return!1}}(I,P,M,C,N);return O.forEach(G=>G.opacity=+V(G)),O}const v4=["x","y","opacity","align","baseline"],RE=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function $h(e){te.call(this,null,e)}function VE(e,r){var l,f,d,h,p,v,a=[],s=function(_){return _(h)};if(null==r)a.push(e);else for(l={},f=0,d=e.length;f<d;++f)h=e[f],(v=l[p=r.map(s)])||(l[p]=v=[],v.dims=p,a.push(v)),v.push(h);return a}function Pg(e){te.call(this,null,e)}$h.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:RE},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:v4.length,default:v4}]},(0,E.XW)($h,te,{transform(e,r){const s=e.modified();if(!(s||r.changed(r.ADD_REM)||function(f){const d=e.sort;return(0,E.mf)(d)&&r.modified(d.fields)}()))return;(!e.size||2!==e.size.length)&&(0,E.vU)("Size parameter should be specified as a [width, height] array.");const l=e.as||v4;return BF(r.materialize(r.SOURCE).source||[],e.size,e.sort,(0,E.IX)(null==e.offset?1:e.offset),(0,E.IX)(e.anchor||RE),e.avoidMarks||[],!1!==e.avoidBaseMark,e.lineAnchor||"end",e.markIndex||0,void 0===e.padding?0:e.padding,e.method||"naive").forEach(f=>{const d=f.datum;d[l[0]]=f.x,d[l[1]]=f.y,d[l[2]]=f.opacity,d[l[3]]=f.align,d[l[4]]=f.baseline}),r.reflow(s).modifies(l)}}),Pg.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},(0,E.XW)(Pg,te,{transform(e,r){const a=r.fork(r.NO_SOURCE|r.NO_FIELDS);if(!this.value||r.changed()||e.modified()){const l=VE(r.materialize(r.SOURCE).source,e.groupby),f=(e.groupby||[]).map(E.el),d=f.length,h=e.as||[(0,E.el)(e.x),(0,E.el)(e.y)],p=[];l.forEach(v=>{(function(e,r,a,s){const[l,f,d,h]=u0(e,r,a,!0),p=l.length,v=Math.max(2,~~(s*p)),_=new Float64Array(p),y=new Float64Array(p),C=new Float64Array(p).fill(1);for(let M=-1;++M<=2;){const w=[0,v-1];for(let S=0;S<p;++S){const T=l[S],N=w[0],I=w[1];let O=0,P=0,V=0,G=0,Y=0;const W=1/Math.abs(l[T-l[N]>l[I]-T?N:I]-T||1);for(let ie=N;ie<=I;++ie){const de=l[ie],J=f[ie],fe=xT(Math.abs(T-de)*W)*C[ie],ye=de*fe;O+=fe,P+=ye,V+=J*fe,G+=J*ye,Y+=de*ye}const[X,re]=l0(P/O,V/O,G/O,Y/O);_[S]=X+re*T,y[S]=Math.abs(f[S]-_[S]),jf(l,S+1,w)}if(2===M)break;const A=B7(y);if(Math.abs(A)<1e-12)break;for(let T,N,S=0;S<p;++S)T=y[S]/(6*A),C[S]=T>=1?1e-12:(N=1-T*T)*N}return function(e,r,a,s){const l=e.length,f=[];let v,d=0,h=0,p=[];for(;d<l;++d)v=e[d]+a,p[0]===v?p[1]+=(r[d]-p[1])/++h:(h=0,p[1]+=s,p=[v,r[d]],f.push(p));return p[1]+=s,f}(l,_,d,h)})(v,e.x,e.y,e.bandwidth||.3).forEach(_=>{const y={};for(let C=0;C<d;++C)y[f[C]]=v.dims[C];y[h[0]]=_[0],y[h[1]]=_[1],p.push($t(y))})}),this.value&&(a.rem=this.value),this.value=a.add=a.source=p}return a}});const i3={linear:ob,log:function(e,r,a){let s=0,l=0,f=0,d=0,h=0;Ks(e,r,a,(_,y)=>{++h,_=Math.log(_),s+=(_-s)/h,l+=(y-l)/h,f+=(_*y-f)/h,d+=(_*_-d)/h});const p=l0(s,l,f,d),v=_=>p[0]+p[1]*Math.log(_);return{coef:p,predict:v,rSquared:Ec(e,r,a,l,v)}},exp:function(e,r,a){const[s,l,f,d]=u0(e,r,a);let C,M,w,h=0,p=0,v=0,_=0,y=0;Ks(e,r,a,(N,I)=>{C=s[y++],M=Math.log(I),w=C*I,h+=(I*M-h)/y,p+=(w-p)/y,v+=(w*M-v)/y,_+=(C*w-_)/y});const[A,S]=l0(p/d,h/d,v/d,_/d),T=N=>Math.exp(A+S*(N-f));return{coef:[Math.exp(A-S*f),S],predict:T,rSquared:Ec(e,r,a,d,T)}},pow:function(e,r,a){let s=0,l=0,f=0,d=0,h=0,p=0;Ks(e,r,a,(y,C)=>{const M=Math.log(y),w=Math.log(C);++p,s+=(M-s)/p,l+=(w-l)/p,f+=(M*w-f)/p,d+=(M*M-d)/p,h+=(C-h)/p});const v=l0(s,l,f,d),_=y=>v[0]*Math.pow(y,v[1]);return v[0]=Math.exp(v[0]),{coef:v,predict:_,rSquared:Ec(e,r,a,h,_)}},quad:ab,poly:function(e,r,a,s){if(1===s)return ob(e,r,a);if(2===s)return ab(e,r,a);const[l,f,d,h]=u0(e,r,a),p=l.length,v=[],_=[],y=s+1;let C,M,w,A,S;for(C=0;C<y;++C){for(w=0,A=0;w<p;++w)A+=Math.pow(l[w],C)*f[w];for(v.push(A),S=new Float64Array(y),M=0;M<y;++M){for(w=0,A=0;w<p;++w)A+=Math.pow(l[w],C+M);S[M]=A}_.push(S)}_.push(v);const T=function(e){const r=e.length-1,a=[];let s,l,f,d,h;for(s=0;s<r;++s){for(d=s,l=s+1;l<r;++l)Math.abs(e[s][l])>Math.abs(e[s][d])&&(d=l);for(f=s;f<r+1;++f)h=e[f][s],e[f][s]=e[f][d],e[f][d]=h;for(l=s+1;l<r;++l)for(f=r;f>=s;f--)e[f][l]-=e[f][s]*e[s][l]/e[s][s]}for(l=r-1;l>=0;--l){for(h=0,f=l+1;f<r;++f)h+=e[f][l]*a[f];a[l]=(e[r][l]-h)/e[l][l]}return a}(_),N=I=>{let F=h+T[0]+T[1]*(I-=d)+T[2]*I*I;for(C=3;C<y;++C)F+=T[C]*Math.pow(I,C);return F};return{coef:sb(y,T,-d,h),predict:N,rSquared:Ec(e,r,a,h,N)}}};function Hg(e){te.call(this,null,e)}Hg.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(i3)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},(0,E.XW)(Hg,te,{transform(e,r){const a=r.fork(r.NO_SOURCE|r.NO_FIELDS);if(!this.value||r.changed()||e.modified()){const l=VE(r.materialize(r.SOURCE).source,e.groupby),f=(e.groupby||[]).map(E.el),d=e.method||"linear",h=e.order||3,p=((e,r)=>"poly"===e?r:"quad"===e?2:1)(d,h),v=e.as||[(0,E.el)(e.x),(0,E.el)(e.y)],_=i3[d],y=[];let C=e.extent;(0,E.nr)(i3,d)||(0,E.vU)("Invalid regression method: "+d),null!=C&&"log"===d&&C[0]<=0&&(r.dataflow.warn("Ignoring extent with values <= 0 for log regression."),C=null),l.forEach(M=>{if(M.length<=p)return void r.dataflow.warn("Skipping regression with more parameters than data points.");const A=_(M,e.x,e.y,h);if(e.params)return void y.push($t({keys:M.dims,coef:A.coef,rSquared:A.rSquared}));const S=C||(0,E.We)(M,e.x),T=N=>{const I={};for(let F=0;F<f.length;++F)I[f[F]]=M.dims[F];I[v[0]]=N[0],I[v[1]]=N[1],y.push($t(I))};"linear"===d?S.forEach(N=>T([N,A.predict(N)])):$7(A.predict,S,25,200).forEach(T)}),this.value&&(a.rem=this.value),this.value=a.add=a.source=y}return a}});const OE=Math.pow(2,-52),Bg=new Uint32Array(512);class jg{static from(r,a=GF,s=r3){const l=r.length,f=new Float64Array(2*l);for(let d=0;d<l;d++){const h=r[d];f[2*d]=a(h),f[2*d+1]=s(h)}return new jg(f)}constructor(r){const a=r.length>>1;if(a>0&&"number"!=typeof r[0])throw new Error("Expected coords to contain numbers.");this.coords=r;const s=Math.max(2*a-5,0);this._triangles=new Uint32Array(3*s),this._halfedges=new Int32Array(3*s),this._hashSize=Math.ceil(Math.sqrt(a)),this._hullPrev=new Uint32Array(a),this._hullNext=new Uint32Array(a),this._hullTri=new Uint32Array(a),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(a),this._dists=new Float64Array(a),this.update()}update(){const{coords:r,_hullPrev:a,_hullNext:s,_hullTri:l,_hullHash:f}=this,d=r.length>>1;let h=1/0,p=1/0,v=-1/0,_=-1/0;for(let W=0;W<d;W++){const X=r[2*W],re=r[2*W+1];X<h&&(h=X),re<p&&(p=re),X>v&&(v=X),re>_&&(_=re),this._ids[W]=W}const y=(h+v)/2,C=(p+_)/2;let w,A,S,M=1/0;for(let W=0;W<d;W++){const X=Ug(y,C,r[2*W],r[2*W+1]);X<M&&(w=W,M=X)}const T=r[2*w],N=r[2*w+1];M=1/0;for(let W=0;W<d;W++){if(W===w)continue;const X=Ug(T,N,r[2*W],r[2*W+1]);X<M&&X>0&&(A=W,M=X)}let I=r[2*A],F=r[2*A+1],O=1/0;for(let W=0;W<d;W++){if(W===w||W===A)continue;const X=qF(T,N,I,F,r[2*W],r[2*W+1]);X<O&&(S=W,O=X)}let P=r[2*S],V=r[2*S+1];if(O===1/0){for(let re=0;re<d;re++)this._dists[re]=r[2*re]-r[0]||r[2*re+1]-r[1];_4(this._ids,this._dists,0,d-1);const W=new Uint32Array(d);let X=0;for(let re=0,ie=-1/0;re<d;re++){const de=this._ids[re];this._dists[de]>ie&&(W[X++]=de,ie=this._dists[de])}return this.hull=W.subarray(0,X),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Wh(T,N,I,F,P,V)){const W=A,X=I,re=F;A=S,I=P,F=V,S=W,P=X,V=re}const G=function(e,r,a,s,l,f){const d=a-e,h=s-r,p=l-e,v=f-r,_=d*d+h*h,y=p*p+v*v,C=.5/(d*v-h*p);return{x:e+(v*_-h*y)*C,y:r+(d*y-p*_)*C}}(T,N,I,F,P,V);this._cx=G.x,this._cy=G.y;for(let W=0;W<d;W++)this._dists[W]=Ug(r[2*W],r[2*W+1],G.x,G.y);_4(this._ids,this._dists,0,d-1),this._hullStart=w;let Y=3;s[w]=a[S]=A,s[A]=a[w]=S,s[S]=a[A]=w,l[w]=0,l[A]=1,l[S]=2,f.fill(-1),f[this._hashKey(T,N)]=w,f[this._hashKey(I,F)]=A,f[this._hashKey(P,V)]=S,this.trianglesLen=0,this._addTriangle(w,A,S,-1,-1,-1);for(let X,re,W=0;W<this._ids.length;W++){const ie=this._ids[W],de=r[2*ie],J=r[2*ie+1];if(W>0&&Math.abs(de-X)<=OE&&Math.abs(J-re)<=OE||(X=de,re=J,ie===w||ie===A||ie===S))continue;let fe=0;for(let hn=0,vn=this._hashKey(de,J);hn<this._hashSize&&(fe=f[(vn+hn)%this._hashSize],-1===fe||fe===s[fe]);hn++);fe=a[fe];let Se,ye=fe;for(;Se=s[ye],!Wh(de,J,r[2*ye],r[2*ye+1],r[2*Se],r[2*Se+1]);)if(ye=Se,ye===fe){ye=-1;break}if(-1===ye)continue;let $e=this._addTriangle(ye,ie,s[ye],-1,-1,l[ye]);l[ie]=this._legalize($e+2),l[ye]=$e,Y++;let xt=s[ye];for(;Se=s[xt],Wh(de,J,r[2*xt],r[2*xt+1],r[2*Se],r[2*Se+1]);)$e=this._addTriangle(xt,ie,Se,l[ie],-1,l[xt]),l[ie]=this._legalize($e+2),s[xt]=xt,Y--,xt=Se;if(ye===fe)for(;Se=a[ye],Wh(de,J,r[2*Se],r[2*Se+1],r[2*ye],r[2*ye+1]);)$e=this._addTriangle(Se,ie,ye,-1,l[ye],l[Se]),this._legalize($e+2),l[Se]=$e,s[ye]=ye,Y--,ye=Se;this._hullStart=a[ie]=ye,s[ye]=a[xt]=ie,s[ie]=xt,f[this._hashKey(de,J)]=ie,f[this._hashKey(r[2*ye],r[2*ye+1])]=ye}this.hull=new Uint32Array(Y);for(let W=0,X=this._hullStart;W<Y;W++)this.hull[W]=X,X=s[X];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(r,a){return Math.floor(function(e,r){const a=e/(Math.abs(e)+Math.abs(r));return(r>0?3-a:1+a)/4}(r-this._cx,a-this._cy)*this._hashSize)%this._hashSize}_legalize(r){const{_triangles:a,_halfedges:s,coords:l}=this;let f=0,d=0;for(;;){const h=s[r],p=r-r%3;if(d=p+(r+2)%3,-1===h){if(0===f)break;r=Bg[--f];continue}const v=h-h%3,y=v+(h+2)%3,C=a[d],M=a[r],w=a[p+(r+1)%3],A=a[y];if(PE(l[2*C],l[2*C+1],l[2*M],l[2*M+1],l[2*w],l[2*w+1],l[2*A],l[2*A+1])){a[r]=A,a[h]=C;const T=s[y];if(-1===T){let I=this._hullStart;do{if(this._hullTri[I]===y){this._hullTri[I]=r;break}I=this._hullPrev[I]}while(I!==this._hullStart)}this._link(r,T),this._link(h,s[d]),this._link(d,y);const N=v+(h+1)%3;f<Bg.length&&(Bg[f++]=N)}else{if(0===f)break;r=Bg[--f]}}return d}_link(r,a){this._halfedges[r]=a,-1!==a&&(this._halfedges[a]=r)}_addTriangle(r,a,s,l,f,d){const h=this.trianglesLen;return this._triangles[h]=r,this._triangles[h+1]=a,this._triangles[h+2]=s,this._link(h,l),this._link(h+1,f),this._link(h+2,d),this.trianglesLen+=3,h}}function Ug(e,r,a,s){const l=e-a,f=r-s;return l*l+f*f}function $g(e,r,a,s,l,f){const d=(s-r)*(l-e),h=(a-e)*(f-r);return Math.abs(d-h)>=33306690738754716e-32*Math.abs(d+h)?d-h:0}function Wh(e,r,a,s,l,f){return($g(l,f,e,r,a,s)||$g(e,r,a,s,l,f)||$g(a,s,l,f,e,r))<0}function PE(e,r,a,s,l,f,d,h){const p=e-d,v=r-h,_=a-d,y=s-h,C=l-d,M=f-h,A=_*_+y*y,S=C*C+M*M;return p*(y*S-A*M)-v*(_*S-A*C)+(p*p+v*v)*(_*M-y*C)<0}function qF(e,r,a,s,l,f){const d=a-e,h=s-r,p=l-e,v=f-r,_=d*d+h*h,y=p*p+v*v,C=.5/(d*v-h*p),M=(v*_-h*y)*C,w=(d*y-p*_)*C;return M*M+w*w}function _4(e,r,a,s){if(s-a<=20)for(let l=a+1;l<=s;l++){const f=e[l],d=r[f];let h=l-1;for(;h>=a&&r[e[h]]>d;)e[h+1]=e[h--];e[h+1]=f}else{let f=a+1,d=s;Gh(e,a+s>>1,f),r[e[a]]>r[e[s]]&&Gh(e,a,s),r[e[f]]>r[e[s]]&&Gh(e,f,s),r[e[a]]>r[e[f]]&&Gh(e,a,f);const h=e[f],p=r[h];for(;;){do{f++}while(r[e[f]]<p);do{d--}while(r[e[d]]>p);if(d<f)break;Gh(e,f,d)}e[a+1]=e[d],e[d]=h,s-f+1>=d-a?(_4(e,r,f,s),_4(e,r,a,d-1)):(_4(e,r,a,d-1),_4(e,r,f,s))}}function Gh(e,r,a){const s=e[r];e[r]=e[a],e[a]=s}function GF(e){return e[0]}function r3(e){return e[1]}class Ms{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(r,a){this._+=`M${this._x0=this._x1=+r},${this._y0=this._y1=+a}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(r,a){this._+=`L${this._x1=+r},${this._y1=+a}`}arc(r,a,s){const l=(r=+r)+(s=+s),f=a=+a;if(s<0)throw new Error("negative radius");null===this._x1?this._+=`M${l},${f}`:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-f)>1e-6)&&(this._+="L"+l+","+f),s&&(this._+=`A${s},${s},0,1,1,${r-s},${a}A${s},${s},0,1,1,${this._x1=l},${this._y1=f}`)}rect(r,a,s,l){this._+=`M${this._x0=this._x1=+r},${this._y0=this._y1=+a}h${+s}v${+l}h${-s}Z`}value(){return this._||null}}class Xh{constructor(){this._=[]}moveTo(r,a){this._.push([r,a])}closePath(){this._.push(this._[0].slice())}lineTo(r,a){this._.push([r,a])}value(){return this._.length?this._:null}}class a3{constructor(r,[a,s,l,f]=[0,0,960,500]){if(!((l=+l)>=(a=+a)&&(f=+f)>=(s=+s)))throw new Error("invalid bounds");this.delaunay=r,this._circumcenters=new Float64Array(2*r.points.length),this.vectors=new Float64Array(2*r.points.length),this.xmax=l,this.xmin=a,this.ymax=f,this.ymin=s,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:r,hull:a,triangles:s},vectors:l}=this,f=this.circumcenters=this._circumcenters.subarray(0,s.length/3*2);for(let S,T,M=0,w=0,A=s.length;M<A;M+=3,w+=2){const N=2*s[M],I=2*s[M+1],F=2*s[M+2],O=r[N],P=r[N+1],Y=r[F],W=r[F+1],X=r[I]-O,re=r[I+1]-P,ie=Y-O,de=W-P,J=X*X+re*re,fe=ie*ie+de*de,ye=2*(X*de-re*ie);if(ye)if(Math.abs(ye)<1e-8)S=(O+Y)/2,T=(P+W)/2;else{const Se=1/ye;S=O+(de*J-re*fe)*Se,T=P+(X*fe-ie*J)*Se}else S=(O+Y)/2-1e8*de,T=(P+W)/2+1e8*ie;f[w]=S,f[w+1]=T}let h,v,y,d=a[a.length-1],p=4*d,_=r[2*d],C=r[2*d+1];l.fill(0);for(let M=0;M<a.length;++M)d=a[M],h=p,v=_,y=C,p=4*d,_=r[2*d],C=r[2*d+1],l[h+2]=l[p]=y-C,l[h+3]=l[p+1]=_-v}render(r){const a=null==r?r=new Ms:void 0,{delaunay:{halfedges:s,inedges:l,hull:f},circumcenters:d,vectors:h}=this;if(f.length<=1)return null;for(let _=0,y=s.length;_<y;++_){const C=s[_];if(C<_)continue;const M=2*Math.floor(_/3),w=2*Math.floor(C/3);this._renderSegment(d[M],d[M+1],d[w],d[w+1],r)}let p,v=f[f.length-1];for(let _=0;_<f.length;++_){p=v,v=f[_];const y=2*Math.floor(l[v]/3),C=d[y],M=d[y+1],w=4*p,A=this._project(C,M,h[w+2],h[w+3]);A&&this._renderSegment(C,M,A[0],A[1],r)}return a&&a.value()}renderBounds(r){const a=null==r?r=new Ms:void 0;return r.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),a&&a.value()}renderCell(r,a){const s=null==a?a=new Ms:void 0,l=this._clip(r);if(null===l||!l.length)return;a.moveTo(l[0],l[1]);let f=l.length;for(;l[0]===l[f-2]&&l[1]===l[f-1]&&f>1;)f-=2;for(let d=2;d<f;d+=2)(l[d]!==l[d-2]||l[d+1]!==l[d-1])&&a.lineTo(l[d],l[d+1]);return a.closePath(),s&&s.value()}*cellPolygons(){const{delaunay:{points:r}}=this;for(let a=0,s=r.length/2;a<s;++a){const l=this.cellPolygon(a);l&&(l.index=a,yield l)}}cellPolygon(r){const a=new Xh;return this.renderCell(r,a),a.value()}_renderSegment(r,a,s,l,f){let d;const h=this._regioncode(r,a),p=this._regioncode(s,l);0===h&&0===p?(f.moveTo(r,a),f.lineTo(s,l)):(d=this._clipSegment(r,a,s,l,h,p))&&(f.moveTo(d[0],d[1]),f.lineTo(d[2],d[3]))}contains(r,a,s){return(a=+a)==a&&(s=+s)==s&&this.delaunay._step(r,a,s)===r}*neighbors(r){const a=this._clip(r);if(a)for(const s of this.delaunay.neighbors(r)){const l=this._clip(s);if(l)e:for(let f=0,d=a.length;f<d;f+=2)for(let h=0,p=l.length;h<p;h+=2)if(a[f]==l[h]&&a[f+1]==l[h+1]&&a[(f+2)%d]==l[(h+p-2)%p]&&a[(f+3)%d]==l[(h+p-1)%p]){yield s;break e}}}_cell(r){const{circumcenters:a,delaunay:{inedges:s,halfedges:l,triangles:f}}=this,d=s[r];if(-1===d)return null;const h=[];let p=d;do{const v=Math.floor(p/3);if(h.push(a[2*v],a[2*v+1]),p=p%3==2?p-2:p+1,f[p]!==r)break;p=l[p]}while(p!==d&&-1!==p);return h}_clip(r){if(0===r&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const a=this._cell(r);if(null===a)return null;const{vectors:s}=this,l=4*r;return s[l]||s[l+1]?this._clipInfinite(r,a,s[l],s[l+1],s[l+2],s[l+3]):this._clipFinite(r,a)}_clipFinite(r,a){const s=a.length;let f,d,v,y,C,l=null,h=a[s-2],p=a[s-1],_=this._regioncode(h,p);for(let M=0;M<s;M+=2)if(f=h,d=p,h=a[M],p=a[M+1],v=_,_=this._regioncode(h,p),0===v&&0===_)y=C,C=0,l?l.push(h,p):l=[h,p];else{let w,A,S,T,N;if(0===v){if(null===(w=this._clipSegment(f,d,h,p,v,_)))continue;[A,S,T,N]=w}else{if(null===(w=this._clipSegment(h,p,f,d,_,v)))continue;[T,N,A,S]=w,y=C,C=this._edgecode(A,S),y&&C&&this._edge(r,y,C,l,l.length),l?l.push(A,S):l=[A,S]}y=C,C=this._edgecode(T,N),y&&C&&this._edge(r,y,C,l,l.length),l?l.push(T,N):l=[T,N]}if(l)y=C,C=this._edgecode(l[0],l[1]),y&&C&&this._edge(r,y,C,l,l.length);else if(this.contains(r,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return l}_clipSegment(r,a,s,l,f,d){for(;;){if(0===f&&0===d)return[r,a,s,l];if(f&d)return null;let h,p,v=f||d;8&v?(h=r+(s-r)*(this.ymax-a)/(l-a),p=this.ymax):4&v?(h=r+(s-r)*(this.ymin-a)/(l-a),p=this.ymin):2&v?(p=a+(l-a)*(this.xmax-r)/(s-r),h=this.xmax):(p=a+(l-a)*(this.xmin-r)/(s-r),h=this.xmin),f?f=this._regioncode(r=h,a=p):d=this._regioncode(s=h,l=p)}}_clipInfinite(r,a,s,l,f,d){let p,h=Array.from(a);if((p=this._project(h[0],h[1],s,l))&&h.unshift(p[0],p[1]),(p=this._project(h[h.length-2],h[h.length-1],f,d))&&h.push(p[0],p[1]),h=this._clipFinite(r,h))for(let y,v=0,_=h.length,C=this._edgecode(h[_-2],h[_-1]);v<_;v+=2)y=C,C=this._edgecode(h[v],h[v+1]),y&&C&&(v=this._edge(r,y,C,h,v),_=h.length);else this.contains(r,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(h=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return h}_edge(r,a,s,l,f){for(;a!==s;){let d,h;switch(a){case 5:a=4;continue;case 4:a=6,d=this.xmax,h=this.ymin;break;case 6:a=2;continue;case 2:a=10,d=this.xmax,h=this.ymax;break;case 10:a=8;continue;case 8:a=9,d=this.xmin,h=this.ymax;break;case 9:a=1;continue;case 1:a=5,d=this.xmin,h=this.ymin}(l[f]!==d||l[f+1]!==h)&&this.contains(r,d,h)&&(l.splice(f,0,d,h),f+=2)}if(l.length>4)for(let d=0;d<l.length;d+=2){const h=(d+2)%l.length,p=(d+4)%l.length;(l[d]===l[h]&&l[h]===l[p]||l[d+1]===l[h+1]&&l[h+1]===l[p+1])&&(l.splice(h,2),d-=2)}return f}_project(r,a,s,l){let d,h,p,f=1/0;if(l<0){if(a<=this.ymin)return null;(d=(this.ymin-a)/l)<f&&(p=this.ymin,h=r+(f=d)*s)}else if(l>0){if(a>=this.ymax)return null;(d=(this.ymax-a)/l)<f&&(p=this.ymax,h=r+(f=d)*s)}if(s>0){if(r>=this.xmax)return null;(d=(this.xmax-r)/s)<f&&(h=this.xmax,p=a+(f=d)*l)}else if(s<0){if(r<=this.xmin)return null;(d=(this.xmin-r)/s)<f&&(h=this.xmin,p=a+(f=d)*l)}return[h,p]}_edgecode(r,a){return(r===this.xmin?1:r===this.xmax?2:0)|(a===this.ymin?4:a===this.ymax?8:0)}_regioncode(r,a){return(r<this.xmin?1:r>this.xmax?2:0)|(a<this.ymin?4:a>this.ymax?8:0)}}const HE=2*Math.PI,V2=Math.pow;function qg(e){return e[0]}function BE(e){return e[1]}function XF(e,r,a){return[e+Math.sin(e+r)*a,r+Math.cos(e-r)*a]}class Wg{static from(r,a=qg,s=BE,l){return new Wg("length"in r?function(e,r,a,s){const l=e.length,f=new Float64Array(2*l);for(let d=0;d<l;++d){const h=e[d];f[2*d]=r.call(s,h,d,e),f[2*d+1]=a.call(s,h,d,e)}return f}(r,a,s,l):Float64Array.from(function*(e,r,a,s){let l=0;for(const f of e)yield r.call(s,f,l,e),yield a.call(s,f,l,e),++l}(r,a,s,l)))}constructor(r){this._delaunator=new jg(r),this.inedges=new Int32Array(r.length/2),this._hullIndex=new Int32Array(r.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const r=this._delaunator,a=this.points;if(r.hull&&r.hull.length>2&&function(e){const{triangles:r,coords:a}=e;for(let s=0;s<r.length;s+=3){const l=2*r[s],f=2*r[s+1],d=2*r[s+2];if((a[d]-a[l])*(a[f+1]-a[l+1])-(a[f]-a[l])*(a[d+1]-a[l+1])>1e-10)return!1}return!0}(r)){this.collinear=Int32Array.from({length:a.length/2},(C,M)=>M).sort((C,M)=>a[2*C]-a[2*M]||a[2*C+1]-a[2*M+1]);const p=this.collinear[0],v=this.collinear[this.collinear.length-1],_=[a[2*p],a[2*p+1],a[2*v],a[2*v+1]],y=1e-8*Math.hypot(_[3]-_[1],_[2]-_[0]);for(let C=0,M=a.length/2;C<M;++C){const w=XF(a[2*C],a[2*C+1],y);a[2*C]=w[0],a[2*C+1]=w[1]}this._delaunator=new jg(a)}else delete this.collinear;const s=this.halfedges=this._delaunator.halfedges,l=this.hull=this._delaunator.hull,f=this.triangles=this._delaunator.triangles,d=this.inedges.fill(-1),h=this._hullIndex.fill(-1);for(let p=0,v=s.length;p<v;++p){const _=f[p%3==2?p-2:p+1];(-1===s[p]||-1===d[_])&&(d[_]=p)}for(let p=0,v=l.length;p<v;++p)h[l[p]]=p;l.length<=2&&l.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=l[0],this.triangles[1]=l[1],this.triangles[2]=l[1],d[l[0]]=1,2===l.length&&(d[l[1]]=0))}voronoi(r){return new a3(this,r)}*neighbors(r){const{inedges:a,hull:s,_hullIndex:l,halfedges:f,triangles:d,collinear:h}=this;if(h){const y=h.indexOf(r);return y>0&&(yield h[y-1]),void(y<h.length-1&&(yield h[y+1]))}const p=a[r];if(-1===p)return;let v=p,_=-1;do{if(yield _=d[v],v=v%3==2?v-2:v+1,d[v]!==r)return;if(v=f[v],-1===v){const y=s[(l[r]+1)%s.length];return void(y!==_&&(yield y))}}while(v!==p)}find(r,a,s=0){if((r=+r)!=r||(a=+a)!=a)return-1;const l=s;let f;for(;(f=this._step(s,r,a))>=0&&f!==s&&f!==l;)s=f;return f}_step(r,a,s){const{inedges:l,hull:f,_hullIndex:d,halfedges:h,triangles:p,points:v}=this;if(-1===l[r]||!v.length)return(r+1)%(v.length>>1);let _=r,y=V2(a-v[2*r],2)+V2(s-v[2*r+1],2);const C=l[r];let M=C;do{let w=p[M];const A=V2(a-v[2*w],2)+V2(s-v[2*w+1],2);if(A<y&&(y=A,_=w),M=M%3==2?M-2:M+1,p[M]!==r)break;if(M=h[M],-1===M){if(M=f[(d[r]+1)%f.length],M!==w&&V2(a-v[2*M],2)+V2(s-v[2*M+1],2)<y)return M;break}}while(M!==C);return _}render(r){const a=null==r?r=new Ms:void 0,{points:s,halfedges:l,triangles:f}=this;for(let d=0,h=l.length;d<h;++d){const p=l[d];if(p<d)continue;const v=2*f[d],_=2*f[p];r.moveTo(s[v],s[v+1]),r.lineTo(s[_],s[_+1])}return this.renderHull(r),a&&a.value()}renderPoints(r,a=2){const s=null==r?r=new Ms:void 0,{points:l}=this;for(let f=0,d=l.length;f<d;f+=2){const h=l[f],p=l[f+1];r.moveTo(h+a,p),r.arc(h,p,a,0,HE)}return s&&s.value()}renderHull(r){const a=null==r?r=new Ms:void 0,{hull:s,points:l}=this,f=2*s[0],d=s.length;r.moveTo(l[f],l[f+1]);for(let h=1;h<d;++h){const p=2*s[h];r.lineTo(l[p],l[p+1])}return r.closePath(),a&&a.value()}hullPolygon(){const r=new Xh;return this.renderHull(r),r.value()}renderTriangle(r,a){const s=null==a?a=new Ms:void 0,{points:l,triangles:f}=this,d=2*f[r*=3],h=2*f[r+1],p=2*f[r+2];return a.moveTo(l[d],l[d+1]),a.lineTo(l[h],l[h+1]),a.lineTo(l[p],l[p+1]),a.closePath(),s&&s.value()}*trianglePolygons(){const{triangles:r}=this;for(let a=0,s=r.length/3;a<s;++a)yield this.trianglePolygon(a)}trianglePolygon(r){const a=new Xh;return this.renderTriangle(r,a),a.value()}}function y4(e){te.call(this,null,e)}y4.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const UE=[-1e5,-1e5,1e5,1e5];function sW(e){const r=e[0][0],a=e[0][1];let s=e.length-1;for(;e[s][0]===r&&e[s][1]===a;--s);return"M"+e.slice(0,s+1).join("L")+"Z"}(0,E.XW)(y4,te,{transform(e,r){const a=e.as||"path",s=r.source;if(!s||!s.length)return r;let l=e.size;l=l?[0,0,l[0],l[1]]:(l=e.extent)?[l[0][0],l[0][1],l[1][0],l[1][1]]:UE;const f=this.value=Wg.from(s,e.x,e.y).voronoi(l);for(let d=0,h=s.length;d<h;++d){const p=f.cellPolygon(d);s[d][a]=p?sW(p):null}return r.reflow(e.modified()).modifies(a)}});var b4=Math.PI/180;function KF(e,r,a,s){if(!r.sprite){var l=e.context,f=e.ratio;l.clearRect(0,0,2048/f,2048/f);var _,y,C,M,w,d=0,h=0,p=0,v=a.length;for(--s;++s<v;){if(r=a[s],l.save(),l.font=r.style+" "+r.weight+" "+~~((r.size+1)/f)+"px "+r.font,_=l.measureText(r.text+"m").width*f,C=r.size<<1,r.rotate){var A=Math.sin(r.rotate*b4),S=Math.cos(r.rotate*b4),T=_*S,N=_*A,I=C*S,F=C*A;_=Math.max(Math.abs(T+F),Math.abs(T-F))+31>>5<<5,C=~~Math.max(Math.abs(N+I),Math.abs(N-I))}else _=_+31>>5<<5;if(C>p&&(p=C),d+_>=2048&&(d=0,h+=p,p=0),h+C>=2048)break;l.translate((d+(_>>1))/f,(h+(C>>1))/f),r.rotate&&l.rotate(r.rotate*b4),l.fillText(r.text,0,0),r.padding&&(l.lineWidth=2*r.padding,l.strokeText(r.text,0,0)),l.restore(),r.width=_,r.height=C,r.xoff=d,r.yoff=h,r.x1=_>>1,r.y1=C>>1,r.x0=-r.x1,r.y0=-r.y1,r.hasText=!0,d+=_}for(var O=l.getImageData(0,0,2048/f,2048/f).data,P=[];--s>=0;)if((r=a[s]).hasText){for(y=(_=r.width)>>5,C=r.y1-r.y0,M=0;M<C*y;M++)P[M]=0;if(null==(d=r.xoff))return;h=r.yoff;var V=0,G=-1;for(w=0;w<C;w++){for(M=0;M<_;M++){var W=O[2048*(h+w)+(d+M)<<2]?1<<31-M%32:0;P[y*w+(M>>5)]|=W,V|=W}V?G=w:(r.y0++,C--,w--,h++)}r.y1=r.y0+G,r.sprite=P.slice(0,(r.y1-r.y0)*y)}}}function QF(e,r,a){for(var _,s=e.sprite,l=e.width>>5,f=e.x-(l<<4),d=127&f,h=32-d,p=e.y1-e.y0,v=(e.y+e.y0)*(a>>=5)+(f>>5),y=0;y<p;y++){_=0;for(var C=0;C<=l;C++)if((_<<h|(C<l?(_=s[y*l+C])>>>d:0))&r[v+C])return!0;v+=a}return!1}function JF(e,r){var a=e[0],s=e[1];r.x+r.x0<a.x&&(a.x=r.x+r.x0),r.y+r.y0<a.y&&(a.y=r.y+r.y0),r.x+r.x1>s.x&&(s.x=r.x+r.x1),r.y+r.y1>s.y&&(s.y=r.y+r.y1)}function eR(e,r){return e.x+e.x1>r[0].x&&e.x+e.x0<r[1].x&&e.y+e.y1>r[0].y&&e.y+e.y0<r[1].y}function Zh(e){var r=e[0]/e[1];return function(a){return[r*(a*=.1)*Math.cos(a),a*Math.sin(a)]}}function vl(e){return"function"==typeof e?e:function(){return e}}var nR={archimedean:Zh,rectangular:function(e){var a=4*e[0]/e[1],s=0,l=0;return function(f){var d=f<0?-1:1;switch(Math.sqrt(1+4*d*f)-d&3){case 0:s+=a;break;case 1:l+=4;break;case 2:s-=a;break;default:l-=4}return[s,l]}}};const iR=["x","y","font","fontSize","fontStyle","fontWeight","angle"],rR=["text","font","rotate","fontSize","fontStyle","fontWeight"];function WE(e){te.call(this,function(){var r,a,s,l,f,d,h,e=[256,256],p=Zh,v=[],_=Math.random,y={};function M(w,A,S){for(var V,G,Y,T=A.x,N=A.y,I=Math.sqrt(e[0]*e[0]+e[1]*e[1]),F=p(e),O=_()<.5?1:-1,P=-O;(V=F(P+=O))&&(G=~~V[0],Y=~~V[1],!(Math.min(Math.abs(G),Math.abs(Y))>=I));)if(A.x=T+G,A.y=N+Y,!(A.x+A.x0<0||A.y+A.y0<0||A.x+A.x1>e[0]||A.y+A.y1>e[1])&&(!S||!QF(A,w,e[0]))&&(!S||eR(A,S))){for(var Se,W=A.sprite,X=A.width>>5,re=e[0]>>5,ie=A.x-(X<<4),de=127&ie,J=32-de,fe=A.y1-A.y0,ye=(A.y+A.y0)*re+(ie>>5),$e=0;$e<fe;$e++){Se=0;for(var xt=0;xt<=X;xt++)w[ye+xt]|=Se<<J|(xt<X?(Se=W[$e*X+xt])>>>de:0);ye+=re}return A.sprite=null,!0}return!1}return y.layout=function(){for(var w=function(w){w.width=w.height=1;var A=Math.sqrt(w.getContext("2d").getImageData(0,0,1,1).data.length>>2);w.width=2048/A,w.height=2048/A;var S=w.getContext("2d");return S.fillStyle=S.strokeStyle="red",S.textAlign="center",{context:S,ratio:A}}(r2()),A=function(e){for(var r=[],a=-1;++a<e;)r[a]=0;return r}((e[0]>>5)*e[1]),S=null,T=v.length,N=-1,I=[],F=v.map(P=>({text:r(P),font:a(P),style:l(P),weight:f(P),rotate:d(P),size:~~(s(P)+1e-14),padding:h(P),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:P})).sort((P,V)=>V.size-P.size);++N<T;){var O=F[N];O.x=e[0]*(_()+.5)>>1,O.y=e[1]*(_()+.5)>>1,KF(w,O,F,N),O.hasText&&M(A,O,S)&&(I.push(O),S?JF(S,O):S=[{x:O.x+O.x0,y:O.y+O.y0},{x:O.x+O.x1,y:O.y+O.y1}],O.x-=e[0]>>1,O.y-=e[1]>>1)}return I},y.words=function(w){return arguments.length?(v=w,y):v},y.size=function(w){return arguments.length?(e=[+w[0],+w[1]],y):e},y.font=function(w){return arguments.length?(a=vl(w),y):a},y.fontStyle=function(w){return arguments.length?(l=vl(w),y):l},y.fontWeight=function(w){return arguments.length?(f=vl(w),y):f},y.rotate=function(w){return arguments.length?(d=vl(w),y):d},y.text=function(w){return arguments.length?(r=vl(w),y):r},y.spiral=function(w){return arguments.length?(p=nR[w]||w,y):p},y.fontSize=function(w){return arguments.length?(s=vl(w),y):s},y.padding=function(w){return arguments.length?(h=vl(w),y):h},y.random=function(w){return arguments.length?(_=w,y):_},y}(),e)}WE.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:iR}]},(0,E.XW)(WE,te,{transform(e,r){e.size&&(!e.size[0]||!e.size[1])&&(0,E.vU)("Wordcloud size dimensions must be non-zero.");const s=e.modified();if(!(s||r.changed(r.ADD_REM)||rR.some(function(w){const A=e[w];return(0,E.mf)(A)&&r.modified(A.fields)})))return;const l=r.materialize(r.SOURCE).source,f=this.value,d=e.as||iR;let p,h=e.fontSize||14;if((0,E.mf)(h)?p=e.fontSizeRange:h=(0,E.a9)(h),p){const w=h,A=Ht("sqrt")().domain((0,E.We)(l,w)).range(p);h=S=>A(w(S))}l.forEach(w=>{w[d[0]]=NaN,w[d[1]]=NaN,w[d[3]]=0});const v=f.words(l).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(h).random(lr).layout(),_=f.size(),y=_[0]>>1,C=_[1]>>1,M=v.length;for(let A,S,w=0;w<M;++w)A=v[w],S=A.datum,S[d[0]]=A.x+y,S[d[1]]=A.y+C,S[d[2]]=A.font,S[d[3]]=A.size,S[d[4]]=A.style,S[d[5]]=A.weight,S[d[6]]=A.rotate;return r.reflow(s).modifies(d)}});const oR=e=>new Uint8Array(e),aR=e=>new Uint16Array(e),C4=e=>new Uint32Array(e);function Kh(e,r,a){const s=(r<257?oR:r<65537?aR:C4)(e);return a&&s.set(a),s}function _l(e,r,a){const s=1<<r;return{one:s,zero:~s,range:a.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(l,f){const d=this,h=d.bisect(d.range,l.value),p=l.index,v=h[0],_=h[1],y=p.length;let C;for(C=0;C<v;++C)f[p[C]]|=s;for(C=_;C<y;++C)f[p[C]]|=s;return d}}}function XE(){let e=C4(0),r=[],a=0;return{insert:function(h,p,v){if(!p.length)return[];const _=a,y=p.length,C=C4(y);let w,A,S,M=Array(y);for(S=0;S<y;++S)M[S]=h(p[S]),C[S]=S;if(M=function(e,r){return e.sort.call(r,(a,s)=>{const l=e[a],f=e[s];return l<f?-1:l>f?1:0}),function(e,r){return Array.from(r,a=>e[a])}(e,r)}(M,C),_)w=r,A=e,r=Array(_+y),e=C4(_+y),function(e,r,a,s,l,f,d,h,p){let y,v=0,_=0;for(y=0;v<s&&_<d;++y)r[v]<l[_]?(h[y]=r[v],p[y]=a[v++]):(h[y]=l[_],p[y]=f[_++]+e);for(;v<s;++v,++y)h[y]=r[v],p[y]=a[v];for(;_<d;++_,++y)h[y]=l[_],p[y]=f[_]+e}(v,w,A,_,M,C,y,r,e);else{if(v>0)for(S=0;S<y;++S)C[S]+=v;r=M,e=C}return a=_+y,{index:C,value:M}},remove:function(h,p){const v=a;let _,y,C;for(y=0;!p[e[y]]&&y<v;++y);for(C=y;y<v;++y)p[_=e[y]]||(e[C]=_,r[C]=r[y],++C);a=v-h},bisect:function(h,p){let v;return p?v=p.length:(p=r,v=a),[tz(p,h[0],0,v),v8(p,h[1],0,v)]},reindex:function(h){for(let p=0,v=a;p<v;++p)e[p]=h[e[p]]},index:()=>e,size:()=>a}}function Xg(e){te.call(this,function(){let e=8,r=[],a=C4(0),s=Kh(0,e),l=Kh(0,e);return{data:()=>r,seen:()=>a=function(e,r,a){return e.length>=r?e:((a=a||new e.constructor(r)).set(e),a)}(a,r.length),add(f){for(let v,d=0,h=r.length,p=f.length;d<p;++d)v=f[d],v._index=h++,r.push(v)},remove(f,d){const h=r.length,p=Array(h-f),v=r;let _,y,C;for(y=0;!d[y]&&y<h;++y)p[y]=r[y],v[y]=y;for(C=y;y<h;++y)_=r[y],d[y]?v[y]=-1:(v[y]=C,s[C]=s[y],l[C]=l[y],p[C]=_,_._index=C++),s[y]=0;return r=p,v},size:()=>r.length,curr:()=>s,prev:()=>l,reset:f=>l[f]=s[f],all:()=>e<257?255:e<65537?65535:4294967295,set(f,d){s[f]|=d},clear(f,d){s[f]&=~d},resize(f,d){(f>s.length||d>e)&&(e=Math.max(d,e),s=Kh(f,e,s),l=Kh(f,e))}}}(),e),this._indices=null,this._dims=null}function Yg(e){te.call(this,null,e)}Xg.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},(0,E.XW)(Xg,te,{transform(e,r){return this._dims?e.modified("fields")||e.fields.some(s=>r.modified(s.fields))?this.reinit(e,r):this.eval(e,r):this.init(e,r)},init(e,r){const a=e.fields,s=e.query,l=this._indices={},f=this._dims=[],d=s.length;let p,v,h=0;for(;h<d;++h)p=a[h].fname,v=l[p]||(l[p]=XE()),f.push(_l(v,h,s[h]));return this.eval(e,r)},reinit(e,r){const a=r.materialize().fork(),s=e.fields,l=e.query,f=this._indices,d=this._dims,h=this.value,p=h.curr(),v=h.prev(),_=h.all(),y=a.rem=a.add,C=a.mod,M=l.length,w={};let A,S,T,N,I,F,O,P,V;if(v.set(p),r.rem.length&&(I=this.remove(e,r,a)),r.add.length&&h.add(r.add),r.mod.length)for(F={},N=r.mod,O=0,P=N.length;O<P;++O)F[N[O]._index]=1;for(O=0;O<M;++O)V=s[O],(!d[O]||e.modified("fields",O)||r.modified(V.fields))&&(T=V.fname,(A=w[T])||(f[T]=S=XE(),w[T]=A=S.insert(V,r.source,0)),d[O]=_l(S,O,l[O]).onAdd(A,p));for(O=0,P=h.data().length;O<P;++O)I[O]||(v[O]!==p[O]?y.push(O):F[O]&&p[O]!==_&&C.push(O));return h.mask=(1<<M)-1,a},eval(e,r){const a=r.materialize().fork(),s=this._dims.length;let l=0;return r.rem.length&&(this.remove(e,r,a),l|=(1<<s)-1),e.modified("query")&&!e.modified("fields")&&(l|=this.update(e,r,a)),r.add.length&&(this.insert(e,r,a),l|=(1<<s)-1),r.mod.length&&(this.modify(r,a),l|=(1<<s)-1),this.value.mask=l,a},insert(e,r,a){const s=r.add,l=this.value,f=this._dims,d=this._indices,h=e.fields,p={},v=a.add,_=l.size()+s.length,y=f.length;let M,w,A,C=l.size();l.resize(_,y),l.add(s);const S=l.curr(),T=l.prev(),N=l.all();for(M=0;M<y;++M)w=h[M].fname,A=p[w]||(p[w]=d[w].insert(h[M],s,C)),f[M].onAdd(A,S);for(;C<_;++C)T[C]=N,S[C]!==N&&v.push(C)},modify(e,r){const a=r.mod,s=this.value,l=s.curr(),f=s.all(),d=e.mod;let h,p,v;for(h=0,p=d.length;h<p;++h)v=d[h]._index,l[v]!==f&&a.push(v)},remove(e,r,a){const s=this._indices,l=this.value,f=l.curr(),d=l.prev(),h=l.all(),p={},v=a.rem,_=r.rem;let y,C,M,w;for(y=0,C=_.length;y<C;++y)M=_[y]._index,p[M]=1,d[M]=w=f[M],f[M]=h,w!==h&&v.push(M);for(M in s)s[M].remove(C,p);return this.reindex(r,C,p),p},reindex(e,r,a){const s=this._indices,l=this.value;e.runAfter(()=>{const f=l.remove(r,a);for(const d in s)s[d].reindex(f)})},update(e,r,a){const s=this._dims,l=e.query,f=r.stamp,d=s.length;let p,v,h=0;for(a.filters=0,v=0;v<d;++v)e.modified("query",v)&&(p=v,++h);if(1===h)h=s[p].one,this.incrementOne(s[p],l[p],a.add,a.rem);else for(v=0,h=0;v<d;++v)!e.modified("query",v)||(h|=s[v].one,this.incrementAll(s[v],l[v],f,a.add),a.rem=a.add);return h},incrementAll(e,r,a,s){const l=this.value,f=l.seen(),d=l.curr(),h=l.prev(),p=e.index(),v=e.bisect(e.range),_=e.bisect(r),y=_[0],C=_[1],M=v[0],w=v[1],A=e.one;let S,T,N;if(y<M)for(S=y,T=Math.min(M,C);S<T;++S)N=p[S],f[N]!==a&&(h[N]=d[N],f[N]=a,s.push(N)),d[N]^=A;else if(y>M)for(S=M,T=Math.min(y,w);S<T;++S)N=p[S],f[N]!==a&&(h[N]=d[N],f[N]=a,s.push(N)),d[N]^=A;if(C>w)for(S=Math.max(y,w),T=C;S<T;++S)N=p[S],f[N]!==a&&(h[N]=d[N],f[N]=a,s.push(N)),d[N]^=A;else if(C<w)for(S=Math.max(M,C),T=w;S<T;++S)N=p[S],f[N]!==a&&(h[N]=d[N],f[N]=a,s.push(N)),d[N]^=A;e.range=r.slice()},incrementOne(e,r,a,s){const f=this.value.curr(),d=e.index(),h=e.bisect(e.range),p=e.bisect(r),v=p[0],_=p[1],y=h[0],C=h[1],M=e.one;let w,A,S;if(v<y)for(w=v,A=Math.min(y,_);w<A;++w)S=d[w],f[S]^=M,a.push(S);else if(v>y)for(w=y,A=Math.min(v,C);w<A;++w)S=d[w],f[S]^=M,s.push(S);if(_>C)for(w=Math.max(v,C),A=_;w<A;++w)S=d[w],f[S]^=M,a.push(S);else if(_<C)for(w=Math.max(y,_),A=C;w<A;++w)S=d[w],f[S]^=M,s.push(S);e.range=r.slice()}}),Yg.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},(0,E.XW)(Yg,te,{transform(e,r){const a=~(e.ignore||0),s=e.filter,l=s.mask;if(0==(l&a))return r.StopPropagation;const f=r.fork(r.ALL),d=s.data(),h=s.curr(),p=s.prev(),v=_=>h[_]&a?null:d[_];return f.filter(f.MOD,v),l&l-1?(f.filter(f.ADD,_=>{const y=h[_]&a;return!y&&y^p[_]&a?d[_]:null}),f.filter(f.REM,_=>{const y=h[_]&a;return!y||y^y^p[_]&a?null:d[_]})):(f.filter(f.ADD,v),f.filter(f.REM,_=>(h[_]&a)===l?d[_]:null)),f.filter(f.SOURCE,_=>v(_._index))}});const x4="Literal",Zg="CallExpression";function li(e){this.type=e}var Ea,ze,se,xr,Qt;li.prototype.visit=function(e){let r,a,s;if(e(this))return 1;for(r=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case Zg:return[e.callee].concat(e.arguments);case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];default:return[]}}(this),a=0,s=r.length;a<s;++a)if(r[a].visit(e))return 1},(Ea={})[1]="Boolean",Ea[2]="<end>",Ea[3]="Identifier",Ea[4]="Keyword",Ea[5]="Null",Ea[6]="Numeric",Ea[7]="Punctuator",Ea[8]="String",Ea[9]="RegularExpression";var ZE="Identifier",ui="Unexpected token %0",Qh="Invalid regular expression",Jh="Invalid regular expression: missing /",JE="Octal literals are not allowed in strict mode.",fi="ILLEGAL",Da="Disabled.",Gn=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),tD=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function yl(e,r){if(!e)throw new Error("ASSERT: "+r)}function P2(e){return e>=48&&e<=57}function To(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function E4(e){return"01234567".indexOf(e)>=0}function ws(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function bl(e){return 10===e||13===e||8232===e||8233===e}function D4(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&Gn.test(String.fromCharCode(e))}function u3(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&tD.test(String.fromCharCode(e))}const A4={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function e5(){for(;se<xr;){const e=ze.charCodeAt(se);if(!ws(e)&&!bl(e))break;++se}}function nv(e){var r,a,s,l=0;for(a="u"===e?4:2,r=0;r<a;++r)se<xr&&To(ze[se])?(s=ze[se++],l=16*l+"0123456789abcdef".indexOf(s.toLowerCase())):St({},ui,fi);return String.fromCharCode(l)}function wR(){var e,r;for(r=0,"}"===(e=ze[se])&&St({},ui,fi);se<xr&&To(e=ze[se++]);)r=16*r+"0123456789abcdef".indexOf(e.toLowerCase());return(r>1114111||"}"!==e)&&St({},ui,fi),r<=65535?String.fromCharCode(r):String.fromCharCode(55296+(r-65536>>10),56320+(r-65536&1023))}function nD(){var e,r;for(e=ze.charCodeAt(se++),r=String.fromCharCode(e),92===e&&(117!==ze.charCodeAt(se)&&St({},ui,fi),++se,(!(e=nv("u"))||"\\"===e||!D4(e.charCodeAt(0)))&&St({},ui,fi),r=e);se<xr&&u3(e=ze.charCodeAt(se));)++se,r+=String.fromCharCode(e),92===e&&(r=r.substr(0,r.length-1),117!==ze.charCodeAt(se)&&St({},ui,fi),++se,(!(e=nv("u"))||"\\"===e||!u3(e.charCodeAt(0)))&&St({},ui,fi),r+=e);return r}function iv(){var a,l,f,d,e=se,r=ze.charCodeAt(se),s=ze[se];switch(r){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++se,{type:7,value:String.fromCharCode(r),start:e,end:se};default:if(61===(a=ze.charCodeAt(se+1)))switch(r){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return se+=2,{type:7,value:String.fromCharCode(r)+String.fromCharCode(a),start:e,end:se};case 33:case 61:return 61===ze.charCodeAt(se+=2)&&++se,{type:7,value:ze.slice(e,se),start:e,end:se}}}return">>>="===(d=ze.substr(se,4))?{type:7,value:d,start:e,end:se+=4}:">>>"===(f=d.substr(0,3))||"<<="===f||">>="===f?{type:7,value:f,start:e,end:se+=3}:s===(l=f.substr(0,2))[1]&&"+-<>&|".indexOf(s)>=0||"=>"===l?{type:7,value:l,start:e,end:se+=2}:("//"===l&&St({},ui,fi),"<>=!+-*%&|^/".indexOf(s)>=0?{type:7,value:s,start:e,end:++se}:void St({},ui,fi))}function oD(){var e,r,a;if(yl(P2((a=ze[se]).charCodeAt(0))||"."===a,"Numeric literal must start with a decimal digit or a decimal point"),r=se,e="","."!==a){if(e=ze[se++],a=ze[se],"0"===e){if("x"===a||"X"===a)return++se,function(e){let r="";for(;se<xr&&To(ze[se]);)r+=ze[se++];return 0===r.length&&St({},ui,fi),D4(ze.charCodeAt(se))&&St({},ui,fi),{type:6,value:parseInt("0x"+r,16),start:e,end:se}}(r);if(E4(a))return function(e){let r="0"+ze[se++];for(;se<xr&&E4(ze[se]);)r+=ze[se++];return(D4(ze.charCodeAt(se))||P2(ze.charCodeAt(se)))&&St({},ui,fi),{type:6,value:parseInt(r,8),octal:!0,start:e,end:se}}(r);a&&P2(a.charCodeAt(0))&&St({},ui,fi)}for(;P2(ze.charCodeAt(se));)e+=ze[se++];a=ze[se]}if("."===a){for(e+=ze[se++];P2(ze.charCodeAt(se));)e+=ze[se++];a=ze[se]}if("e"===a||"E"===a)if(e+=ze[se++],("+"===(a=ze[se])||"-"===a)&&(e+=ze[se++]),P2(ze.charCodeAt(se)))for(;P2(ze.charCodeAt(se));)e+=ze[se++];else St({},ui,fi);return D4(ze.charCodeAt(se))&&St({},ui,fi),{type:6,value:parseFloat(e),start:r,end:se}}function H2(){if(e5(),se>=xr)return{type:2,start:se,end:se};const e=ze.charCodeAt(se);return D4(e)?function(){var e,r;return e=se,r=92===ze.charCodeAt(se)?nD():function(){var e,r;for(e=se++;se<xr;){if(92===(r=ze.charCodeAt(se)))return se=e,nD();if(!u3(r))break;++se}return ze.slice(e,se)}(),{type:1===r.length?3:A4.hasOwnProperty(r)?4:"null"===r?5:"true"===r||"false"===r?1:3,value:r,start:e,end:se}}():40===e||41===e||59===e?iv():39===e||34===e?function(){var r,a,s,l,e="",f=!1;for(yl("'"===(r=ze[se])||'"'===r,"String literal must starts with a quote"),a=se,++se;se<xr;){if((s=ze[se++])===r){r="";break}if("\\"===s)if((s=ze[se++])&&bl(s.charCodeAt(0)))"\r"===s&&"\n"===ze[se]&&++se;else switch(s){case"u":case"x":"{"===ze[se]?(++se,e+=wR()):e+=nv(s);break;case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:E4(s)?(0!==(l="01234567".indexOf(s))&&(f=!0),se<xr&&E4(ze[se])&&(f=!0,l=8*l+"01234567".indexOf(ze[se++]),"0123".indexOf(s)>=0&&se<xr&&E4(ze[se])&&(l=8*l+"01234567".indexOf(ze[se++]))),e+=String.fromCharCode(l)):e+=s}else{if(bl(s.charCodeAt(0)))break;e+=s}}return""!==r&&St({},ui,fi),{type:8,value:e,octal:f,start:a,end:se}}():46===e?P2(ze.charCodeAt(se+1))?oD():iv():P2(e)?oD():iv()}function jr(){const e=Qt;return se=e.end,Qt=H2(),se=e.end,e}function rv(){const e=se;Qt=H2(),se=e}function cD(e,r,a){const s=new li("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return s.operator=e,s.left=r,s.right=a,s}function NR(e,r){const a=new li("CallExpression");return a.callee=e,a.arguments=r,a}function f3(e){const r=new li(ZE);return r.name=e,r}function Ke(e){const r=new li("Literal");return r.value=e.value,r.raw=ze.slice(e.start,e.end),e.regex&&("//"===r.raw&&(r.raw="/(?:)/"),r.regex=e.regex),r}function Aa(e,r,a){const s=new li("MemberExpression");return s.computed="["===e,s.object=r,s.property=a,s.computed||(a.member=!0),s}function ov(e,r,a){const s=new li("Property");return s.key=r,s.value=a,s.kind=e,s}function St(e,r){var a,s=Array.prototype.slice.call(arguments,2),l=r.replace(/%(\d)/g,(f,d)=>(yl(d<s.length,"Message reference must be in range"),s[d]));throw(a=new Error(l)).index=se,a.description=l,a}function t5(e){2===e.type&&St(e,"Unexpected end of input"),6===e.type&&St(e,"Unexpected number"),8===e.type&&St(e,"Unexpected string"),3===e.type&&St(e,"Unexpected identifier"),4===e.type&&St(e,"Unexpected reserved word"),St(e,ui,e.value)}function di(e){const r=jr();(7!==r.type||r.value!==e)&&t5(r)}function ln(e){return 7===Qt.type&&Qt.value===e}function S4(e){return 4===Qt.type&&Qt.value===e}function lD(){se=Qt.start;const e=jr();return 8===e.type||6===e.type?(e.octal&&St(e,JE),Ke(e)):f3(e.value)}function uD(){var e,r,a;return se=Qt.start,3===(e=Qt).type?(a=lD(),di(":"),ov("init",a,Cl())):2!==e.type&&7!==e.type?(r=lD(),di(":"),ov("init",r,Cl())):void t5(e)}const av={if:1};function RR(){var e,r,a;if(ln("("))return function(){di("(");const e=uv();return di(")"),e}();if(ln("["))return function(){const e=[];for(se=Qt.start,di("[");!ln("]");)ln(",")?(jr(),e.push(null)):(e.push(Cl()),ln("]")||di(","));return jr(),function(e){const r=new li("ArrayExpression");return r.elements=e,r}(e)}();if(ln("{"))return function(){var r,s,e=[],l={},f=String;for(se=Qt.start,di("{");!ln("}");)s="$"+((r=uD()).key.type===ZE?r.key.name:f(r.key.value)),Object.prototype.hasOwnProperty.call(l,s)?St({},"Duplicate data property in object literal not allowed in strict mode"):l[s]=!0,e.push(r),ln("}")||di(",");return di("}"),function(e){const r=new li("ObjectExpression");return r.properties=e,r}(e)}();if(se=Qt.start,3===(e=Qt.type)||av[Qt.value])a=f3(jr().value);else if(8===e||6===e)Qt.octal&&St(Qt,JE),a=Ke(jr());else{if(4===e)throw new Error(Da);1===e?((r=jr()).value="true"===r.value,a=Ke(r)):5===e?((r=jr()).value=null,a=Ke(r)):ln("/")||ln("/=")?(a=Ke(function(){var e,r,a,s;return Qt=null,e5(),e=se,r=function(){var e,r,a,s;for(yl("/"===(e=ze[se]),"Regular expression literal must start with a slash"),r=ze[se++],a=!1,s=!1;se<xr;)if(r+=e=ze[se++],"\\"===e)bl((e=ze[se++]).charCodeAt(0))&&St({},Jh),r+=e;else if(bl(e.charCodeAt(0)))St({},Jh);else if(a)"]"===e&&(a=!1);else{if("/"===e){s=!0;break}"["===e&&(a=!0)}return s||St({},Jh),{value:r.substr(1,r.length-2),literal:r}}(),a=function(){var e,r,a;for(r="",a="";se<xr&&u3((e=ze[se]).charCodeAt(0));)++se,"\\"===e&&se<xr?St({},ui,fi):(a+=e,r+=e);return a.search(/[^gimuy]/g)>=0&&St({},Qh,a),{value:a,literal:r}}(),s=function(e,r){let a=e;r.indexOf("u")>=0&&(a=a.replace(/\\u\{([0-9a-fA-F]+)\}/g,(s,l)=>{if(parseInt(l,16)<=1114111)return"x";St({},Qh)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(a)}catch(s){St({},Qh)}try{return new RegExp(e,r)}catch(s){return null}}(r.value,a.value),{literal:r.literal+a.literal,value:s,regex:{pattern:r.value,flags:a.value},start:e,end:se}}()),rv()):t5(jr())}return a}function i5(){const e=[];if(di("("),!ln(")"))for(;se<xr&&(e.push(Cl()),!ln(")"));)di(",");return di(")"),e}function dD(){di("[");const e=uv();return di("]"),e}function cv(){const e=function(){var e;for(e=RR();;)if(ln("."))e=Aa(".",e,(di("."),function(){se=Qt.start;const e=jr();return function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e)||t5(e),f3(e.value)}()));else if(ln("("))e=NR(e,i5());else{if(!ln("["))break;e=Aa("[",e,dD())}return e}();if(7===Qt.type&&(ln("++")||ln("--")))throw new Error(Da);return e}function B2(){var e,r;if(7!==Qt.type&&4!==Qt.type)r=cv();else{if(ln("++")||ln("--"))throw new Error(Da);if(ln("+")||ln("-")||ln("~")||ln("!"))e=jr(),r=B2(),r=function(e,r){const a=new li("UnaryExpression");return a.operator=e,a.argument=r,a.prefix=!0,a}(e.value,r);else{if(S4("delete")||S4("void")||S4("typeof"))throw new Error(Da);r=cv()}}return r}function lv(e){let r=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":r=1;break;case"&&":r=2;break;case"|":r=3;break;case"^":r=4;break;case"&":r=5;break;case"==":case"!=":case"===":case"!==":r=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":r=7;break;case"<<":case">>":case">>>":r=8;break;case"+":case"-":r=9;break;case"*":case"/":case"%":r=11}return r}function Cl(){var e,r;return e=function(){var e,r,a,s,l,f,d,h,p,v;if(e=Qt,p=B2(),0===(l=lv(s=Qt)))return p;for(s.prec=l,jr(),r=[e,Qt],f=[p,s,d=B2()];(l=lv(Qt))>0;){for(;f.length>2&&l<=f[f.length-2].prec;)d=f.pop(),h=f.pop().value,p=f.pop(),r.pop(),a=cD(h,p,d),f.push(a);(s=jr()).prec=l,f.push(s),r.push(Qt),a=B2(),f.push(a)}for(a=f[v=f.length-1],r.pop();v>1;)r.pop(),a=cD(f[v-1].value,f[v-2],a),v-=2;return a}(),ln("?")&&(jr(),r=Cl(),di(":"),e=function(e,r,a){const s=new li("ConditionalExpression");return s.test=e,s.consequent=r,s.alternate=a,s}(e,r,Cl())),e}function uv(){const e=Cl();if(ln(","))throw new Error(Da);return e}var W1={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function Es(e){function a(d,h,p){return v=>function(d,h,p,v){let _=e(h[0]);return p&&(_=p+"("+_+")",0===p.lastIndexOf("new ",0)&&(_="("+_+")")),_+"."+d+(v<0?"":0===v?"()":"("+h.slice(1).map(e).join(",")+")")}(d,v,h,p)}const s="new Date",l="String",f="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(d){d.length<3&&(0,E.vU)("Missing arguments to clamp function."),d.length>3&&(0,E.vU)("Too many arguments to clamp function.");const h=d.map(e);return"Math.max("+h[1]+", Math.min("+h[2]+","+h[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:s,date:a("getDate",s,0),day:a("getDay",s,0),year:a("getFullYear",s,0),month:a("getMonth",s,0),hours:a("getHours",s,0),minutes:a("getMinutes",s,0),seconds:a("getSeconds",s,0),milliseconds:a("getMilliseconds",s,0),time:a("getTime",s,0),timezoneoffset:a("getTimezoneOffset",s,0),utcdate:a("getUTCDate",s,0),utcday:a("getUTCDay",s,0),utcyear:a("getUTCFullYear",s,0),utcmonth:a("getUTCMonth",s,0),utchours:a("getUTCHours",s,0),utcminutes:a("getUTCMinutes",s,0),utcseconds:a("getUTCSeconds",s,0),utcmilliseconds:a("getUTCMilliseconds",s,0),length:a("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:a("toUpperCase",l,0),lower:a("toLowerCase",l,0),substring:a("substring",l),split:a("split",l),trim:a("trim",l,0),regexp:f,test:a("test",f),if:function(d){d.length<3&&(0,E.vU)("Missing arguments to if function."),d.length>3&&(0,E.vU)("Too many arguments to if function.");const h=d.map(e);return"("+h[0]+"?"+h[1]+":"+h[2]+")"}}}var k4,xl,m3,fv,o5,h3=new ki,r5=new ki,Sa={point:Bt,lineStart:Bt,lineEnd:Bt,polygonStart:function(){h3=new ki,Sa.lineStart=a5,Sa.lineEnd=dv},polygonEnd:function(){var e=+h3;r5.add(e<0?Pr+e:e),this.lineStart=this.lineEnd=this.point=Bt},sphere:function(){r5.add(Pr)}};function a5(){Sa.point=hD}function dv(){mD(k4,xl)}function hD(e,r){Sa.point=mD,k4=e,xl=r,m3=e*=pt,fv=Re(r=(r*=pt)/2+Zd),o5=Oe(r)}function mD(e,r){var a=(e*=pt)-m3,s=a>=0?1:-1,l=s*a,f=Re(r=(r*=pt)/2+Zd),d=Oe(r),h=o5*d,p=fv*f+h*Re(l),v=h*s*Oe(l);h3.add(s1(v,p)),m3=e,fv=f,o5=d}var gn,Ur,In,m1,Ml,pD,s5,wl,p3,As,No,p1={point:mv,lineStart:c5,lineEnd:gD,polygonStart:function(){p1.point=l5,p1.lineStart=vD,p1.lineEnd=_D,p3=new ki,Sa.polygonStart()},polygonEnd:function(){Sa.polygonEnd(),p1.point=mv,p1.lineStart=c5,p1.lineEnd=gD,h3<0?(gn=-(In=180),Ur=-(m1=90)):p3>He?m1=90:p3<-He&&(Ur=-90),No[0]=gn,No[1]=In},sphere:function(){gn=-(In=180),Ur=-(m1=90)}};function mv(e,r){As.push(No=[gn=e,In=e]),r<Ur&&(Ur=r),r>m1&&(m1=r)}function pv(e,r){var a=Ca([e*pt,r*pt]);if(wl){var s=xa(wl,a),f=xa([s[1],-s[0],0],s);ms(f),f=el(f);var v,d=e-Ml,h=d>0?1:-1,p=f[0]*Nn*h,_=Tt(d)>180;_^(h*Ml<p&&p<h*e)?(v=f[1]*Nn)>m1&&(m1=v):_^(h*Ml<(p=(p+360)%360-180)&&p<h*e)?(v=-f[1]*Nn)<Ur&&(Ur=v):(r<Ur&&(Ur=r),r>m1&&(m1=r)),_?e<Ml?$r(gn,e)>$r(gn,In)&&(In=e):$r(e,In)>$r(gn,In)&&(gn=e):In>=gn?(e<gn&&(gn=e),e>In&&(In=e)):e>Ml?$r(gn,e)>$r(gn,In)&&(In=e):$r(e,In)>$r(gn,In)&&(gn=e)}else As.push(No=[gn=e,In=e]);r<Ur&&(Ur=r),r>m1&&(m1=r),wl=a,Ml=e}function c5(){p1.point=pv}function gD(){No[0]=gn,No[1]=In,p1.point=mv,wl=null}function l5(e,r){if(wl){var a=e-Ml;p3.add(Tt(a)>180?a+(a>0?360:-360):a)}else pD=e,s5=r;Sa.point(e,r),pv(e,r)}function vD(){Sa.lineStart()}function _D(){l5(pD,s5),Sa.lineEnd(),Tt(p3)>He&&(gn=-(In=180)),No[0]=gn,No[1]=In,wl=null}function $r(e,r){return(r-=e)<0?r+360:r}function HR(e,r){return e[0]-r[0]}function gv(e,r){return e[0]<=e[1]?e[0]<=r&&r<=e[1]:r<e[0]||e[1]<r}var T4,g3,v3,u5,f5,d5,z4,N4,h5,j2,vv,_v,bD,hi,Xi,Yi,g1={sphere:Bt,point:yv,lineStart:_3,lineEnd:CD,polygonStart:function(){g1.lineStart=UR,g1.lineEnd=xD},polygonEnd:function(){g1.lineStart=_3,g1.lineEnd=CD}};function yv(e,r){e*=pt;var a=Re(r*=pt);I4(a*Re(e),a*Oe(e),Oe(r))}function I4(e,r,a){++T4,v3+=(e-v3)/T4,u5+=(r-u5)/T4,f5+=(a-f5)/T4}function _3(){g1.point=BR}function BR(e,r){e*=pt;var a=Re(r*=pt);hi=a*Re(e),Xi=a*Oe(e),Yi=Oe(r),g1.point=jR,I4(hi,Xi,Yi)}function jR(e,r){e*=pt;var a=Re(r*=pt),s=a*Re(e),l=a*Oe(e),f=Oe(r),d=s1(Hr((d=Xi*f-Yi*l)*d+(d=Yi*s-hi*f)*d+(d=hi*l-Xi*s)*d),hi*s+Xi*l+Yi*f);g3+=d,d5+=d*(hi+(hi=s)),z4+=d*(Xi+(Xi=l)),N4+=d*(Yi+(Yi=f)),I4(hi,Xi,Yi)}function CD(){g1.point=yv}function UR(){g1.point=$R}function xD(){MD(_v,bD),g1.point=yv}function $R(e,r){_v=e,bD=r,e*=pt,r*=pt,g1.point=MD;var a=Re(r);hi=a*Re(e),Xi=a*Oe(e),Yi=Oe(r),I4(hi,Xi,Yi)}function MD(e,r){e*=pt;var a=Re(r*=pt),s=a*Re(e),l=a*Oe(e),f=Oe(r),d=Xi*f-Yi*l,h=Yi*s-hi*f,p=hi*l-Xi*s,v=ew(d,h,p),_=c1(v),y=v&&-_/v;h5.add(y*d),j2.add(y*h),vv.add(y*p),g3+=_,d5+=_*(hi+(hi=s)),z4+=_*(Xi+(Xi=l)),N4+=_*(Yi+(Yi=f)),I4(hi,Xi,Yi)}const El="intersect",p5="index:unit";function ED(e,r){for(var d,h,a=r.fields,s=r.values,l=a.length,f=0;f<l;++f)if((h=a[f]).getter=E.EP.getter||(0,E.EP)(h.field),d=h.getter(e),(0,E.J_)(d)&&(d=(0,E.He)(d)),(0,E.J_)(s[f])&&(s[f]=(0,E.He)(s[f])),(0,E.J_)(s[f][0])&&(s[f]=s[f].map(E.He)),"E"===h.type){if((0,E.kJ)(s[f])?s[f].indexOf(d)<0:d!==s[f])return!1}else if("R"===h.type){if(!(0,E.u5)(d,s[f]))return!1}else if("R-RE"===h.type){if(!(0,E.u5)(d,s[f],!0,!1))return!1}else if("R-E"===h.type){if(!(0,E.u5)(d,s[f],!1,!1))return!1}else if("R-LE"===h.type&&!(0,E.u5)(d,s[f],!1,!0))return!1;return!0}const g5=(0,E.EP)("_vgsid_"),Mv=function(e){let r=e,a=e;function s(d,h,p,v){for(null==p&&(p=0),null==v&&(v=d.length);p<v;){const _=p+v>>>1;a(d[_],h)<0?p=_+1:v=_}return p}return 1===e.length&&(r=(d,h)=>e(d)-h,a=function(e){return(r,a)=>function(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}(e(r),a)}(e)),{left:s,center:function(d,h,p,v){null==p&&(p=0),null==v&&(v=d.length);const _=s(d,h,p,v-1);return _>p&&r(d[_-1],h)>-r(d[_],h)?_-1:_},right:function(d,h,p,v){for(null==p&&(p=0),null==v&&(v=d.length);p<v;){const _=p+v>>>1;a(d[_],h)>0?v=_:p=_+1}return p}}}(g5),tV=Mv.left,DD=Mv.right;var SD={E_union:function(e,r){if(!e.length)return r;for(var a=0,s=r.length;a<s;++a)e.indexOf(r[a])<0&&e.push(r[a]);return e},E_intersect:function(e,r){return e.length?e.filter(a=>r.indexOf(a)>=0):r},R_union:function(e,r){var a=(0,E.He)(r[0]),s=(0,E.He)(r[1]);return a>s&&(a=r[1],s=r[0]),e.length?(e[0]>a&&(e[0]=a),e[1]<s&&(e[1]=s),e):[a,s]},R_intersect:function(e,r){var a=(0,E.He)(r[0]),s=(0,E.He)(r[1]);return a>s&&(a=r[1],s=r[0]),e.length?s<e[0]||e[1]<a?[]:(e[0]<a&&(e[0]=a),e[1]>s&&(e[1]=s),e):[a,s]}};function Dl(e,r,a,s){r[0].type!==x4&&(0,E.vU)("First argument to selection functions must be a string literal.");const l=r[0].value,d="unit",h="@"+d,p=":"+l;(r.length>=2&&(0,E.fj)(r).value)===El&&!(0,E.nr)(s,h)&&(s[h]=a.getData(l).indataRef(a,d)),(0,E.nr)(s,p)||(s[p]=a.getData(l).tuplesRef())}function b3(e){const r=this.context.data[e];return r?r.values.value:[]}const C3=e=>function(r,a){return this.context.dataflow.locale()[e](a)(r)},v5=C3("format"),TD=C3("timeFormat"),zD=C3("utcFormat"),ND=C3("timeParse"),aV=C3("utcParse"),_5=new Date(2e3,0,1);function y5(e,r,a){return Number.isInteger(e)&&Number.isInteger(r)?(_5.setYear(2e3),_5.setMonth(e),_5.setDate(r),TD.call(this,_5,a)):""}function Av(e,r,a,s){r[0].type!==x4&&(0,E.vU)("First argument to data functions must be a string literal.");const l=r[0].value,f=":"+l;if(!(0,E.nr)(f,s))try{s[f]=a.getData(l).tuplesRef()}catch(d){}}function qr(e,r,a,s){if(r[0].type===x4)LD(a,s,r[0].value);else for(e in a.scales)LD(a,s,e)}function LD(e,r,a){const s="%"+a;if(!(0,E.nr)(r,s))try{r[s]=e.scaleRef(a)}catch(l){}}function ka(e,r){let a;return(0,E.mf)(e)?e:(0,E.HD)(e)?(a=r.scales[e])&&a.value:void 0}function FD(e,r){return function(a,s,l){if(a){const f=ka(a,(l||this).context);return f&&f.path[e](s)}return r(s)}}const mW=FD("area",function(e){return r5=new ki,ds(e,Sa),2*r5}),pW=FD("bounds",function(e){var r,a,s,l,f,d,h;if(m1=In=-(gn=Ur=1/0),As=[],ds(e,p1),a=As.length){for(As.sort(HR),r=1,f=[s=As[0]];r<a;++r)gv(s,(l=As[r])[0])||gv(s,l[1])?($r(s[0],l[1])>$r(s[0],s[1])&&(s[1]=l[1]),$r(l[0],s[1])>$r(s[0],s[1])&&(s[0]=l[0])):f.push(s=l);for(d=-1/0,r=0,s=f[a=f.length-1];r<=a;s=l,++r)(h=$r(s[1],(l=f[r])[0]))>d&&(d=h,gn=l[0],In=s[1])}return As=No=null,gn===1/0||Ur===1/0?[[NaN,NaN],[NaN,NaN]]:[[gn,Ur],[In,m1]]}),gW=FD("centroid",function(e){T4=g3=v3=u5=f5=d5=z4=N4=0,h5=new ki,j2=new ki,vv=new ki,ds(e,g1);var r=+h5,a=+j2,s=+vv,l=ew(r,a,s);return l<Yd&&(r=d5,a=z4,s=N4,g3<He&&(r=v3,a=u5,s=f5),(l=ew(r,a,s))<Yd)?[NaN,NaN]:[s1(a,r)*Nn,c1(s/l)*Nn]});function Sv(e,r,a){try{e[r].apply(e,["EXPRESSION"].concat([].slice.call(a)))}catch(s){e.warn(s)}return a[a.length-1]}function Mr(e){const r=e/255;return r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}function Tv(e){const r=aa(e);return.2126*Mr(r.r)+.7152*Mr(r.g)+.0722*Mr(r.b)}function zv(e,r){return e===r||e!=e&&r!=r||((0,E.kJ)(e)?!(!(0,E.kJ)(r)||e.length!==r.length)&&function(e,r){for(let a=0,s=e.length;a<s;++a)if(!zv(e[a],r[a]))return!1;return!0}(e,r):!(!(0,E.Kn)(e)||!(0,E.Kn)(r))&&RD(e,r))}function RD(e,r){for(const a in e)if(!zv(e[a],r[a]))return!1;return!0}function VD(e){return r=>RD(e,r)}const Nv={};function b5(e){return(0,E.kJ)(e)||ArrayBuffer.isView(e)?e:null}function C5(e){return b5(e)||((0,E.HD)(e)?e:null)}const w3=e=>e.data;function HD(e,r){const a=b3.call(r,e);return a.root&&a.root.lookup||{}}const Rv=()=>"undefined"!=typeof window&&window||null,E3={random:()=>lr(),cumulativeNormal:wc,cumulativeLogNormal:s0,cumulativeUniform:D6,densityNormal:Hf,densityLogNormal:Zs,densityUniform:Lr,quantileNormal:Ys,quantileLogNormal:nb,quantileUniform:Ua,sampleNormal:E6,sampleLogNormal:Bf,sampleUniform:c0,isArray:E.kJ,isBoolean:E.jn,isDate:E.J_,isDefined:e=>void 0!==e,isNumber:E.hj,isObject:E.Kn,isRegExp:E.Kj,isString:E.HD,isTuple:Jo,isValid:e=>null!=e&&e==e,toBoolean:E.sw,toDate:E.ZU,toNumber:E.He,toString:E.BB,indexof:function(e,...r){return C5(e).indexOf(...r)},join:function(e,...r){return b5(e).join(...r)},lastindexof:function(e,...r){return C5(e).lastIndexOf(...r)},replace:function(e,r,a){return(0,E.mf)(a)&&(0,E.vU)("Function argument passed to replace."),String(e).replace(r,a)},reverse:function(e){return b5(e).slice().reverse()},slice:function(e,...r){return C5(e).slice(...r)},flush:E.yl,lerp:E.t7,merge:function(){const e=[].slice.call(arguments);return e.unshift({}),(0,E.l7)(...e)},pad:E.vk,peek:E.fj,pluck:function(e,r){const a=Nv[r]||(Nv[r]=(0,E.EP)(r));return(0,E.kJ)(e)?e.map(a):a(e)},span:E.yP,inrange:E.u5,truncate:E.$G,rgb:aa,lab:Z6,hcl:P8,hsl:x0,luminance:Tv,contrast:function(e,r){const a=Tv(e),s=Tv(r);return(Math.max(a,s)+.05)/(Math.min(a,s)+.05)},sequence:ur,format:v5,utcFormat:zD,utcParse:aV,utcOffset:function(e,r,a){return C7(Gl(e),r,a)},utcSequence:function(e,r,a,s){return uy(Gl(e),r,a,s)},timeFormat:TD,timeParse:ND,timeOffset:function(e,r,a){return C7(lc(e),r,a)},timeSequence:function(e,r,a,s){return uy(lc(e),r,a,s)},timeUnitSpecifier:function(e,r){const a=(0,E.l7)({},_7,r),s=qe(e),l=s.length;let h,p,f="",d=0;for(d=0;d<l;)for(h=s.length;h>d;--h)if(p=s.slice(d,h).join("-"),null!=a[p]){f+=a[p],d=h;break}return f.trim()},monthFormat:function(e){return y5.call(this,e,1,"%B")},monthAbbrevFormat:function(e){return y5.call(this,e,1,"%b")},dayFormat:function(e){return y5.call(this,0,2+e,"%A")},dayAbbrevFormat:function(e){return y5.call(this,0,2+e,"%a")},quarter:E.mS,utcquarter:E.N3,week:function(e){return ry(new Date(e))},utcweek:function(e){return sy(new Date(e))},dayofyear:function(e){return Jr(new Date(e))},utcdayofyear:function(e){return ay(new Date(e))},warn:function(){return Sv(this.context.dataflow,"warn",arguments)},info:function(){return Sv(this.context.dataflow,"info",arguments)},debug:function(){return Sv(this.context.dataflow,"debug",arguments)},extent:E.We,inScope:function(e){const r=this.context.group;let a=!1;if(r)for(;e;){if(e===r){a=!0;break}e=e.mark.group}return a},intersect:function(e,r,a){if(!e)return[];const[s,l]=e,f=(new Qn).set(s[0],s[1],l[0],l[1]);return function(e,r,a){const s=[],l=(new Qn).union(r),f=e.marktype;return f?hp(e,l,a,s):"group"===f?wM(e,l,a,s):(0,E.vU)("Intersect scene must be mark node or group item.")}(a||this.context.dataflow.scenegraph().root,f,function(e){let r=null;if(e){const a=(0,E.IX)(e.marktype),s=(0,E.IX)(e.markname);r=l=>(!a.length||a.some(f=>l.marktype===f))&&(!s.length||s.some(f=>l.name===f))}return r}(r))},clampRange:E.l$,pinchDistance:function(e){const r=e.touches,a=r[0].clientX-r[1].clientX,s=r[0].clientY-r[1].clientY;return Math.sqrt(a*a+s*s)},pinchAngle:function(e){const r=e.touches;return Math.atan2(r[0].clientY-r[1].clientY,r[0].clientX-r[1].clientX)},screen:function(){const e=Rv();return e?e.screen:{}},containerSize:function(){const e=this.context.dataflow,r=e.container&&e.container();return r?[r.clientWidth,r.clientHeight]:[void 0,void 0]},windowSize:function(){const e=Rv();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]},bandspace:function(e,r,a){return S0(e||0,r||0,a||0)},setdata:function(e,r){const a=this.context.dataflow;return a.pulse(this.context.data[e].input,a.changeset().remove(E.yb).insert(r)),1},pathShape:function(e){let r=null;return function(a){return a?Bi(a,r=r||eu(e)):e}},panLinear:E.Dw,panLog:E.mJ,panPow:E.QA,panSymlog:E.Zw,zoomLinear:E.ay,zoomLog:E.dH,zoomPow:E.mK,zoomSymlog:E.bV,encode:function(e,r,a){if(e){const s=this.context.dataflow;s.pulse(e.mark.source,s.changeset().encode(e,r))}return void 0!==a?a:e},modify:function(e,r,a,s,l,f){const d=this.context.dataflow,h=this.context.data[e],p=h.input,v=d.stamp();let y,C,_=h.changes;if(!1===d._trigger||!(p.value.length||r||s))return 0;if((!_||_.stamp<v)&&(h.changes=_=d.changeset(),_.stamp=v,d.runAfter(()=>{h.modified=!0,d.pulse(p,_).run()},!0,1)),a&&(y=!0===a?E.yb:(0,E.kJ)(a)||Jo(a)?a:VD(a),_.remove(y)),r&&_.insert(r),s&&(y=VD(s),p.value.some(y)?_.remove(y):_.insert(s)),l)for(C in f)_.modify(l,C,f[C]);return 1}},IV=["view","item","group","xy","x","y"],UD="this.",Vv={},$D={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${(0,E.m8)("$"+e)}]`,functions:function(e){const r=Es(e);IV.forEach(a=>r[a]="event.vega."+a);for(const a in E3)r[a]=UD+a;return(0,E.l7)(r,function(e,r,a){r.__bandwidth=l=>l&&l.bandwidth?l.bandwidth():0,a._bandwidth=qr,a._range=qr,a._scale=qr;const s=l=>"_["+(l.type===x4?(0,E.m8)("%"+l.value):(0,E.m8)("%")+"+"+e(l))+"]";return{_bandwidth:l=>`this.__bandwidth(${s(l[0])})`,_range:l=>`${s(l[0])}.range()`,_scale:l=>`${s(l[0])}(${e(l[1])})`}}(e,E3,Vv)),r},constants:W1,visitors:Vv},Ov=function(e){const r=(e=e||{}).allowed?(0,E.Rg)(e.allowed):{},a=e.forbidden?(0,E.Rg)(e.forbidden):{},s=e.constants||W1,l=(e.functions||Es)(y),f=e.globalvar,d=e.fieldvar,h=(0,E.mf)(f)?f:w=>`${f}["${w}"]`;let p={},v={},_=0;function y(w){if((0,E.HD)(w))return w;const A=C[w.type];return null==A&&(0,E.vU)("Unsupported type: "+w.type),A(w)}const C={Literal:w=>w.raw,Identifier:w=>{const A=w.name;return _>0?A:(0,E.nr)(a,A)?(0,E.vU)("Illegal identifier: "+A):(0,E.nr)(s,A)?s[A]:(0,E.nr)(r,A)?A:(p[A]=1,h(A))},MemberExpression:w=>{const A=!w.computed,S=y(w.object);A&&(_+=1);const T=y(w.property);return S===d&&(v[function(e){const r=e&&e.length-1;return r&&('"'===e[0]&&'"'===e[r]||"'"===e[0]&&"'"===e[r])?e.slice(1,-1):e}(T)]=1),A&&(_-=1),S+(A?"."+T:"["+T+"]")},CallExpression:w=>{"Identifier"!==w.callee.type&&(0,E.vU)("Illegal callee type: "+w.callee.type);const A=w.callee.name,S=w.arguments,T=(0,E.nr)(l,A)&&l[A];return T||(0,E.vU)("Unrecognized function: "+A),(0,E.mf)(T)?T(S):T+"("+S.map(y).join(",")+")"},ArrayExpression:w=>"["+w.elements.map(y).join(",")+"]",BinaryExpression:w=>"("+y(w.left)+" "+w.operator+" "+y(w.right)+")",UnaryExpression:w=>"("+w.operator+y(w.argument)+")",ConditionalExpression:w=>"("+y(w.test)+"?"+y(w.consequent)+":"+y(w.alternate)+")",LogicalExpression:w=>"("+y(w.left)+w.operator+y(w.right)+")",ObjectExpression:w=>"{"+w.properties.map(y).join(",")+"}",Property:w=>{_+=1;const A=y(w.key);return _-=1,A+":"+y(w.value)}};function M(w){const A={code:y(w),globals:Object.keys(p),fields:Object.keys(v)};return p={},v={},A}return M.functions=l,M.constants=s,M}($D);function ei(e,r,a){return 1===arguments.length?E3[e]:(E3[e]=r,a&&(Vv[e]=a),Ov&&(Ov.functions[e]=UD+e),this)}function Fo(e,r){const a={};let s;try{s=function(e){se=0,xr=(ze=e).length,Qt=null,rv();const r=uv();if(2!==Qt.type)throw new Error("Unexpect token after expression.");return r}(e=(0,E.HD)(e)?e:(0,E.m8)(e)+"")}catch(f){(0,E.vU)("Expression parse error: "+e)}s.visit(f=>{if(f.type!==Zg)return;const d=f.callee.name,h=$D.visitors[d];h&&h(d,f.arguments,r,a)});const l=Ov(s);return l.globals.forEach(f=>{const d="$"+f;!(0,E.nr)(a,d)&&r.getSignal(f)&&(a[d]=r.signalRef(f))}),{$expr:(0,E.l7)({code:l.code},r.options.ast?{ast:s}:null),$fields:l.fields,$params:a}}ei("bandwidth",function(e,r){const a=ka(e,(r||this).context);return a&&a.bandwidth?a.bandwidth():0},qr),ei("copy",function(e,r){const a=ka(e,(r||this).context);return a?a.copy():void 0},qr),ei("domain",function(e,r){const a=ka(e,(r||this).context);return a?a.domain():[]},qr),ei("range",function(e,r){const a=ka(e,(r||this).context);return a&&a.range?a.range():[]},qr),ei("invert",function(e,r,a){const s=ka(e,(a||this).context);return s?(0,E.kJ)(r)?(s.invertRange||s.invert)(r):(s.invert||s.invertExtent)(r):void 0},qr),ei("scale",function(e,r,a){const s=ka(e,(a||this).context);return s?s(r):void 0},qr),ei("gradient",function(e,r,a,s,l){e=ka(e,(l||this).context);const f=function(e,r){var s,a=[];return s={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:r?r[0]:1,y2:r?r[1]:0,stops:a,stop:function(l,f){return a.push({offset:l,color:f}),s}}}(r,a);let d=e.domain(),h=d[0],p=(0,E.fj)(d),v=E.yR;return p-h?v=Az(e,h,p):e=(e.interpolator?Ht("sequential")().interpolator(e.interpolator()):Ht("linear")().interpolate(e.interpolate()).range(e.range())).domain([h=0,p=1]),e.ticks&&(d=e.ticks(+s||15),h!==d[0]&&d.unshift(h),p!==(0,E.fj)(d)&&d.push(p)),d.forEach(_=>f.stop(v(_),e(_))),f},qr),ei("geoArea",mW,qr),ei("geoBounds",pW,qr),ei("geoCentroid",gW,qr),ei("geoShape",function(e,r,a){const s=ka(e,(a||this).context);return function(l){return s?s.path.context(l)(r):""}},qr),ei("indata",function(e,r,a){const s=this.context.data[e]["index:"+r],l=s?s.value.get(a):void 0;return l&&l.count},function(e,r,a,s){r[0].type!==x4&&(0,E.vU)("First argument to indata must be a string literal."),r[1].type!==x4&&(0,E.vU)("Second argument to indata must be a string literal.");const l=r[0].value,f=r[1].value,d="@"+f;(0,E.nr)(d,s)||(s[d]=a.getData(l).indataRef(a,f))}),ei("data",b3,Av),ei("treePath",function(e,r,a){const s=HD(e,this),l=s[r],f=s[a];return l&&f?l.path(f).map(w3):void 0},Av),ei("treeAncestors",function(e,r){const a=HD(e,this)[r];return a?a.ancestors().map(w3):void 0},Av),ei("vlSelectionTest",function(e,r,a){for(var v,_,y,C,M,s=this.context.data[e],l=s?s.values.value:[],f=s?s[p5]&&s[p5].value:void 0,d=a===El,h=l.length,p=0;p<h;++p)if(v=l[p],f&&d){if(-1===(y=(_=_||{})[C=v.unit]||0))continue;if(M=ED(r,v),_[C]=M?-1:++y,M&&1===f.size)return!0;if(!M&&y===f.get(C).count)return!1}else if(d^(M=ED(r,v)))return M;return h&&d},Dl),ei("vlSelectionIdTest",function(e,r,a){const s=this.context.data[e],l=s?s.values.value:[],f=s?s[p5]&&s[p5].value:void 0,d=a===El,h=g5(r),p=tV(l,h);if(p===l.length||g5(l[p])!==h)return!1;if(f&&d){if(1===f.size)return!0;if(DD(l,h)-p<f.size)return!1}return!0},Dl),ei("vlSelectionResolve",function(e,r,a,s){for(var v,_,y,C,M,w,A,S,F,O,l=this.context.data[e],f=l?l.values.value:[],d={},h={},p={},N=f.length,I=0;I<N;++I){for(C=(v=f[I]).unit,y=v.values,F=0,O=(_=v.fields).length;F<O;++F)A=(w=d[(M=_[F]).field]||(d[M.field]={}))[C]||(w[C]=[]),p[M.field]=S=M.type.charAt(0),w[C]=(0,SD[S+"_union"])(A,(0,E.IX)(y[F]));a&&(A=h[C]||(h[C]=[])).push((0,E.IX)(y).reduce((P,V,G)=>(P[_[G].field]=V,P),{}))}return r=r||"union",Object.keys(d).forEach(P=>{d[P]=Object.keys(d[P]).map(V=>d[P][V]).reduce((V,G)=>void 0===V?G:SD[p[P]+"_"+r](V,G))}),f=Object.keys(h),a&&f.length&&(d[s?"vlPoint":"vlMulti"]="union"===r?{or:f.reduce((V,G)=>(V.push(...h[G]),V),[])}:{and:f.map(V=>({or:h[V]}))}),d},Dl),ei("vlSelectionTuples",function(e,r){return e.map(a=>(0,E.l7)({values:r.fields.map(s=>(s.getter||(s.getter=(0,E.EP)(s.field)))(a.datum))},r))});const vW=(0,E.Rg)(["rule"]),qD=(0,E.Rg)(["group","image","rect"]);function Hv(e){return(e+"").toLowerCase()}function D3(e,r,a){";"!==a[a.length-1]&&(a="return("+a+");");const s=Function(...r.concat(a));return e&&e.functions?s.bind(e.functions):s}var PV={operator:(e,r)=>D3(e,["_"],r.code),parameter:(e,r)=>D3(e,["datum","_"],r.code),event:(e,r)=>D3(e,["event"],r.code),handler:(e,r)=>D3(e,["_","event"],"var datum=event.item&&event.item.datum;return ".concat(r.code,";")),encode:(e,r)=>{const{marktype:a,channels:s}=r;let l="var o=item,datum=o.datum,m=0,$;";for(const f in s){const d="o["+(0,E.m8)(f)+"]";l+="$=".concat(s[f].code,";if(").concat(d,"!==$)").concat(d,"=$,m=1;")}return l+=function(e,r){let a="";return vW[r]||(e.x2&&(e.x?(qD[r]&&(a+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),a+="o.width=o.x2-o.x;"):a+="o.x=o.x2-(o.width||0);"),e.xc&&(a+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(qD[r]&&(a+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),a+="o.height=o.y2-o.y;"):a+="o.y=o.y2-(o.height||0);"),e.yc&&(a+="o.y=o.yc-(o.height||0)/2;")),a}(s,a),l+="return m;",D3(e,["item","_"],l)},codegen:{get(e){const r="[".concat(e.map(E.m8).join("]["),"]"),a=Function("_","return _".concat(r,";"));return a.path=r,a},comparator(e,r){let a;const l=Function("a","b","var u, v; return "+e.map((f,d)=>{const h=r[d];let p,v;return f.path?(p="a".concat(f.path),v="b".concat(f.path)):((a=a||{})["f"+d]=f,p="this.f".concat(d,"(a)"),v="this.f".concat(d,"(b)")),function(e,r,a,s){return"((u = ".concat(e,") < (v = ").concat(r,") || u == null) && v != null ? ").concat(a,"\n  : (u > v || v == null) && u != null ? ").concat(s,"\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ").concat(a,"\n  : v !== v && u === u ? ").concat(s," : ")}(p,v,-h,h)}).join("")+"0;");return a?l.bind(a):l}}};function WD(e,r,a){if(!e||!(0,E.Kn)(e))return e;for(let f,s=0,l=GD.length;s<l;++s)if(f=GD[s],(0,E.nr)(e,f.key))return f.parse(e,r,a);return e}var GD=[{key:"$ref",parse:function(e,r){return r.get(e.$ref)||(0,E.vU)("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,r){const a="k:"+e.$key+"_"+!!e.$flat;return r.fn[a]||(r.fn[a]=(0,E.Jy)(e.$key,e.$flat,r.expr.codegen))}},{key:"$expr",parse:function(e,r,a){e.$params&&r.parseParameters(e.$params,a);const s="e:"+e.$expr.code+"_"+e.$name;return r.fn[s]||(r.fn[s]=(0,E.ZE)(r.parameterExpression(e.$expr),e.$fields,e.$name))}},{key:"$field",parse:function(e,r){if(!e.$field)return null;const a="f:"+e.$field+"_"+e.$name;return r.fn[a]||(r.fn[a]=(0,E.EP)(e.$field,e.$name,r.expr.codegen))}},{key:"$encode",parse:function(e,r){const a=e.$encode,s={};for(const l in a){const f=a[l];s[l]=(0,E.ZE)(r.encodeExpression(f.$expr),f.$fields),s[l].output=f.$output}return s}},{key:"$compare",parse:function(e,r){const a="c:"+e.$compare+"_"+e.$order,s=(0,E.IX)(e.$compare).map(l=>l&&l.$tupleid?Le:l);return r.fn[a]||(r.fn[a]=(0,E.qu)(s,e.$order,r.expr.codegen))}},{key:"$context",parse:function(e,r){return r}},{key:"$subflow",parse:function(e,r){const a=e.$subflow;return function(s,l,f){const d=r.fork().parse(a),h=d.get(a.operators[0].id),p=d.signals.parent;return p&&p.set(f),h.detachSubflow=()=>r.detach(d),h}}},{key:"$tupleid",parse:function(){return Le}}];const QV={skip:!0};function ZD(e,r,a,s){this.dataflow=e,this.transforms=r,this.events=e.events.bind(e),this.expr=s||PV,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},a&&(this.functions=Object.create(a),this.functions.context=this)}function KD(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}function QD(e,r){e&&(null==r?e.removeAttribute("aria-label"):e.setAttribute("aria-label",r))}ZD.prototype=KD.prototype={fork(){const e=new KD(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(a=>a!==e);const r=Object.keys(e.nodes);for(const a of r)e.nodes[a]._targets=null;for(const a of r)e.nodes[a].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,r){return this.nodes[e]=r},add(e,r){const a=this,s=a.dataflow,l=e.value;if(a.set(e.id,r),function(e){return"collect"===Hv(e)}(e.type)&&l&&(l.$ingest?s.ingest(r,l.$ingest,l.$format):l.$request?s.preload(r,l.$request,l.$format):s.pulse(r,s.changeset().insert(l))),e.root&&(a.root=r),e.parent){let f=a.get(e.parent.$ref);f?(s.connect(f,[r]),r.targets().add(f)):(a.unresolved=a.unresolved||[]).push(()=>{f=a.get(e.parent.$ref),s.connect(f,[r]),r.targets().add(f)})}if(e.signal&&(a.signals[e.signal]=r),e.scale&&(a.scales[e.scale]=r),e.data)for(const f in e.data){const d=a.data[f]||(a.data[f]={});e.data[f].forEach(h=>d[h]=r)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,r){this.add(e,this.dataflow.add(e.value,r))},transform(e,r){this.add(e,this.dataflow.add(this.transforms[Hv(r)]))},stream(e,r){this.set(e.id,r)},update(e,r,a,s,l){this.dataflow.on(r,a,s,l,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:function(e){const r=this,a=e.operators||[];return e.background&&(r.background=e.background),e.eventConfig&&(r.eventConfig=e.eventConfig),e.locale&&(r.locale=e.locale),a.forEach(s=>r.parseOperator(s)),a.forEach(s=>r.parseOperatorParameters(s)),(e.streams||[]).forEach(s=>r.parseStream(s)),(e.updates||[]).forEach(s=>r.parseUpdate(s)),r.resolve()},parseOperator:function(e){const r=this;!function(e){return"operator"===Hv(e)}(e.type)&&e.type?r.transform(e,e.type):r.operator(e,e.update?r.operatorExpression(e.update):null)},parseOperatorParameters:function(e){const r=this;if(e.params){const a=r.get(e.id);a||(0,E.vU)("Invalid operator id: "+e.id),r.dataflow.connect(a,a.parameters(r.parseParameters(e.params),e.react,e.initonly))}},parseParameters:function(e,r){r=r||{};const a=this;for(const s in e){const l=e[s];r[s]=(0,E.kJ)(l)?l.map(f=>WD(f,a,r)):WD(l,a,r)}return r},parseStream:function(e){var l,r=this,a=null!=e.filter?r.eventExpression(e.filter):void 0,s=null!=e.stream?r.get(e.stream):void 0;e.source?s=r.events(e.source,e.type,a):e.merge&&(s=(l=e.merge.map(f=>r.get(f)))[0].merge.apply(l[0],l.slice(1))),e.between&&(l=e.between.map(f=>r.get(f)),s=s.between(l[0],l[1])),e.filter&&(s=s.filter(a)),null!=e.throttle&&(s=s.throttle(+e.throttle)),null!=e.debounce&&(s=s.debounce(+e.debounce)),null==s&&(0,E.vU)("Invalid stream definition: "+JSON.stringify(e)),e.consume&&s.consume(!0),r.stream(e,s)},parseUpdate:function(e){var l,r=this,a=(0,E.Kn)(a=e.source)?a.$ref:a,s=r.get(a),f=e.update,d=void 0;s||(0,E.vU)("Source not defined: "+e.source),l=e.target&&e.target.$expr?r.eventExpression(e.target.$expr):r.get(e.target),f&&f.$expr&&(f.$params&&(d=r.parseParameters(f.$params)),f=r.handlerExpression(f.$expr)),r.update(e,s,l,f,d)},getState:function(e){var r=this,a={};if(e.signals){var s=a.signals={};Object.keys(r.signals).forEach(f=>{const d=r.signals[f];e.signals(f,d)&&(s[f]=d.value)})}if(e.data){var l=a.data={};Object.keys(r.data).forEach(f=>{const d=r.data[f];e.data(f,d)&&(l[f]=d.input.value)})}return r.subcontext&&!1!==e.recurse&&(a.subcontext=r.subcontext.map(f=>f.getState(e))),a},setState:function(e){var r=this,a=r.dataflow,s=e.data,l=e.signals;Object.keys(l||{}).forEach(f=>{a.update(r.signals[f],l[f],QV)}),Object.keys(s||{}).forEach(f=>{a.pulse(r.data[f].input,a.changeset().remove(E.yb).insert(s[f]))}),(e.subcontext||[]).forEach((f,d)=>{const h=r.subcontext[d];h&&h.setState(f)})}};const Bv="default";function jv(e,r){const a=e.globalCursor()?"undefined"!=typeof document&&document.body:e.container();if(a)return null==r?a.style.removeProperty("cursor"):a.style.cursor=r}function x5(e,r){var a=e._runtime.data;return(0,E.nr)(a,r)||(0,E.vU)("Unrecognized data set: "+r),a[r]}function M5(e,r){iT(r)||(0,E.vU)("Second argument to changes must be a changeset.");const a=x5(this,e);return a.modified=!0,this.pulse(a.input,r)}function JD(e){var r=e.padding();return Math.max(0,e._viewWidth+r.left+r.right)}function eA(e){var r=e.padding();return Math.max(0,e._viewHeight+r.top+r.bottom)}function w5(e){var r=e.padding(),a=e._origin;return[r.left+a[0],r.top+a[1]]}const mO={trap:!1};function nA(e,r,a,s){e._eventListeners.push({type:a,sources:(0,E.IX)(r),handler:s})}function E5(e,r,a){const s=e._eventConfig&&e._eventConfig[r];return!(!1===s||(0,E.Kn)(s)&&!s[a])||(e.warn(`Blocked ${r} ${a} event listener.`),!1)}function iA(e){return e.item}function rA(e){return e.item.mark.source}function oA(e){return function(r,a){return a.vega.view().changeset().encode(a.item,e)}}function v1(e,r,a){const s=document.createElement(e);for(const l in r)s.setAttribute(l,r[l]);return null!=a&&(s.textContent=a),s}function MO(e,r,a){if(!r)return;const s=a.param;let l=a.state;return l||(l=a.state={elements:null,active:!1,set:null,update:d=>{d!=e.signal(s.signal)&&e.runAsync(null,()=>{l.source=!0,e.signal(s.signal,d)})}},s.debounce&&(l.update=(0,E.Ds)(s.debounce,l.update))),(null==s.input&&s.element?wO:DO)(l,r,s,e),l.active||(e.on(e._signals[s.signal],null,()=>{l.source?l.source=!1:l.set(e.signal(s.signal))}),l.active=!0),l}function wO(e,r,a,s){const l=a.event||"input",f=()=>e.update(r.value);s.signal(a.signal,r.value),r.addEventListener(l,f),nA(s,r,l,f),e.set=d=>{r.value=d,r.dispatchEvent(function(e){return"undefined"!=typeof Event?new Event(e):{type:e}}(l))}}function DO(e,r,a,s){const l=s.signal(a.signal),f=v1("div",{class:"vega-bind"}),d="radio"===a.input?f:f.appendChild(v1("label"));d.appendChild(v1("span",{class:"vega-bind-name"},a.name||a.signal)),r.appendChild(f);let h=AO;switch(a.input){case"checkbox":h=SO;break;case"select":h=kO;break;case"radio":h=TO;break;case"range":h=zO}h(e,d,a,l)}function AO(e,r,a,s){const l=v1("input");for(const f in a)"signal"!==f&&"element"!==f&&l.setAttribute("input"===f?"type":f,a[f]);l.setAttribute("name",a.signal),l.value=s,r.appendChild(l),l.addEventListener("input",()=>e.update(l.value)),e.elements=[l],e.set=f=>l.value=f}function SO(e,r,a,s){const l={type:"checkbox",name:a.signal};s&&(l.checked=!0);const f=v1("input",l);r.appendChild(f),f.addEventListener("change",()=>e.update(f.checked)),e.elements=[f],e.set=d=>f.checked=!!d||null}function kO(e,r,a,s){const l=v1("select",{name:a.signal}),f=a.labels||[];a.options.forEach((d,h)=>{const p={value:d};D5(d,s)&&(p.selected=!0),l.appendChild(v1("option",p,(f[h]||d)+""))}),r.appendChild(l),l.addEventListener("change",()=>{e.update(a.options[l.selectedIndex])}),e.elements=[l],e.set=d=>{for(let h=0,p=a.options.length;h<p;++h)if(D5(a.options[h],d))return void(l.selectedIndex=h)}}function TO(e,r,a,s){const l=v1("span",{class:"vega-bind-radio"}),f=a.labels||[];r.appendChild(l),e.elements=a.options.map((d,h)=>{const p={type:"radio",name:a.signal,value:d};D5(d,s)&&(p.checked=!0);const v=v1("input",p);v.addEventListener("change",()=>e.update(d));const _=v1("label",{},(f[h]||d)+"");return _.prepend(v),l.appendChild(_),v}),e.set=d=>{const h=e.elements,p=h.length;for(let v=0;v<p;++v)D5(h[v].value,d)&&(h[v].checked=!0)}}function zO(e,r,a,s){s=void 0!==s?s:(+a.max+ +a.min)/2;const l=null!=a.max?a.max:Math.max(100,+s)||100,f=a.min||Math.min(0,l,+s)||0,d=a.step||Fa(f,l,100),h=v1("input",{type:"range",name:a.signal,min:f,max:l,step:d});h.value=s;const p=v1("span",{},+s);r.appendChild(h),r.appendChild(p);const v=()=>{p.textContent=h.value,e.update(+h.value)};h.addEventListener("input",v),h.addEventListener("change",v),e.elements=[h],e.set=_=>{h.value=_,p.textContent=_}}function D5(e,r){return e===r||e+""==r+""}function aA(e,r,a,s,l,f){return(r=r||new s(e.loader())).initialize(a,JD(e),eA(e),w5(e),l,f).background(e.background())}function Uv(e,r){return r?function(){try{r.apply(this,arguments)}catch(a){e.error(a)}}:null}function $v(e,r,a){if("string"==typeof r){if("undefined"==typeof document)return e.error("DOM document instance not found."),null;if(!(r=document.querySelector(r)))return e.error("Signal bind element not found: "+r),null}if(r&&a)try{r.innerHTML=""}catch(s){r=null,e.error(s)}return r}const A3=e=>+e||0;function sA(e){return(0,E.Kn)(e)?{top:A3(e.top),bottom:A3(e.bottom),left:A3(e.left),right:A3(e.right)}:(e=>({top:e,bottom:e,left:e,right:e}))(A3(e))}function qv(e,r,a,s){return Wv.apply(this,arguments)}function Wv(){return Wv=(0,_i.Z)(function*(e,r,a,s){const l=Ld(r),f=l&&l.headless;return f||(0,E.vU)("Unrecognized renderer type: "+r),yield e.runAsync(),aA(e,null,null,f,a,s).renderAsync(e._scenegraph.root)}),Wv.apply(this,arguments)}function Gv(){return Gv=(0,_i.Z)(function*(e,r){"canvas"!==e&&"svg"!==e&&"png"!==e&&(0,E.vU)("Unrecognized image type: "+e);const a=yield qv(this,e,r);return"svg"===e?RO(a.svg(),"image/svg+xml"):a.canvas().toDataURL("image/png")}),Gv.apply(this,arguments)}function RO(e,r){const a=new Blob([e],{type:r});return window.URL.createObjectURL(a)}function Xv(){return Xv=(0,_i.Z)(function*(e,r){return(yield qv(this,"canvas",e,r)).canvas()}),Xv.apply(this,arguments)}function Yv(){return Yv=(0,_i.Z)(function*(e){return(yield qv(this,"svg",e)).svg()}),Yv.apply(this,arguments)}var Zv="padding",uA={skip:!0};function fA(e,r){var a=e.autosize(),s=e.padding();return r-(a&&a.contains===Zv?s.left+s.right:0)}function dA(e,r){var a=e.autosize(),s=e.padding();return r-(a&&a.contains===Zv?s.top+s.bottom:0)}function $O(e,r){return r.modified&&(0,E.kJ)(r.input.value)&&e.indexOf("_:vega:_")}function qO(e,r){return!("parent"===e||r instanceof Ws.proxy)}function XO(e,r,a,s){const l=e.element();l&&l.setAttribute("title",function(e){return null==e?"":(0,E.kJ)(e)?hA(e):(0,E.Kn)(e)&&!(0,E.J_)(e)?function(e){return Object.keys(e).map(r=>{const a=e[r];return r+": "+((0,E.kJ)(a)?hA(a):mA(a))}).join("\n")}(e):e+""}(s))}function hA(e){return"["+e.map(mA).join(", ")+"]"}function mA(e){return(0,E.kJ)(e)?"[\u2026]":(0,E.Kn)(e)&&!(0,E.J_)(e)?"{\u2026}":e}function pA(e,r){const a=this;if(r=r||{},C6.call(a),r.loader&&a.loader(r.loader),r.logger&&a.logger(r.logger),null!=r.logLevel&&a.logLevel(r.logLevel),r.locale||e.locale){const f=(0,E.l7)({},e.locale,r.locale);a.locale(function(e,r){const a=e?Dy(e):Af(),s=r?Sn(r):kn();return Sf(a,s)}(f.number,f.time))}a._el=null,a._elBind=null,a._renderType=r.renderer||"canvas",a._scenegraph=new nM;const s=a._scenegraph.root;a._renderer=null,a._tooltip=r.tooltip||XO,a._redraw=!0,a._handler=(new Wc).scene(s),a._globalCursor=!1,a._preventDefault=!1,a._timers=[],a._eventListeners=[],a._resizeListeners=[],a._eventConfig=function(e){const r=(0,E.l7)({defaults:{}},e),a=(s,l)=>{l.forEach(f=>{(0,E.kJ)(s[f])&&(s[f]=(0,E.Rg)(s[f]))})};return a(r.defaults,["prevent","allow"]),a(r,["view","window","selector"]),r}(e.eventConfig),a.globalCursor(a._eventConfig.globalCursor);const l=function(e,r,a){return function(e,r,a,s){return new ZD(e,r,a,s)}(e,Ws,E3,a).parse(r)}(a,e,r.expr);a._runtime=l,a._signals=l.signals,a._bind=(e.bindings||[]).map(f=>({state:null,param:(0,E.l7)({},f)})),l.root&&l.root.set(s),s.source=l.data.root.input,a.pulse(l.data.root.input,a.changeset().insert(s.items)),a._width=a.width(),a._height=a.height(),a._viewWidth=fA(a,a._width),a._viewHeight=dA(a,a._height),a._origin=[0,0],a._resize=0,a._autosize=1,function(e){var r=e._signals,a=r.width,s=r.height,l=r[Zv];function f(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,h=>{e._width=h.size,e._viewWidth=fA(e,h.size),f()},{size:a}),e._resizeHeight=e.add(null,h=>{e._height=h.size,e._viewHeight=dA(e,h.size),f()},{size:s});const d=e.add(null,f,{pad:l});e._resizeWidth.rank=a.rank+1,e._resizeHeight.rank=s.rank+1,d.rank=l.rank+1}(a),function(e){e.add(null,r=>(e._background=r.bg,e._resize=1,r.bg),{bg:e._signals.background})}(a),function(e){const r=e._signals.cursor||(e._signals.cursor=e.add({user:Bv,item:null}));e.on(e.events("view","mousemove"),r,(a,s)=>{const l=r.value,f=l?(0,E.HD)(l)?l:l.user:Bv,d=s.item&&s.item.cursor||null;return l&&f===l.user&&d==l.item?l:{user:f,item:d}}),e.add(null,function(a){let s=a.cursor,l=this.value;return(0,E.HD)(s)||(l=s.item,s=s.user),jv(e,s&&s!==Bv?s:l||s),l},{cursor:r})}(a),a.description(e.description),r.hover&&a.hover(),r.container&&a.initialize(r.container,r.bind)}function A5(e,r){return(0,E.nr)(e._signals,r)?e._signals[r]:(0,E.vU)("Unrecognized signal name: "+(0,E.m8)(r))}function gA(e,r){const a=(e._targets||[]).filter(s=>s._update&&s._update.handler===r);return a.length?a[0]:null}function vA(e,r,a,s){let l=gA(a,s);return l||(l=Uv(e,()=>s(r,a.value)),l.handler=s,e.on(a,null,l)),e}function _A(e,r,a){const s=gA(r,a);return s&&r._targets.remove(s),e}(0,E.XW)(pA,C6,{evaluate(e,r,a){var s=this;return(0,_i.Z)(function*(){if(yield C6.prototype.evaluate.call(s,e,r),s._redraw||s._resize)try{s._renderer&&(s._resize&&(s._resize=0,function(e){var r=w5(e),a=JD(e),s=eA(e);e._renderer.background(e.background()),e._renderer.resize(a,s,r),e._handler.origin(r),e._resizeListeners.forEach(l=>{try{l(a,s)}catch(f){e.error(f)}})}(s)),yield s._renderer.renderAsync(s._scenegraph.root)),s._redraw=!1}catch(l){s.error(l)}return a&&gc(s,a),s})()},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const r=null!=e?e+"":null;return r!==this._desc&&QD(this._el,this._desc=r),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,r,a){const s=A5(this,e);return 1===arguments.length?s.value:this.update(s,r,a)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",sA(e)):sA(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(Ld(e)||(0,E.vU)("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(C6.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(A5(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(e,r,a,s,l,f){this.runAfter(d=>{let h=0;d._autosize=0,d.width()!==a&&(h=1,d.signal("width",a,uA),d._resizeWidth.skip(!0)),d.height()!==s&&(h=1,d.signal("height",s,uA),d._resizeHeight.skip(!0)),d._viewWidth!==e&&(d._resize=1,d._viewWidth=e),d._viewHeight!==r&&(d._resize=1,d._viewHeight=r),(d._origin[0]!==l[0]||d._origin[1]!==l[1])&&(d._resize=1,d._origin=l),h&&d.run("enter"),f&&d.runAfter(p=>p.resize())},!1,1)},addEventListener(e,r,a){let s=r;return a&&!1===a.trap||(s=Uv(this,r),s.raw=r),this._handler.on(e,s),this},removeEventListener(e,r){for(var l,f,a=this._handler.handlers(e),s=a.length;--s>=0;)if(l=a[s].handler,e===(f=a[s].type)&&(r===l||r===l.raw)){this._handler.off(f,l);break}return this},addResizeListener(e){const r=this._resizeListeners;return r.indexOf(e)<0&&r.push(e),this},removeResizeListener(e){var r=this._resizeListeners,a=r.indexOf(e);return a>=0&&r.splice(a,1),this},addSignalListener(e,r){return vA(this,e,A5(this,e),r)},removeSignalListener(e,r){return _A(this,A5(this,e),r)},addDataListener(e,r){return vA(this,e,x5(this,e).values,r)},removeDataListener(e,r){return _A(this,x5(this,e).values,r)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const r=jv(this,null);this._globalCursor=!!e,r&&jv(this,r)}return this}return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:function(e,r){this._timers.push(function(e,r,a){var s=new sl,l=r;return null==r?(s.restart(e,r,a),s):(s._restart=s.restart,s.restart=function(f,d,h){d=+d,h=null==h?aE():+h,s._restart(function p(v){v+=l,s._restart(p,l+=d,h),f(v)},d,h)},s.restart(e,r,a),s)}(function(s){e({timestamp:Date.now(),elapsed:s})},r))},events:function(e,r,a){var d,s=this,l=new Lf(a),f=function(v,_){s.runAsync(null,()=>{"view"===e&&function(e,r){var a=e._eventConfig.defaults,s=a.prevent,l=a.allow;return!1!==s&&!0!==l&&(!0===s||!1===l||(s?s[r]:l?!l[r]:e.preventDefault()))}(s,r)&&v.preventDefault(),l.receive(function(e,r,a){var f,h,s=e._renderer,l=s&&s.canvas();return l&&(h=w5(e),(f=wd(r.changedTouches?r.changedTouches[0]:r,l))[0]-=h[0],f[1]-=h[1]),r.dataflow=e,r.item=a,r.vega=function(e,r,a){const s=r?"group"===r.mark.marktype?r:r.mark.group:null;function l(d){var p,h=s;if(d)for(p=r;p;p=p.mark.group)if(p.mark.name===d){h=p;break}return h&&h.mark&&h.mark.interactive?h:{}}function f(d){if(!d)return a;(0,E.HD)(d)&&(d=l(d));const h=a.slice();for(;d;)h[0]-=d.x||0,h[1]-=d.y||0,d=d.mark&&d.mark.group;return h}return{view:(0,E.a9)(e),item:(0,E.a9)(r||{}),group:l,xy:f,x:d=>f(d)[0],y:d=>f(d)[1]}}(e,a,f),r}(s,v,_))})};if("timer"===e)E5(s,"timer",r)&&s.timer(f,r);else if("view"===e)E5(s,"view",r)&&s.addEventListener(r,f,mO);else if("window"===e?E5(s,"window",r)&&"undefined"!=typeof window&&(d=[window]):"undefined"!=typeof document&&E5(s,"selector",r)&&(d=document.querySelectorAll(e)),d){for(var h=0,p=d.length;h<p;++h)d[h].addEventListener(r,f);nA(s,d,r,f)}else s.warn("Can not resolve event source: "+e);return l},finalize:function(){var s,l,f,e=this._tooltip,r=this._timers,a=this._eventListeners;for(s=r.length;--s>=0;)r[s].stop();for(s=a.length;--s>=0;)for(l=(f=a[s]).sources.length;--l>=0;)f.sources[l].removeEventListener(f.type,f.handler);return e&&e.call(this,this._handler,null,null,null),this},hover:function(e,r){return r=[r||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",iA),rA,oA(e)),this.on(this.events("view","mouseout",iA),rA,oA(r)),this},data:function(e,r){return arguments.length<2?x5(this,e).values.value:M5.call(this,e,e0().remove(E.yb).insert(r))},change:M5,insert:function(e,r){return M5.call(this,e,e0().insert(r))},remove:function(e,r){return M5.call(this,e,e0().remove(r))},scale:function(e){var r=this._runtime.scales;return(0,E.nr)(r,e)||(0,E.vU)("Unrecognized scale or projection: "+e),r[e].value},initialize:function(e,r){const a=this,s=a._renderType,l=a._eventConfig.bind,f=Ld(s);e=a._el=e?$v(a,e,!0):null,function(e){const r=e.container();r&&(r.setAttribute("role","graphics-document"),r.setAttribute("aria-roleDescription","visualization"),QD(r,e.description()))}(a),f||a.error("Unrecognized renderer type: "+s);const d=f.handler||Wc,h=e?f.renderer:f.headless;return a._renderer=h?aA(a,a._renderer,e,h):null,a._handler=function(e,r,a,s){const l=new s(e.loader(),Uv(e,e.tooltip())).scene(e.scenegraph().root).initialize(a,w5(e),e);return r&&r.handlers().forEach(f=>{l.on(f.type,f.handler)}),l}(a,a._handler,e,d),a._redraw=!0,e&&"none"!==l&&(r=r?a._elBind=$v(a,r,!0):e.appendChild(v1("form",{class:"vega-bindings"})),a._bind.forEach(p=>{p.param.element&&"container"!==l&&(p.element=$v(a,p.param.element,!!p.param.input))}),a._bind.forEach(p=>{MO(a,p.element||r,p)})),a},toImageURL:function(e,r){return Gv.apply(this,arguments)},toCanvas:function(e,r){return Xv.apply(this,arguments)},toSVG:function(e){return Yv.apply(this,arguments)},getState:function(e){return this._runtime.getState(e||{data:$O,signals:qO,recurse:!0})},setState:function(e){return this.runAsync(null,r=>{r._trigger=!1,r._runtime.setState(e)},r=>{r._trigger=!0}),this}});const tP=/[[\]{}]/,nP={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let xA,MA;function S3(e,r,a,s,l){const f=e.length;let h,d=0;for(;r<f;++r){if(h=e[r],!d&&h===a)return r;l&&l.indexOf(h)>=0?--d:s&&s.indexOf(h)>=0&&++d}return r}function wA(e){const r=[],a=e.length;let s=0,l=0;for(;l<a;)l=S3(e,l,",","[{","]}"),r.push(e.substring(s,l).trim()),s=++l;if(0===r.length)throw"Empty event selector: "+e;return r}function Kv(e){return"["===e[0]?function(e){const r=e.length;let s,a=1;if(a=S3(e,a,"]","[","]"),a===r)throw"Empty between selector: "+e;if(s=wA(e.substring(1,a)),2!==s.length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(a+1).trim())[0])throw"Expected '>' after between selector: "+e;s=s.map(Kv);const l=Kv(e.slice(1).trim());return l.between?{between:s,stream:l}:(l.between=s,l)}(e):function(e){const r={source:xA},a=[];let p,v,s=[0,0],l=0,f=0,d=e.length,h=0;if("}"===e[d-1]){if(h=e.lastIndexOf("{"),!(h>=0))throw"Unmatched right brace: "+e;try{s=function(e){const r=e.split(",");if(!e.length||r.length>2)throw e;return r.map(a=>{const s=+a;if(s!=s)throw e;return s})}(e.substring(h+1,d-1))}catch(_){throw"Invalid throttle specification: "+e}d=(e=e.slice(0,h).trim()).length,h=0}if(!d)throw e;if("@"===e[0]&&(l=++h),p=S3(e,h,":"),p<d&&(a.push(e.substring(f,p).trim()),f=h=++p),h=S3(e,h,"["),h===d)a.push(e.substring(f,d).trim());else if(a.push(e.substring(f,h).trim()),v=[],f=++h,f===d)throw"Unmatched left bracket: "+e;for(;h<d;){if(h=S3(e,h,"]"),h===d)throw"Unmatched left bracket: "+e;if(v.push(e.substring(f,h).trim()),h<d-1&&"["!==e[++h])throw"Expected left bracket: "+e;f=++h}if(!(d=a.length)||tP.test(a[d-1]))throw"Invalid event selector: "+e;return d>1?(r.type=a[1],l?r.markname=a[0].slice(1):function(e){return MA[e]}(a[0])?r.marktype=a[0]:r.source=a[0]):r.type=a[0],"!"===r.type.slice(-1)&&(r.consume=!0,r.type=r.type.slice(0,-1)),null!=v&&(r.filter=v),s[0]&&(r.throttle=s[0]),s[1]&&(r.debounce=s[1]),r}(e)}function cP(e){return(0,E.Kn)(e)?e:{type:e||"pad"}}const k3=e=>+e||0;function uP(e){return(0,E.Kn)(e)?e.signal?e:{top:k3(e.top),bottom:k3(e.bottom),left:k3(e.left),right:k3(e.right)}:(e=>({top:e,bottom:e,left:e,right:e}))(k3(e))}const mi=e=>(0,E.Kn)(e)&&!(0,E.kJ)(e)?(0,E.l7)({},e):{value:e};function EA(e,r,a,s){return null!=a?((0,E.Kn)(a)&&!(0,E.kJ)(a)||(0,E.kJ)(a)&&a.length&&(0,E.Kn)(a[0])?e.update[r]=a:e[s||"enter"][r]={value:a},1):0}function Ti(e,r,a){for(const s in r)EA(e,s,r[s]);for(const s in a)EA(e,s,a[s],"update")}function L4(e,r,a){for(const s in r)a&&(0,E.nr)(a,s)||(e[s]=(0,E.l7)(e[s]||{},r[s]));return e}function F4(e,r){return r&&(r.enter&&r.enter[e]||r.update&&r.update[e])}const Qv="mark",Jv="frame",e_="scope",DA="legend-label";function t_(e,r,a){e[r]=a&&a.signal?{signal:a.signal}:{value:a}}const AA=e=>(0,E.HD)(e)?(0,E.m8)(e):e.signal?`(${e.signal})`:SA(e);function T5(e){if(null!=e.gradient)return function(e){const r=[e.start,e.stop,e.count].map(a=>null==a?null:(0,E.m8)(a));for(;r.length&&null==(0,E.fj)(r);)r.pop();return r.unshift(AA(e.gradient)),`gradient(${r.join(",")})`}(e);let r=e.signal?`(${e.signal})`:e.color?function(e){return e.c?z5("hcl",e.h,e.c,e.l):e.h||e.s?z5("hsl",e.h,e.s,e.l):e.l||e.a?z5("lab",e.l,e.a,e.b):e.r||e.g||e.b?z5("rgb",e.r,e.g,e.b):null}(e.color):null!=e.field?SA(e.field):void 0!==e.value?(0,E.m8)(e.value):void 0;return null!=e.scale&&(r=function(e,r){const a=AA(e.scale);return null!=e.range?r=`lerp(_range(${a}), ${+e.range})`:(void 0!==r&&(r=`_scale(${a}, ${r})`),e.band&&(r=(r?r+"+":"")+`_bandwidth(${a})`+(1==+e.band?"":"*"+N5(e.band)),e.extra&&(r=`(datum.extra ? _scale(${a}, datum.extra.value) : ${r})`)),null==r&&(r="0")),r}(e,r)),void 0===r&&(r=null),null!=e.exponent&&(r=`pow(${r},${N5(e.exponent)})`),null!=e.mult&&(r+=`*${N5(e.mult)}`),null!=e.offset&&(r+=`+${N5(e.offset)}`),e.round&&(r=`round(${r})`),r}const z5=(e,r,a,s)=>`(${e}(${[r,a,s].map(T5).join(",")})+'')`;function N5(e){return(0,E.Kn)(e)?"("+T5(e)+")":e}function SA(e){return kA((0,E.Kn)(e)?e:{datum:e})}function kA(e){let r,a,s;if(e.signal)r="datum",s=e.signal;else if(e.group||e.parent){for(a=Math.max(1,e.level||1),r="item";a-- >0;)r+=".mark.group";e.parent?(s=e.parent,r+=".datum"):s=e.group}else e.datum?(r="datum",s=e.datum):(0,E.vU)("Invalid field reference: "+(0,E.m8)(e));return e.signal||(s=(0,E.HD)(s)?(0,E._k)(s).map(E.m8).join("]["):kA(s)),r+"["+s+"]"}function TA(e,r,a,s,l,f){const d={};(f=f||{}).encoders={$encode:d},e=function(e,r,a,s,l){const f={},d={};let h,p,v,_;for(p in p="lineBreak","text"===r&&null!=l[p]&&!F4(p,e)&&t_(f,p,l[p]),("legend"==a||String(a).startsWith("axis"))&&(a=null),_=a===Jv?l.group:a===Qv?(0,E.l7)({},l.mark,l[r]):null,_)v=F4(p,e)||("fill"===p||"stroke"===p)&&(F4("fill",e)||F4("stroke",e)),v||t_(f,p,_[p]);for(p in(0,E.IX)(s).forEach(y=>{const C=l.style&&l.style[y];for(const M in C)F4(M,e)||t_(f,M,C[M])}),e=(0,E.l7)({},e),f)_=f[p],_.signal?(h=h||{})[p]=_:d[p]=_;return e.enter=(0,E.l7)(d,e.enter),h&&(e.update=(0,E.l7)(h,e.update)),e}(e,r,a,s,l.config);for(const h in e)d[h]=zP(e[h],r,f,l);return f}function zP(e,r,a,s){const l={},f={};for(const d in e)null!=e[d]&&(l[d]=IP(NP(e[d]),s,a,f));return{$expr:{marktype:r,channels:l},$fields:Object.keys(f),$output:Object.keys(e)}}function NP(e){return(0,E.kJ)(e)?function(e){let r="";return e.forEach(a=>{const s=T5(a);r+=a.test?`(${a.test})?${s}:`:s}),":"===(0,E.fj)(r)&&(r+="null"),r}(e):T5(e)}function IP(e,r,a,s){const l=Fo(e,r);return l.$fields.forEach(f=>s[f]=1),(0,E.l7)(a,l.$params),l.$expr}const FP=["value","update","init","react","bind"];function zA(e,r){(0,E.vU)(e+' for "outer" push: '+(0,E.m8)(r))}function NA(e,r){const a=e.name;if("outer"===e.push)r.signals[a]||zA("No prior signal definition",a),FP.forEach(s=>{void 0!==e[s]&&zA("Invalid property ",s)});else{const s=r.addSignal(a,e.value);!1===e.react&&(s.react=!1),e.bind&&r.addBinding(a,e.bind)}}function n_(e,r,a,s){this.id=-1,this.type=e,this.value=r,this.params=a,s&&(this.parent=s)}function I5(e,r,a,s){return new n_(e,r,a,s)}function L5(e,r){return I5("operator",e,r)}function Pe(e){const r={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(r),r}function T3(e,r){return r?{$field:e,$name:r}:{$field:e}}const i_=T3("key");function IA(e,r){return{$compare:e,$order:r}}function F5(e,r){return(e&&e.signal?"$"+e.signal:e||"")+(e&&r?"_":"")+(r&&r.signal?"$"+r.signal:r||"")}const r_="scope",o_="view";function ti(e){return e&&e.signal}function R5(e){if(ti(e))return!0;if((0,E.Kn)(e))for(const r in e)if(R5(e[r]))return!0;return!1}function Ro(e,r){return null!=e?e:r}function Al(e){return e&&e.signal||e}function z3(e,r){return(e.merge?jP:e.stream?UP:e.type?$P:(0,E.vU)("Invalid stream specification: "+(0,E.m8)(e)))(e,r)}function jP(e,r){const s=a_({merge:e.merge.map(l=>z3(l,r))},e,r);return r.addStream(s).id}function UP(e,r){const s=a_({stream:z3(e.stream,r)},e,r);return r.addStream(s).id}function $P(e,r){let a;"timer"===e.type?(a=r.event("timer",e.throttle),e={between:e.between,filter:e.filter}):a=r.event(function(e){return e===r_?o_:e||o_}(e.source),e.type);const s=a_({stream:a},e,r);return 1===Object.keys(s).length?a:r.addStream(s).id}function a_(e,r,a){let s=r.between;return s&&(2!==s.length&&(0,E.vU)('Stream "between" parameter must have 2 entries: '+(0,E.m8)(r)),e.between=[z3(s[0],a),z3(s[1],a)]),s=r.filter?[].concat(r.filter):[],(r.marktype||r.markname||r.markrole)&&s.push(function(e,r,a){const s="event.item";return s+(e&&"*"!==e?"&&"+s+".mark.marktype==='"+e+"'":"")+(a?"&&"+s+".mark.role==='"+a+"'":"")+(r?"&&"+s+".mark.name==='"+r+"'":"")}(r.marktype,r.markname,r.markrole)),r.source===r_&&s.push("inScope(event.item)"),s.length&&(e.filter=Fo("("+s.join(")&&(")+")",a).$expr),null!=(s=r.throttle)&&(e.throttle=+s),null!=(s=r.debounce)&&(e.debounce=+s),r.consume&&(e.consume=!0),e}const qP={code:"_.$value",ast:{type:"Identifier",value:"value"}};function XP(e){return{signal:"["+e.map(r=>r.scale?'scale("'+r.scale+'")':r.signal)+"]"}}const en=e=>(r,a,s)=>I5(e,a,r||void 0,s),FA=en("aggregate"),ZP=en("axisticks"),RA=en("bound"),Vo=en("collect"),VA=en("compare"),KP=en("datajoin"),OA=en("encode"),QP=en("expression"),JP=en("facet"),eH=en("field"),tH=en("key"),nH=en("legendentries"),iH=en("load"),rH=en("mark"),oH=en("multiextent"),aH=en("multivalues"),sH=en("overlap"),cH=en("params"),PA=en("prefacet"),lH=en("projection"),uH=en("proxy"),fH=en("relay"),HA=en("render"),dH=en("scale"),Sl=en("sieve"),hH=en("sortitems"),BA=en("viewlayout"),mH=en("values");let pH=0;const jA={min:"min",max:"max",count:"sum"};function vH(e,r){const a=r.getScale(e.name).params;let s;for(s in a.domain=UA(e.domain,e,r),null!=e.range&&(a.range=qA(e,r,a)),null!=e.interpolate&&function(e,r){r.interpolate=G1(e.type||e),null!=e.gamma&&(r.interpolateGamma=G1(e.gamma))}(e.interpolate,a),null!=e.nice&&(a.nice=function(e){return(0,E.Kn)(e)?{interval:G1(e.interval),step:G1(e.step)}:G1(e)}(e.nice)),null!=e.bins&&(a.bins=function(e,r){return e.signal||(0,E.kJ)(e)?V5(e,r):r.objectProperty(e)}(e.bins,r)),e)(0,E.nr)(a,s)||"name"===s||(a[s]=G1(e[s],r))}function G1(e,r){return(0,E.Kn)(e)?e.signal?r.signalRef(e.signal):(0,E.vU)("Unsupported object: "+(0,E.m8)(e)):e}function V5(e,r){return e.signal?r.signalRef(e.signal):e.map(a=>G1(a,r))}function O5(e){(0,E.vU)("Can not find data set: "+(0,E.m8)(e))}function UA(e,r,a){if(e)return e.signal?a.signalRef(e.signal):((0,E.kJ)(e)?_H:e.fields?bH:yH)(e,r,a);(null!=r.domainMin||null!=r.domainMax)&&(0,E.vU)("No scale domain defined for domainMin/domainMax to override.")}function _H(e,r,a){return e.map(s=>G1(s,a))}function yH(e,r,a){const s=a.getData(e.data);return s||O5(e.data),z0(r.type)?s.valuesRef(a,e.field,$A(e.sort,!1)):ZC(r.type)?s.domainRef(a,e.field):s.extentRef(a,e.field)}function bH(e,r,a){const s=e.data,l=e.fields.reduce((f,d)=>(d=(0,E.HD)(d)?{data:s,field:d}:(0,E.kJ)(d)||d.signal?function(e,r){const a="_:vega:_"+pH++,s=Vo({});if((0,E.kJ)(e))s.value={$ingest:e};else if(e.signal){const l="setdata("+(0,E.m8)(a)+","+e.signal+")";s.params.input=r.signalRef(l)}return r.addDataPipeline(a,[s,Sl({})]),{data:a,field:"data"}}(d,a):d,f.push(d),f),[]);return(z0(r.type)?xH:ZC(r.type)?MH:wH)(e,a,l)}function xH(e,r,a){const s=$A(e.sort,!0);let l,f;const d=a.map(v=>{const _=r.getData(v.data);return _||O5(v.data),_.countsRef(r,v.field,s)}),h={groupby:i_,pulse:d};s&&(l=s.op||"count",f=s.field?F5(l,s.field):"count",h.ops=[jA[l]],h.fields=[r.fieldRef(f)],h.as=[f]),l=r.add(FA(h));const p=r.add(Vo({pulse:Pe(l)}));return f=r.add(mH({field:i_,sort:r.sortRef(s),pulse:Pe(p)})),Pe(f)}function $A(e,r){return e&&(e.field||e.op?e.field||"count"===e.op?r&&e.field&&e.op&&!jA[e.op]&&(0,E.vU)("Multiple domain scales can not be sorted using "+e.op):(0,E.vU)("No field provided for sort aggregate op: "+e.op):(0,E.Kn)(e)?e.field="key":e={field:"key"}),e}function MH(e,r,a){const s=a.map(l=>{const f=r.getData(l.data);return f||O5(l.data),f.domainRef(r,l.field)});return Pe(r.add(aH({values:s})))}function wH(e,r,a){const s=a.map(l=>{const f=r.getData(l.data);return f||O5(l.data),f.extentRef(r,l.field)});return Pe(r.add(oH({extents:s})))}function qA(e,r,a){const s=r.config.range;let l=e.range;if(l.signal)return r.signalRef(l.signal);if((0,E.HD)(l)){if(s&&(0,E.nr)(s,l))return qA(e=(0,E.l7)({},e,{range:s[l]}),r,a);"width"===l?l=[0,{signal:"width"}]:"height"===l?l=z0(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:(0,E.vU)("Unrecognized scale range value: "+(0,E.m8)(l))}else{if(l.scheme)return a.scheme=(0,E.kJ)(l.scheme)?V5(l.scheme,r):G1(l.scheme,r),l.extent&&(a.schemeExtent=V5(l.extent,r)),void(l.count&&(a.schemeCount=G1(l.count,r)));if(l.step)return void(a.rangeStep=G1(l.step,r));if(z0(e.type)&&!(0,E.kJ)(l))return UA(l,e,r);(0,E.kJ)(l)||(0,E.vU)("Unsupported range type: "+(0,E.m8)(l))}return l.map(f=>((0,E.kJ)(f)?V5:G1)(f,r))}function c_(e,r,a){return(0,E.kJ)(e)?e.map(s=>c_(s,r,a)):(0,E.Kn)(e)?e.signal?a.signalRef(e.signal):"fit"===r?e:(0,E.vU)("Unsupported parameter object: "+(0,E.m8)(e)):e}const Oo="top",U2="bottom",f_="label",X1="value",N3="guide-label",d_="guide-title",P5="gradient",h_="discrete",p_=["size","shape","fill","stroke","strokeWidth","strokeDash","opacity"],I3={name:1,style:1,interactive:1},zt={value:0},Y1={value:1},H5="group",L3="rule",kl="text";function F3(e){return e.type=H5,e.interactive=e.interactive||!1,e}function Wr(e,r){const a=(s,l)=>Ro(e[s],Ro(r[s],l));return a.isVertical=s=>"vertical"===Ro(e.direction,r.direction||(s?r.symbolDirection:r.gradientDirection)),a.gradientLength=()=>Ro(e.gradientLength,r.gradientLength||r.gradientWidth),a.gradientThickness=()=>Ro(e.gradientThickness,r.gradientThickness||r.gradientHeight),a.entryColumns=()=>Ro(e.columns,Ro(r.columns,+a.isVertical(!0))),a}function YA(e,r){const a=r&&(r.update&&r.update[e]||r.enter&&r.enter[e]);return a&&a.signal?a:a?a.value:null}function B5(e,r,a){return`item.anchor === 'start' ? ${e} : item.anchor === 'end' ? ${r} : ${a}`}const g_=B5((0,E.m8)("left"),(0,E.m8)("right"),(0,E.m8)("center"));function ZA(e,r){return r?e?(0,E.Kn)(e)?Object.assign({},e,{offset:ZA(e.offset,r)}):{value:e,offset:r}:r:e}function _1(e,r){return r?(e.name=r.name,e.style=r.style||e.style,e.interactive=!!r.interactive,e.encode=L4(e.encode,r,I3)):e.interactive=!1,e}function PH(e,r,a,s){const l=Wr(e,a),f=l.isVertical(),d=l.gradientThickness(),h=l.gradientLength();let p,v,_,y,C;f?(v=[0,1],_=[0,0],y=d,C=h):(v=[0,0],_=[1,0],y=h,C=d);const M={enter:p={opacity:zt,x:zt,y:zt,width:mi(y),height:mi(C)},update:(0,E.l7)({},p,{opacity:Y1,fill:{gradient:r,start:v,stop:_}}),exit:{opacity:zt}};return Ti(M,{stroke:l("gradientStrokeColor"),strokeWidth:l("gradientStrokeWidth")},{opacity:l("gradientOpacity")}),_1({type:"rect",role:"legend-gradient",encode:M},s)}function HH(e,r,a,s,l){const f=Wr(e,a),d=f.isVertical(),h=f.gradientThickness(),p=f.gradientLength();let v,_,y,C,M="";d?(v="y",y="y2",_="x",C="width",M="1-"):(v="x",y="x2",_="y",C="height");const w={opacity:zt,fill:{scale:r,field:X1}};w[v]={signal:M+"datum.perc",mult:p},w[_]=zt,w[y]={signal:M+"datum.perc2",mult:p},w[C]=mi(h);const A={enter:w,update:(0,E.l7)({},w,{opacity:Y1}),exit:{opacity:zt}};return Ti(A,{stroke:f("gradientStrokeColor"),strokeWidth:f("gradientStrokeWidth")},{opacity:f("gradientOpacity")}),_1({type:"rect",role:"legend-band",key:X1,from:l,encode:A},s)}const jH=`datum.perc<=0?"${U2}":datum.perc>=1?"top":"middle"`;function KA(e,r,a,s){const l=Wr(e,r),f=l.isVertical(),d=mi(l.gradientThickness()),h=l.gradientLength();let v,_,y,C,p=l("labelOverlap"),M="";const w={enter:v={opacity:zt},update:_={opacity:Y1,text:{field:f_}},exit:{opacity:zt}};return Ti(w,{fill:l("labelColor"),fillOpacity:l("labelOpacity"),font:l("labelFont"),fontSize:l("labelFontSize"),fontStyle:l("labelFontStyle"),fontWeight:l("labelFontWeight"),limit:Ro(e.labelLimit,r.gradientLabelLimit)}),f?(v.align={value:"left"},v.baseline=_.baseline={signal:jH},y="y",C="x",M="1-"):(v.align=_.align={signal:'datum.perc<=0?"left":datum.perc>=1?"right":"center"'},v.baseline={value:"top"},y="x",C="y"),v[y]=_[y]={signal:M+"datum.perc",mult:h},v[C]=_[C]=d,d.offset=Ro(e.labelOffset,r.gradientLabelOffset)||0,p=p?{separation:l("labelSeparation"),method:p,order:"datum.index"}:void 0,_1({type:kl,role:DA,style:N3,key:X1,from:s,encode:w,overlap:p},a)}function UH(e,r,a,s,l){const f=Wr(e,r),d=a.entries,h=!(!d||!d.interactive),p=d?d.name:void 0,v=f("clipHeight"),_=f("symbolOffset"),y={data:"value"},C=`(${l}) ? datum.offset : datum.size`,M=v?mi(v):{field:"size"},w="datum.index",A=`max(1, ${l})`;let S,T,N,I,F;M.mult=.5,S={enter:T={opacity:zt,x:{signal:C,mult:.5,offset:_},y:M},update:N={opacity:Y1,x:T.x,y:T.y},exit:{opacity:zt}};let O=null,P=null;e.fill||(O=r.symbolBaseFillColor,P=r.symbolBaseStrokeColor),Ti(S,{fill:f("symbolFillColor",O),shape:f("symbolType"),size:f("symbolSize"),stroke:f("symbolStrokeColor",P),strokeDash:f("symbolDash"),strokeDashOffset:f("symbolDashOffset"),strokeWidth:f("symbolStrokeWidth")},{opacity:f("symbolOpacity")}),p_.forEach(W=>{e[W]&&(N[W]=T[W]={scale:e[W],field:X1})});const V=_1({type:"symbol",role:"legend-symbol",key:X1,from:y,clip:!!v||void 0,encode:S},a.symbols),G=mi(_);G.offset=f("labelOffset"),S={enter:T={opacity:zt,x:{signal:C,offset:G},y:M},update:N={opacity:Y1,text:{field:f_},x:T.x,y:T.y},exit:{opacity:zt}},Ti(S,{align:f("labelAlign"),baseline:f("labelBaseline"),fill:f("labelColor"),fillOpacity:f("labelOpacity"),font:f("labelFont"),fontSize:f("labelFontSize"),fontStyle:f("labelFontStyle"),fontWeight:f("labelFontWeight"),limit:f("labelLimit")});const Y=_1({type:kl,role:DA,style:N3,key:X1,from:y,encode:S},a.labels);return S={enter:{noBound:{value:!v},width:zt,height:v?mi(v):zt,opacity:zt},exit:{opacity:zt},update:N={opacity:Y1,row:{signal:null},column:{signal:null}}},f.isVertical(!0)?(I=`ceil(item.mark.items.length / ${A})`,N.row.signal=`${w}%${I}`,N.column.signal=`floor(${w} / ${I})`,F={field:["row",w]}):(N.row.signal=`floor(${w} / ${A})`,N.column.signal=`${w} % ${A}`,F={field:w}),N.column.signal=`(${l})?${N.column.signal}:${w}`,F3({role:e_,from:s={facet:{data:s,name:"value",groupby:"index"}},encode:L4(S,d,I3),marks:[V,Y],name:p,interactive:h,sort:F})}const v_='item.orient === "left"',__='item.orient === "right"',j5=`(${v_} || ${__})`,qH=`datum.vgrad && ${j5}`,WH=B5('"top"','"bottom"','"middle"'),XH=`datum.vgrad && ${__} ? (${B5('"right"','"left"','"center"')}) : (${j5} && !(datum.vgrad && ${v_})) ? "left" : ${g_}`,YH=`item._anchor || (${j5} ? "middle" : "start")`,ZH=`${qH} ? (${v_} ? -90 : 90) : 0`,KH=`${j5} ? (datum.vgrad ? (${__} ? "bottom" : "top") : ${WH}) : "top"`;function JH(e,r){let a;return(0,E.Kn)(e)&&(e.signal?a=e.signal:e.path?a="pathShape("+QA(e.path)+")":e.sphere&&(a="geoShape("+QA(e.sphere)+', {type: "Sphere"})')),a?r.signalRef(a):!!e}function QA(e){return(0,E.Kn)(e)&&e.signal?e.signal:(0,E.m8)(e)}function JA(e){const r=e.role||"";return r.indexOf("axis")&&r.indexOf("legend")&&r.indexOf("title")?e.type===H5?e_:r||Qv:r}function eB(e){return{marktype:e.type,name:e.name||void 0,role:e.role||JA(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function tB(e,r){return e&&e.signal?r.signalRef(e.signal):!1!==e}function y_(e,r){const a=function(e){const r=function(e){return e=e&&e.toLowerCase(),(0,E.nr)(Ws,e)?Ws[e]:null}(e);return r&&r.Definition||null}(e.type);a||(0,E.vU)("Unrecognized transform type: "+(0,E.m8)(e.type));const s=I5(a.type.toLowerCase(),null,eS(a,e,r));return e.signal&&r.addSignal(e.signal,r.proxy(s)),s.metadata=a.metadata||{},s}function eS(e,r,a){const s={},l=e.params.length;for(let f=0;f<l;++f){const d=e.params[f];s[d.name]=nB(d,r,a)}return s}function nB(e,r,a){const s=e.type,l=r[e.name];return"index"===s?function(e,r,a){return(0,E.HD)(r.from)||(0,E.vU)('Lookup "from" parameter must be a string literal.'),a.getData(r.from).lookupRef(a,r.key)}(0,r,a):void 0!==l?"param"===s?function(e,r,a){const s=r[e.name];return e.array?((0,E.kJ)(s)||(0,E.vU)("Expected an array of sub-parameters. Instead: "+(0,E.m8)(s)),s.map(l=>nS(e,l,a))):nS(e,s,a)}(e,r,a):"projection"===s?a.projectionRef(r[e.name]):e.array&&!ti(l)?l.map(f=>tS(e,f,a)):tS(e,l,a):void(e.required&&(0,E.vU)("Missing required "+(0,E.m8)(r.type)+" parameter: "+(0,E.m8)(e.name)))}function tS(e,r,a){const s=e.type;if(ti(r))return iS(s)?(0,E.vU)("Expression references can not be signals."):b_(s)?a.fieldRef(r):rS(s)?a.compareRef(r):a.signalRef(r.signal);{const l=e.expr||b_(s);return l&&oB(r)?a.exprRef(r.expr,r.as):l&&aB(r)?T3(r.field,r.as):iS(s)?Fo(r,a):sB(s)?Pe(a.getData(r).values):b_(s)?T3(r):rS(s)?a.compareRef(r):r}}function nS(e,r,a){const s=e.params.length;let l;for(let d=0;d<s;++d){l=e.params[d];for(const h in l.key)if(l.key[h]!==r[h]){l=null;break}if(l)break}l||(0,E.vU)("Unsupported parameter: "+(0,E.m8)(r));const f=(0,E.l7)(eS(l,r,a),l.key);return Pe(a.add(cH(f)))}const oB=e=>e&&e.expr,aB=e=>e&&e.field,sB=e=>"data"===e,iS=e=>"expr"===e,b_=e=>"field"===e,rS=e=>"compare"===e;function U5(e,r){return e.$ref?e:e.data&&e.data.$ref?e.data:Pe(r.getData(e.data).output)}function Tl(e,r,a,s,l){this.scope=e,this.input=r,this.output=a,this.values=s,this.aggregate=l,this.index={}}function oS(e){return(0,E.HD)(e)?e:null}function aS(e,r,a){const s=F5(a.op,a.field);let l;if(r.ops){for(let f=0,d=r.as.length;f<d;++f)if(r.as[f]===s)return}else r.ops=["count"],r.fields=[null],r.as=["count"];a.op&&(r.ops.push((l=a.op.signal)?e.signalRef(l):a.op),r.fields.push(e.fieldRef(a.field)),r.as.push(s))}function R3(e,r,a,s,l,f,d){const h=r[a]||(r[a]={}),p=function(e){return(0,E.Kn)(e)?("descending"===e.order?"-":"+")+F5(e.op,e.field):""}(f);let _,y,v=oS(l);if(null!=v&&(e=r.scope,v+=p?"|"+p:"",_=h[v]),!_){const C=f?{field:i_,pulse:r.countsRef(e,l,f)}:{field:e.fieldRef(l),pulse:Pe(r.output)};p&&(C.sort=e.sortRef(f)),y=e.add(I5(s,void 0,C)),d&&(r.index[l]=y),_=Pe(y),null!=v&&(h[v]=_)}return _}function sS(e,r,a){const s=e.remove,l=e.insert,f=e.toggle,d=e.modify,h=e.values,p=r.add(L5()),_=Fo("if("+e.trigger+',modify("'+a+'",'+[l,s,f,d,h].map(y=>null==y?"null":y).join(",")+"),0)",r);p.update=_.$expr,p.params=_.$params}function $5(e,r){const a=JA(e),s=e.type===H5,l=e.from&&e.from.facet,f=e.overlap;let h,p,v,_,y,C,M,d=e.layout||a===e_||a===Jv;const w=a===Qv||d||l,A=function(e,r,a){let s,l,f,d,h;return e?(s=e.facet)&&(r||(0,E.vU)("Only group marks can be faceted."),null!=s.field?d=h=U5(s,a):(e.data?h=Pe(a.getData(e.data).aggregate):(f=y_((0,E.l7)({type:"aggregate",groupby:(0,E.IX)(s.groupby)},s.aggregate),a),f.params.key=a.keyRef(s.groupby),f.params.pulse=U5(s,a),d=h=Pe(a.add(f))),l=a.keyRef(s.groupby,!0))):d=Pe(a.add(Vo(null,[{}]))),d||(d=U5(e,a)),{key:l,pulse:d,parent:h}}(e.from,s,r);p=r.add(KP({key:A.key||(e.key?T3(e.key):void 0),pulse:A.pulse,clean:!s}));const S=Pe(p);p=v=r.add(Vo({pulse:S})),p=r.add(rH({markdef:eB(e),interactive:tB(e.interactive,r),clip:JH(e.clip,r),context:{$context:!0},groups:r.lookup(),parent:r.signals.parent?r.signalRef("parent"):null,index:r.markpath(),pulse:Pe(p)}));const T=Pe(p);p=_=r.add(OA(TA(e.encode,e.type,a,e.style,r,{mod:!1,pulse:T}))),p.params.parent=r.encode(),e.transform&&e.transform.forEach(P=>{const V=y_(P,r),G=V.metadata;(G.generates||G.changes)&&(0,E.vU)("Mark transforms should not generate new data."),G.nomod||(_.params.mod=!0),V.params.pulse=Pe(p),r.add(p=V)}),e.sort&&(p=r.add(hH({sort:r.compareRef(e.sort),pulse:Pe(p)})));const N=Pe(p);(l||d)&&(d=r.add(BA({layout:r.objectProperty(e.layout),legends:r.legends,mark:T,pulse:N})),C=Pe(d));const I=r.add(RA({mark:T,pulse:C||N}));M=Pe(I),s&&(w&&(h=r.operators,h.pop(),d&&h.pop()),r.pushState(N,C||M,S),l?function(e,r,a){const s=e.from.facet,l=s.name,f=U5(s,r);let d;s.name||(0,E.vU)("Facet must have a name: "+(0,E.m8)(s)),s.data||(0,E.vU)("Facet must reference a data set: "+(0,E.m8)(s)),s.field?d=r.add(PA({field:r.fieldRef(s.field),pulse:f})):s.groupby?d=r.add(JP({key:r.keyRef(s.groupby),group:Pe(r.proxy(a.parent)),pulse:f})):(0,E.vU)("Facet must specify groupby or field: "+(0,E.m8)(s));const h=r.fork(),p=h.add(Vo()),v=h.add(Sl({pulse:Pe(p)}));h.addData(l,new Tl(h,p,p,v)),h.addSignal("parent",null),d.params.subflow={$subflow:h.parse(e).toRuntime()}}(e,r,A):w?function(e,r,a){const s=r.add(PA({pulse:a.pulse})),l=r.fork();l.add(Sl()),l.addSignal("parent",null),s.params.subflow={$subflow:l.parse(e).toRuntime()}}(e,r,A):r.parse(e),r.popState(),w&&(d&&h.push(d),h.push(I))),f&&(M=function(e,r,a){const s=e.method,l=e.bound,f=e.separation,d={separation:ti(f)?a.signalRef(f.signal):f,method:ti(s)?a.signalRef(s.signal):s,pulse:r};if(e.order&&(d.sort=a.compareRef({field:e.order})),l){const h=l.tolerance;d.boundTolerance=ti(h)?a.signalRef(h.signal):+h,d.boundScale=a.scaleRef(l.scale),d.boundOrient=l.orient}return Pe(a.add(sH(d)))}(f,M,r));const F=r.add(HA({pulse:M})),O=r.add(Sl({pulse:Pe(F)},void 0,r.parent()));null!=e.name&&(y=e.name,r.addData(y,new Tl(r,v,F,O)),e.on&&e.on.forEach(P=>{(P.insert||P.remove||P.toggle)&&(0,E.vU)("Marks only support modify triggers."),sS(P,r,y)}))}function pB(e,r,a){const s={enter:{},update:{}};return Ti(s,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:a.strokeWidth,strokeDash:a.strokeDash,x:e("legendX"),y:e("legendY"),format:r.format,formatType:r.formatType}),s}function cS(e,r,a){return r[e]?`scale("${r[e]}",datum)`:YA(e,a[0].encode)}function CB(e,r){const a={enter:{},update:{}};return Ti(a,{orient:e("orient"),anchor:e("anchor"),align:{signal:g_},angle:{signal:'item.orient==="left"?-90:item.orient==="right"?90:0'},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),L4(a,r,I3)}function zl(e){const r=Vo({},e);return r.metadata={source:!0},r}function lS(e,r){return iH({url:r.url?e.property(r.url):void 0,async:r.async?e.property(r.async):void 0,values:r.values?e.property(r.values):void 0,format:e.objectProperty(r.format)})}Tl.fromEntries=function(e,r){const a=r.length,s=r[a-1],l=r[a-2];let f=r[0],d=null,h=1;for(f&&"load"===f.type&&(f=r[1]),e.add(r[0]);h<a;++h)r[h].params.pulse=Pe(r[h-1]),e.add(r[h]),"aggregate"===r[h].type&&(d=r[h]);return new Tl(e,f,l,s,d)},Tl.prototype={countsRef(e,r,a){const s=this,l=s.counts||(s.counts={}),f=oS(r);let d,h,p;return null!=f&&(e=s.scope,d=l[f]),d?a&&a.field&&aS(e,d.agg.params,a):(p={groupby:e.fieldRef(r,"key"),pulse:Pe(s.output)},a&&a.field&&aS(e,p,a),h=e.add(FA(p)),d=e.add(Vo({pulse:Pe(h)})),d={agg:h,ref:Pe(d)},null!=f&&(l[f]=d)),d.ref},tuplesRef(){return Pe(this.values)},extentRef(e,r){return R3(e,this,"extent","extent",r,!1)},domainRef(e,r){return R3(e,this,"domain","values",r,!1)},valuesRef(e,r,a){return R3(e,this,"vals","values",r,a||!0)},lookupRef(e,r){return R3(e,this,"lookup","tupleindex",r,!1)},indataRef(e,r){return R3(e,this,"indata","tupleindex",r,!0,!0)}};const uS=e=>e===U2||e===Oo,q5=(e,r,a)=>ti(e)?SB(e.signal,r,a):"left"===e||e===Oo?r:a,pi=(e,r,a)=>ti(e)?dS(e.signal,r,a):uS(e)?r:a,Po=(e,r,a)=>ti(e)?AB(e.signal,r,a):uS(e)?a:r,fS=(e,r,a)=>ti(e)?kB(e.signal,r,a):e===Oo?{value:r}:{value:a},dS=(e,r,a)=>hS(`${e} === 'top' || ${e} === '${U2}'`,r,a),AB=(e,r,a)=>hS(`${e} !== 'top' && ${e} !== '${U2}'`,r,a),SB=(e,r,a)=>C_(`${e} === 'left' || ${e} === 'top'`,r,a),kB=(e,r,a)=>C_(`${e} === 'top'`,r,a),hS=(e,r,a)=>(r=null!=r?mi(r):r,a=null!=a?mi(a):a,mS(r)&&mS(a)?{signal:`${e} ? (${r=r?r.signal||(0,E.m8)(r.value):null}) : (${a=a?a.signal||(0,E.m8)(a.value):null})`}:[(0,E.l7)({test:e},r)].concat(a||[])),mS=e=>null==e||1===Object.keys(e).length,C_=(e,r,a)=>({signal:`${e} ? (${P4(r)}) : (${P4(a)})`}),zB=(e,r,a,s,l)=>({signal:(null!=s?`${e} === 'left' ? (${P4(s)}) : `:"")+(null!=a?`${e} === '${U2}' ? (${P4(a)}) : `:"")+(null!=l?`${e} === 'right' ? (${P4(l)}) : `:"")+(null!=r?`${e} === 'top' ? (${P4(r)}) : `:"")+"(null)"}),P4=e=>ti(e)?e.signal:null==e?null:(0,E.m8)(e),H4=(e,r)=>{const a=e.signal;return a&&a.endsWith("(null)")?{signal:a.slice(0,-6)+r.signal}:e};function B4(e,r,a,s){let l;if(r&&(0,E.nr)(r,e))return r[e];if((0,E.nr)(a,e))return a[e];if(e.startsWith("title")){switch(e){case"titleColor":l="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":l=e[5].toLowerCase()+e.slice(6)}return s[d_][l]}if(e.startsWith("label")){switch(e){case"labelColor":l="fill";break;case"labelFont":case"labelFontSize":l=e[5].toLowerCase()+e.slice(6)}return s[N3][l]}return null}function pS(e){const r={};for(const a of e)if(a)for(const s in a)r[s]=1;return Object.keys(r)}function gS(e,r){return{scale:e.scale,range:r}}function x_(e,r,a,s,l){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+r+","+a+","+s+","+l+")"}}function OB(e,r,a,s,l,f){const d=Wr(e,r),h=e.orient,p=e.scale,v=q5(h,-1,1),_=Al(d("labelFlush")),y=Al(d("labelFlushOffset")),C=d("labelAlign"),M=d("labelBaseline");let A,w=0===_||!!_;const S=mi(l);S.mult=v,S.offset=mi(d("labelPadding")||0),S.offset.mult=v;const T={scale:p,field:X1,band:.5,offset:ZA(f.offset,d("labelOffset"))},N=pi(h,w?x_(p,_,'"left"','"right"','"center"'):{value:"center"},((e,r,a)=>ti(e)?((e,r,a)=>C_(`${e} === 'right'`,r,a))(e.signal,r,a):"right"===e?{value:r}:{value:a})(h,"left","right")),I=pi(h,fS(h,"bottom","top"),w?x_(p,_,'"top"','"bottom"','"middle"'):{value:"middle"}),F=x_(p,_,`-(${y})`,y,0);w=w&&y;const O={opacity:zt,x:pi(h,T,S),y:Po(h,T,S)},P={enter:O,update:A={opacity:Y1,text:{field:f_},x:O.x,y:O.y,align:N,baseline:I},exit:{opacity:zt,x:O.x,y:O.y}};Ti(P,{dx:!C&&w?pi(h,F):null,dy:!M&&w?Po(h,F):null}),Ti(P,{angle:d("labelAngle"),fill:d("labelColor"),fillOpacity:d("labelOpacity"),font:d("labelFont"),fontSize:d("labelFontSize"),fontWeight:d("labelFontWeight"),fontStyle:d("labelFontStyle"),limit:d("labelLimit"),lineHeight:d("labelLineHeight")},{align:C,baseline:M});const V=d("labelBound");let G=d("labelOverlap");return G=G||V?{separation:d("labelSeparation"),method:G,order:"datum.index",bound:V?{scale:p,orient:h,tolerance:V}:null}:void 0,A.align!==N&&(A.align=H4(A.align,N)),A.baseline!==I&&(A.baseline=H4(A.baseline,I)),_1({type:kl,role:"axis-label",style:N3,key:X1,from:s,encode:P,overlap:G},a)}function BB(e,r){const a=function(e,r){var h,p,v,a=r.config,s=a.style,l=a.axis,f="band"===r.scaleType(e.scale)&&a.axisBand,d=e.orient;if(ti(d)){const y=pS([a.axisX,a.axisY]),C=pS([a.axisTop,a.axisBottom,a.axisLeft,a.axisRight]);for(v of(h={},y))h[v]=pi(d,B4(v,a.axisX,l,s),B4(v,a.axisY,l,s));for(v of(p={},C))p[v]=zB(d.signal,B4(v,a.axisTop,l,s),B4(v,a.axisBottom,l,s),B4(v,a.axisLeft,l,s),B4(v,a.axisRight,l,s))}else h=d===Oo||d===U2?a.axisX:a.axisY,p=a["axis"+d[0].toUpperCase()+d.slice(1)];return h||p||f?(0,E.l7)({},l,h,p,f):l}(e,r),s=e.encode||{},l=s.axis||{},f=l.name||void 0,d=l.interactive,h=l.style,p=Wr(e,a),v=function(e){const r=e("tickBand");let s,l,a=e("tickOffset");return r?r.signal?(s={signal:`(${r.signal}) === 'extent' ? 1 : 0.5`},l={signal:`(${r.signal}) === 'extent'`},(0,E.Kn)(a)||(a={signal:`(${r.signal}) === 'extent' ? 0 : ${a}`})):"extent"===r?(s=1,l=!0,a=0):(s=.5,l=!1):(s=e("bandPosition"),l=e("tickExtra")),{extra:l,band:s,offset:a}}(p),_={scale:e.scale,ticks:!!p("ticks"),labels:!!p("labels"),grid:!!p("grid"),domain:!!p("domain"),title:null!=e.title},y=Pe(r.add(Vo({},[_]))),C=Pe(r.add(ZP({scale:r.scaleRef(e.scale),extra:r.property(v.extra),count:r.objectProperty(e.tickCount),values:r.objectProperty(e.values),minstep:r.property(e.tickMinStep),formatType:r.property(e.formatType),formatSpecifier:r.property(e.format)}))),M=[];let w;return _.grid&&M.push(function(e,r,a,s,l){const f=Wr(e,r),d=e.orient,h=e.gridScale,p=q5(d,1,-1),v=function(e,r){if(1!==r)if((0,E.Kn)(e)){let a=e=(0,E.l7)({},e);for(;null!=a.mult;){if(!(0,E.Kn)(a.mult))return a.mult=ti(r)?{signal:`(${a.mult}) * (${r.signal})`}:a.mult*r,e;a=a.mult=(0,E.l7)({},a.mult)}a.mult=r}else e=ti(r)?{signal:`(${r.signal}) * (${e||0})`}:r*(e||0);return e}(e.offset,p);let _,y,C;const M={enter:_={opacity:zt},update:C={opacity:Y1},exit:y={opacity:zt}};Ti(M,{stroke:f("gridColor"),strokeCap:f("gridCap"),strokeDash:f("gridDash"),strokeDashOffset:f("gridDashOffset"),strokeOpacity:f("gridOpacity"),strokeWidth:f("gridWidth")});const w={scale:e.scale,field:X1,band:l.band,extra:l.extra,offset:l.offset,round:f("tickRound")},A=pi(d,{signal:"height"},{signal:"width"}),S=h?{scale:h,range:0,mult:p,offset:v}:{value:0,offset:v},T=h?{scale:h,range:1,mult:p,offset:v}:(0,E.l7)(A,{mult:p,offset:v});return _.x=C.x=pi(d,w,S),_.y=C.y=Po(d,w,S),_.x2=C.x2=Po(d,T),_.y2=C.y2=pi(d,T),y.x=pi(d,w),y.y=Po(d,w),_1({type:L3,role:"axis-grid",key:X1,from:s,encode:M},a)}(e,a,s.grid,C,v)),_.ticks&&(w=p("tickSize"),M.push(function(e,r,a,s,l,f){const d=Wr(e,r),h=e.orient,p=q5(h,-1,1);let v,_,y;const C={enter:v={opacity:zt},update:y={opacity:Y1},exit:_={opacity:zt}};Ti(C,{stroke:d("tickColor"),strokeCap:d("tickCap"),strokeDash:d("tickDash"),strokeDashOffset:d("tickDashOffset"),strokeOpacity:d("tickOpacity"),strokeWidth:d("tickWidth")});const M=mi(l);M.mult=p;const w={scale:e.scale,field:X1,band:f.band,extra:f.extra,offset:f.offset,round:d("tickRound")};return y.y=v.y=pi(h,zt,w),y.y2=v.y2=pi(h,M),_.x=pi(h,w),y.x=v.x=Po(h,zt,w),y.x2=v.x2=Po(h,M),_.y=Po(h,w),_1({type:L3,role:"axis-tick",key:X1,from:s,encode:C},a)}(e,a,s.ticks,C,w,v))),_.labels&&(w=_.ticks?w:0,M.push(OB(e,a,s.labels,C,w,v))),_.domain&&M.push(function(e,r,a,s){const l=Wr(e,r),f=e.orient;let d,h;const p={enter:d={opacity:zt},update:h={opacity:Y1},exit:{opacity:zt}};Ti(p,{stroke:l("domainColor"),strokeCap:l("domainCap"),strokeDash:l("domainDash"),strokeDashOffset:l("domainDashOffset"),strokeWidth:l("domainWidth"),strokeOpacity:l("domainOpacity")});const v=gS(e,0),_=gS(e,1);return d.x=h.x=pi(f,v,zt),d.x2=h.x2=pi(f,_),d.y=h.y=Po(f,v,zt),d.y2=h.y2=Po(f,_),_1({type:L3,role:"axis-domain",from:s,encode:p},a)}(e,a,s.domain,y)),_.title&&M.push(function(e,r,a,s){const l=Wr(e,r),f=e.orient,d=q5(f,-1,1);let h,p;const v={enter:h={opacity:zt,anchor:mi(l("titleAnchor",null)),align:{signal:g_}},update:p=(0,E.l7)({},h,{opacity:Y1,text:mi(e.title)}),exit:{opacity:zt}},_={signal:`lerp(range("${e.scale}"), ${B5(0,1,.5)})`};return p.x=pi(f,_),p.y=Po(f,_),h.angle=pi(f,zt,((e,r)=>ti(e)?{signal:`(${e.signal}) * 90`}:{value:90*e})(d)),h.baseline=pi(f,fS(f,U2,Oo),{value:U2}),p.angle=h.angle,p.baseline=h.baseline,Ti(v,{fill:l("titleColor"),fillOpacity:l("titleOpacity"),font:l("titleFont"),fontSize:l("titleFontSize"),fontStyle:l("titleFontStyle"),fontWeight:l("titleFontWeight"),limit:l("titleLimit"),lineHeight:l("titleLineHeight")},{align:l("titleAlign"),angle:l("titleAngle"),baseline:l("titleBaseline")}),function(e,r,a,s){const l=(h,p)=>null!=h?(a.update[p]=H4(mi(h),a.update[p]),!1):!F4(p,s),f=l(e("titleX"),"x"),d=l(e("titleY"),"y");a.enter.auto=d===f?mi(d):pi(r,mi(d),mi(f))}(l,f,v,a),v.update.align=H4(v.update.align,h.align),v.update.angle=H4(v.update.angle,h.angle),v.update.baseline=H4(v.update.baseline,h.baseline),_1({type:kl,role:"axis-title",style:d_,from:s,encode:v},a)}(e,a,s.title,y)),$5(F3({role:"axis",from:y,encode:L4(jB(p,e),l,I3),marks:M,aria:p("aria"),description:p("description"),zindex:p("zindex"),name:f,interactive:d,style:h}),r)}function jB(e,r){const a={enter:{},update:{}};return Ti(a,{orient:e("orient"),offset:e("offset")||0,position:Ro(r.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${r.scale}")))`},translate:e("translate"),format:r.format,formatType:r.formatType}),a}function vS(e,r,a){const s=(0,E.IX)(e.signals),l=(0,E.IX)(e.scales);return a||s.forEach(f=>NA(f,r)),(0,E.IX)(e.projections).forEach(f=>function(e,r){const a=r.config.projection||{},s={};for(const l in e)"name"!==l&&(s[l]=c_(e[l],l,r));for(const l in a)null==s[l]&&(s[l]=c_(a[l],l,r));r.addProjection(e.name,s)}(f,r)),l.forEach(f=>function(e,r){const a=e.type||"linear";d2(a)||(0,E.vU)("Unrecognized scale type: "+(0,E.m8)(a)),r.addScale(e.name,{type:a,domain:void 0})}(f,r)),(0,E.IX)(e.data).forEach(f=>function(e,r){const a=[];e.transform&&e.transform.forEach(s=>{a.push(y_(s,r))}),e.on&&e.on.forEach(s=>{sS(s,r,e.name)}),r.addDataPipeline(e.name,function(e,r,a){const s=[];let h,p,v,_,y,l=null,f=!1,d=!1;for(e.values?ti(e.values)||R5(e.format)?(s.push(lS(r,e)),s.push(l=zl())):s.push(l=zl({$ingest:e.values,$format:e.format})):e.url?R5(e.url)||R5(e.format)?(s.push(lS(r,e)),s.push(l=zl())):s.push(l=zl({$request:e.url,$format:e.format})):e.source&&(l=h=(0,E.IX)(e.source).map(C=>Pe(r.getData(C).output)),s.push(null)),p=0,v=a.length;p<v;++p)_=a[p],y=_.metadata,!l&&!y.source&&s.push(l=zl()),s.push(_),y.generates&&(d=!0),y.modifies&&!d&&(f=!0),y.source?l=_:y.changes&&(l=null);return h&&(v=h.length-1,s[0]=fH({derive:f,pulse:v?h:h[0]}),(f||v)&&s.splice(1,0,zl())),l||s.push(zl()),s.push(Sl({})),s}(e,r,a))}(f,r)),l.forEach(f=>vH(f,r)),(a||s).forEach(f=>function(e,r){const a=r.getSignal(e.name);let s=e.update;e.init&&(s?(0,E.vU)("Signals can not include both init and update expressions."):(s=e.init,a.initonly=!0)),s&&(s=Fo(s,r),a.update=s.$expr,a.params=s.$params),e.on&&e.on.forEach(l=>function(e,r,a){const s=e.encode,l={target:a};let f=e.events,d=e.update,h=[];f||(0,E.vU)("Signal update missing events specification."),(0,E.HD)(f)&&(f=function(e,r,a){return xA=r||"view",MA=nP,wA(e.trim()).map(Kv)}(f,r.isSubscope()?r_:o_)),f=(0,E.IX)(f).filter(p=>p.signal||p.scale?(h.push(p),0):1),h.length>1&&(h=[XP(h)]),f.length&&h.push(f.length>1?{merge:f}:f[0]),null!=s&&(d&&(0,E.vU)("Signal encode and update are mutually exclusive."),d="encode(item(),"+(0,E.m8)(s)+")"),l.update=(0,E.HD)(d)?Fo(d,r):null!=d.expr?Fo(d.expr,r):null!=d.value?d.value:null!=d.signal?{$expr:qP,$params:{$value:r.signalRef(d.signal)}}:(0,E.vU)("Invalid signal update specification."),e.force&&(l.options={force:!0}),h.forEach(p=>r.addUpdate((0,E.l7)(function(e,r){return{source:e.signal?r.signalRef(e.signal):e.scale?r.scaleRef(e.scale):z3(e,r)}}(p,r),l)))}(l,r,a.id))}(f,r)),(0,E.IX)(e.axes).forEach(f=>BB(f,r)),(0,E.IX)(e.marks).forEach(f=>$5(f,r)),(0,E.IX)(e.legends).forEach(f=>function(e,r){const a=r.config.legend,s=e.encode||{},l=Wr(e,a),f=s.legend||{},d=f.name||void 0,h=f.interactive,p=f.style,v={};let y,C,M,_=0;p_.forEach(I=>e[I]?(v[I]=e[I],_=_||e[I]):0),_||(0,E.vU)("Missing valid scale for legend.");const w=function(e,r){let a=e.type||"symbol";return!e.type&&1===function(e){return p_.reduce((r,a)=>r+(e[a]?1:0),0)}(e)&&(e.fill||e.stroke)&&(a=gm(r)?P5:W8(r)?h_:"symbol"),a!==P5?a:W8(r)?h_:P5}(e,r.scaleType(_)),A={title:null!=e.title,scales:v,type:w,vgrad:"symbol"!==w&&l.isVertical()},S=Pe(r.add(Vo(null,[A]))),N=Pe(r.add(nH(C={type:w,scale:r.scaleRef(_),count:r.objectProperty(l("tickCount")),limit:r.property(l("symbolLimit")),values:r.objectProperty(e.values),minstep:r.property(e.tickMinStep),formatType:r.property(e.formatType),formatSpecifier:r.property(e.format)})));return w===P5?(M=[PH(e,_,a,s.gradient),KA(e,a,s.labels,N)],C.count=C.count||r.signalRef(`max(2,2*floor((${Al(l.gradientLength())})/100))`)):w===h_?M=[HH(e,_,a,s.gradient,N),KA(e,a,s.labels,N)]:(y=function(e,r){const a=Wr(e,r);return{align:a("gridAlign"),columns:a.entryColumns(),center:{row:!0,column:!1},padding:{row:a("rowPadding"),column:a("columnPadding")}}}(e,a),M=[UH(e,a,s,N,Al(y.columns))],C.size=function(e,r,a){const s=Al(cS("size",e,a)),l=Al(cS("strokeWidth",e,a)),f=Al(function(e,r,a){return YA("fontSize",e)||function(e,r,a){const s=r.config.style["guide-label"];return s&&s.fontSize}(0,r)}(a[1].encode,r));return Fo(`max(ceil(sqrt(${s})+${l}),${f})`,r)}(e,r,M[0].marks)),M=[F3({role:"legend-entry",from:S,encode:{enter:{x:{value:0},y:{value:0}}},marks:M,layout:y,interactive:h})],A.title&&M.push(function(e,r,a,s){const l=Wr(e,r),f={enter:{opacity:zt},update:{opacity:Y1,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:zt}};return Ti(f,{orient:l("titleOrient"),_anchor:l("titleAnchor"),anchor:{signal:YH},angle:{signal:ZH},align:{signal:XH},baseline:{signal:KH},text:e.title,fill:l("titleColor"),fillOpacity:l("titleOpacity"),font:l("titleFont"),fontSize:l("titleFontSize"),fontStyle:l("titleFontStyle"),fontWeight:l("titleFontWeight"),limit:l("titleLimit"),lineHeight:l("titleLineHeight")},{align:l("titleAlign"),baseline:l("titleBaseline")}),_1({type:kl,role:"legend-title",style:d_,from:s,encode:f},a)}(e,a,s.title,S)),$5(F3({role:"legend",from:S,encode:L4(pB(l,e,a),f,I3),marks:M,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:d,interactive:h,style:p}),r)}(f,r)),e.title&&function(e,r){const a=Wr(e=(0,E.HD)(e)?{text:e}:e,r.config.title),s=e.encode||{},l=s.group||{},f=l.name||void 0,d=l.interactive,h=l.style,p=[],_=Pe(r.add(Vo(null,[{}])));p.push(function(e,r,a,s){const l={value:0},d={enter:{opacity:l},update:{opacity:{value:1}},exit:{opacity:l}};return Ti(d,{text:e.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:r("dx"),dy:r("dy"),fill:r("color"),font:r("font"),fontSize:r("fontSize"),fontStyle:r("fontStyle"),fontWeight:r("fontWeight"),lineHeight:r("lineHeight")},{align:r("align"),angle:r("angle"),baseline:r("baseline")}),_1({type:kl,role:"title-text",style:"group-title",from:s,encode:d},a)}(e,a,function(e){const r=e.encode;return r&&r.title||(0,E.l7)({name:e.name,interactive:e.interactive,style:e.style},r)}(e),_)),e.subtitle&&p.push(function(e,r,a,s){const l={value:0},d={enter:{opacity:l},update:{opacity:{value:1}},exit:{opacity:l}};return Ti(d,{text:e.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:r("dx"),dy:r("dy"),fill:r("subtitleColor"),font:r("subtitleFont"),fontSize:r("subtitleFontSize"),fontStyle:r("subtitleFontStyle"),fontWeight:r("subtitleFontWeight"),lineHeight:r("subtitleLineHeight")},{align:r("align"),angle:r("angle"),baseline:r("baseline")}),_1({type:kl,role:"title-subtitle",style:"group-subtitle",from:s,encode:d},a)}(e,a,s.subtitle,_)),$5(F3({role:"title",from:_,encode:CB(a,l),marks:p,aria:a("aria"),description:a("description"),zindex:a("zindex"),name:f,interactive:d,style:h}),r)}(e.title,r),r.parseLambdas(),r}function V3(e,r){return r&&r.signal?{name:e,update:r.signal}:{name:e,value:r}}function _S(e,r){this.config=e||{},this.options=r||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function yS(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function M_(e){return((0,E.kJ)(e)?WB:GB)(e)}function WB(e){const r=e.length;let a="[";for(let s=0;s<r;++s){const l=e[s];a+=(s>0?",":"")+((0,E.Kn)(l)?l.signal||M_(l):(0,E.m8)(l))}return a+"]"}function GB(e){let s,l,r="{",a=0;for(s in e)l=e[s],r+=(++a>1?",":"")+(0,E.m8)(s)+":"+((0,E.Kn)(l)?l.signal||M_(l):(0,E.m8)(l));return r+"}"}function YB(e,r,a){return(0,E.Kn)(e)||(0,E.vU)("Input Vega specification must be an object."),function(e,r){const a=r.config,s=Pe(r.root=r.add(L5())),l=function(e,r){const a=d=>Ro(e[d],r[d]),s=[V3("background",a("background")),V3("autosize",cP(a("autosize"))),V3("padding",uP(a("padding"))),V3("width",a("width")||0),V3("height",a("height")||0)],l=s.reduce((d,h)=>(d[h.name]=h,d),{}),f={};return(0,E.IX)(e.signals).forEach(d=>{(0,E.nr)(l,d.name)?d=(0,E.l7)(l[d.name],d):s.push(d),f[d.name]=d}),(0,E.IX)(r.signals).forEach(d=>{!(0,E.nr)(f,d.name)&&!(0,E.nr)(l,d.name)&&s.push(d)}),s}(e,a);l.forEach(v=>NA(v,r)),r.description=e.description||a.description,r.eventConfig=a.events,r.legends=r.objectProperty(a.legend&&a.legend.layout),r.locale=a.locale;const f=r.add(Vo()),d=r.add(OA(TA((e=>L4({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e))(e.encode),H5,Jv,e.style,r,{pulse:Pe(f)}))),h=r.add(BA({layout:r.objectProperty(e.layout),legends:r.legends,autosize:r.signalRef("autosize"),mark:s,pulse:Pe(d)}));r.operators.pop(),r.pushState(Pe(d),Pe(h),null),vS(e,r,l),r.operators.push(h);let p=r.add(RA({mark:s,pulse:Pe(h)}));return p=r.add(HA({pulse:Pe(p)})),p=r.add(Sl({pulse:Pe(p)})),r.addData("root",new Tl(r,f,f,p)),r}(e,new _S(r=(0,E.fE)(function(){const e="sans-serif",s="#4c78a8",l="#000",f="#888",d="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:s},area:{fill:s},image:null,line:{stroke:s,strokeWidth:2},path:{stroke:s},rect:{fill:s},rule:{stroke:l},shape:{stroke:s},symbol:{fill:s,size:64},text:{fill:l,font:e,fontSize:11},trail:{fill:s,size:2},style:{"guide-label":{fill:l,font:e,fontSize:10},"guide-title":{fill:l,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:l,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:l,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:d}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:f,grid:!1,gridWidth:1,gridColor:d,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:f,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:d,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:f,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}(),r,e.config),a)).toRuntime()}_S.prototype=yS.prototype={parse(e){return vS(e,this)},fork(){return new yS(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(r=>{r.$ref=e.id}),e.refs=null),e},proxy(e){const r=e instanceof n_?Pe(e):e;return this.add(uH({value:r}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,r;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function a(s,l,f){let d,h;s&&(d=s.data||(s.data={}),h=d[l]||(d[l]=[]),h.push(f))}for(e in this.data){r=this.data[e],a(r.input,e,"input"),a(r.output,e,"output"),a(r.values,e,"values");for(const s in r.index)a(r.index[s],e,"index:"+s)}return this},pushState(e,r,a){this._encode.push(Pe(this.add(Sl({pulse:e})))),this._parent.push(r),this._lookup.push(a?Pe(this.proxy(a)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return(0,E.fj)(this._parent)},encode(){return(0,E.fj)(this._encode)},lookup(){return(0,E.fj)(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,r){if((0,E.HD)(e))return T3(e,r);e.signal||(0,E.vU)("Unsupported field reference: "+(0,E.m8)(e));const a=e.signal;let s=this.field[a];if(!s){const l={name:this.signalRef(a)};r&&(l.as=r),this.field[a]=s=Pe(this.add(eH(l)))}return s},compareRef(e){let r=!1;const a=f=>ti(f)?(r=!0,this.signalRef(f.signal)):function(e){return e&&e.expr}(f)?(r=!0,this.exprRef(f.expr)):f,s=(0,E.IX)(e.field).map(a),l=(0,E.IX)(e.order).map(a);return r?Pe(this.add(VA({fields:s,orders:l}))):IA(s,l)},keyRef(e,r){let a=!1;const l=this.signals;return e=(0,E.IX)(e).map(f=>ti(f)?(a=!0,Pe(l[f.signal])):f),a?Pe(this.add(tH({fields:e,flat:r}))):function(e,r){const a={$key:e};return r&&(a.$flat=!0),a}(e,r)},sortRef(e){if(!e)return e;const r=F5(e.op,e.field),a=e.order||"ascending";return a.signal?Pe(this.add(VA({fields:r,orders:this.signalRef(a.signal)}))):IA(r,a)},event(e,r){const a=e+":"+r;if(!this.events[a]){const s=this.id();this.streams.push({id:s,source:e,type:r}),this.events[a]=s}return this.events[a]},hasOwnSignal(e){return(0,E.nr)(this.signals,e)},addSignal(e,r){this.hasOwnSignal(e)&&(0,E.vU)("Duplicate signal name: "+(0,E.m8)(e));const a=r instanceof n_?r:this.add(L5(r));return this.signals[e]=a},getSignal(e){return this.signals[e]||(0,E.vU)("Unrecognized signal name: "+(0,E.m8)(e)),this.signals[e]},signalRef(e){return this.signals[e]?Pe(this.signals[e]):((0,E.nr)(this.lambdas,e)||(this.lambdas[e]=this.add(L5(null))),Pe(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let r=0,a=e.length;r<a;++r){const s=e[r],l=Fo(s,this),f=this.lambdas[s];f.params=l.$params,f.update=l.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return e&&(0,E.Kn)(e)?this.signalRef(e.signal||M_(e)):e},exprRef(e,r){const a={expr:Fo(e,this)};return r&&(a.expr.$name=r),Pe(this.add(QP(a)))},addBinding(e,r){this.bindings||(0,E.vU)("Nested signals do not support binding: "+(0,E.m8)(e)),this.bindings.push((0,E.l7)({signal:e},r))},addScaleProj(e,r){(0,E.nr)(this.scales,e)&&(0,E.vU)("Duplicate scale or projection name: "+(0,E.m8)(e)),this.scales[e]=this.add(r)},addScale(e,r){this.addScaleProj(e,dH(r))},addProjection(e,r){this.addScaleProj(e,lH(r))},getScale(e){return this.scales[e]||(0,E.vU)("Unrecognized scale name: "+(0,E.m8)(e)),this.scales[e]},scaleRef(e){return Pe(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,r){return(0,E.nr)(this.data,e)&&(0,E.vU)("Duplicate data set name: "+(0,E.m8)(e)),this.data[e]=r},getData(e){return this.data[e]||(0,E.vU)("Undefined data set name: "+(0,E.m8)(e)),this.data[e]},addDataPipeline(e,r){return(0,E.nr)(this.data,e)&&(0,E.vU)("Duplicate data set name: "+(0,E.m8)(e)),this.addData(e,Tl.fromEntries(this,r))}},(0,E.l7)(Ws,Be,Ni,vi,Nt,Yr,Zr,Ar,Yn,Sr,tr,x1)},817:(zi,_n,je)=>{je.d(_n,{S:()=>Be});class Be{constructor(Ni,vi){this.x=Ni,this.y=vi}}},243:(zi,_n,je)=>{je.d(_n,{A:()=>Be});class Be{constructor(Ni,vi,Nt,Yr){this.positionX=Ni,this.positionY=vi,this.width=Nt,this.height=Yr}}},643:(zi,_n,je)=>{function Be(i){return"function"==typeof i}function $o(i){const t=i(o=>{Error.call(o),o.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ni=$o(i=>function(t){i(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((o,c)=>`${c+1}) ${o.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function vi(i,n){if(i){const t=i.indexOf(n);0<=t&&i.splice(t,1)}}class Nt{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const u of t)u.remove(this);else t.remove(this);const{initialTeardown:o}=this;if(Be(o))try{o()}catch(u){n=u instanceof Ni?u.errors:[u]}const{_teardowns:c}=this;if(c){this._teardowns=null;for(const u of c)try{Zr(u)}catch(m){n=null!=n?n:[],m instanceof Ni?n=[...n,...m.errors]:n.push(m)}}if(n)throw new Ni(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Zr(n);else{if(n instanceof Nt){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&vi(t,n)}remove(n){const{_teardowns:t}=this;t&&vi(t,n),n instanceof Nt&&n._removeParent(this)}}Nt.EMPTY=(()=>{const i=new Nt;return i.closed=!0,i})();const Yr=Nt.EMPTY;function Ar(i){return i instanceof Nt||i&&"closed"in i&&Be(i.remove)&&Be(i.add)&&Be(i.unsubscribe)}function Zr(i){Be(i)?i():i.unsubscribe()}const Yn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Sr={setTimeout(...i){const{delegate:n}=Sr;return((null==n?void 0:n.setTimeout)||setTimeout)(...i)},clearTimeout(i){const{delegate:n}=Sr;return((null==n?void 0:n.clearTimeout)||clearTimeout)(i)},delegate:void 0};function tr(i){Sr.setTimeout(()=>{const{onUnhandledError:n}=Yn;if(!n)throw i;n(i)})}function x1(){}const E=Z2("C",void 0,void 0);function Z2(i,n,t){return{kind:i,value:n,error:t}}let Q1=null;function J1(i){if(Yn.useDeprecatedSynchronousErrorHandling){const n=!Q1;if(n&&(Q1={errorThrown:!1,error:null}),i(),n){const{errorThrown:t,error:o}=Q1;if(Q1=null,t)throw o}}else i()}class Pl extends Nt{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Ar(n)&&n.add(this)):this.destination=nf}static create(n,t,o){return new Q4(n,t,o)}next(n){this.isStopped?zs(Z2("N",n,void 0),this):this._next(n)}error(n){this.isStopped?zs(Z2("E",void 0,n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?zs(E,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Q4 extends Pl{constructor(n,t,o){let c;if(super(),Be(n))c=n;else if(n){let u;({next:c,error:t,complete:o}=n),this&&Yn.useDeprecatedNextContext?(u=Object.create(n),u.unsubscribe=()=>this.unsubscribe()):u=n,c=null==c?void 0:c.bind(u),t=null==t?void 0:t.bind(u),o=null==o?void 0:o.bind(u)}this.destination={next:c?Hl(c):x1,error:Hl(null!=t?t:Bn),complete:o?Hl(o):x1}}}function Hl(i,n){return(...t)=>{try{i(...t)}catch(o){Yn.useDeprecatedSynchronousErrorHandling?function(i){Yn.useDeprecatedSynchronousErrorHandling&&Q1&&(Q1.errorThrown=!0,Q1.error=i)}(o):tr(o)}}}function Bn(i){throw i}function zs(i,n){const{onStoppedNotification:t}=Yn;t&&Sr.setTimeout(()=>t(i,n))}const nf={closed:!0,next:x1,error:Bn,complete:x1},J4="function"==typeof Symbol&&Symbol.observable||"@@observable";function qo(i){return i}let Lt=(()=>{class i{constructor(t){t&&(this._subscribe=t)}lift(t){const o=new i;return o.source=this,o.operator=t,o}subscribe(t,o,c){const u=function(i){return i&&i instanceof Pl||function(i){return i&&Be(i.next)&&Be(i.error)&&Be(i.complete)}(i)&&Ar(i)}(t)?t:new Q4(t,o,c);return J1(()=>{const{operator:m,source:g}=this;u.add(m?m.call(u,g):g?this._subscribe(u):this._trySubscribe(u))}),u}_trySubscribe(t){try{return this._subscribe(t)}catch(o){t.error(o)}}forEach(t,o){return new(o=Bl(o))((c,u)=>{let m;m=this.subscribe(g=>{try{t(g)}catch(b){u(b),null==m||m.unsubscribe()}},u,c)})}_subscribe(t){var o;return null===(o=this.source)||void 0===o?void 0:o.subscribe(t)}[J4](){return this}pipe(...t){return function(i){return 0===i.length?qo:1===i.length?i[0]:function(t){return i.reduce((o,c)=>c(o),t)}}(t)(this)}toPromise(t){return new(t=Bl(t))((o,c)=>{let u;this.subscribe(m=>u=m,m=>c(m),()=>o(u))})}}return i.create=n=>new i(n),i})();function Bl(i){var n;return null!==(n=null!=i?i:Yn.Promise)&&void 0!==n?n:Promise}const af=$o(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let st=(()=>{class i extends Lt{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const o=new K2(this,this);return o.operator=t,o}_throwIfClosed(){if(this.closed)throw new af}next(t){J1(()=>{if(this._throwIfClosed(),!this.isStopped){const o=this.observers.slice();for(const c of o)c.next(t)}})}error(t){J1(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:o}=this;for(;o.length;)o.shift().error(t)}})}complete(){J1(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:o,isStopped:c,observers:u}=this;return o||c?Yr:(u.push(t),new Nt(()=>vi(u,t)))}_checkFinalizedStatuses(t){const{hasError:o,thrownError:c,isStopped:u}=this;o?t.error(c):u&&t.complete()}asObservable(){const t=new Lt;return t.source=this,t}}return i.create=(n,t)=>new K2(n,t),i})();class K2 extends st{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===o||o.call(t,n)}error(n){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===o||o.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,o;return null!==(o=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==o?o:Yr}}function nn(i){return n=>{if(function(i){return Be(null==i?void 0:i.lift)}(n))return n.lift(function(t){try{return i(t,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}class Gt extends Pl{constructor(n,t,o,c,u){super(n),this.onFinalize=u,this._next=t?function(m){try{t(m)}catch(g){n.error(g)}}:super._next,this._error=c?function(m){try{c(m)}catch(g){n.error(g)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(m){n.error(m)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}function an(i,n){return nn((t,o)=>{let c=0;t.subscribe(new Gt(o,u=>{o.next(i.call(n,u,c++))}))})}function Wo(i){return this instanceof Wo?(this.v=i,this):new Wo(i)}function uf(i,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,o=t.apply(i,n||[]),u=[];return c={},m("next"),m("throw"),m("return"),c[Symbol.asyncIterator]=function(){return this},c;function m(z){o[z]&&(c[z]=function(L){return new Promise(function(R,j){u.push([z,L,R,j])>1||g(z,L)})})}function g(z,L){try{!function(z){z.value instanceof Wo?Promise.resolve(z.value.v).then(x,D):k(u[0][2],z)}(o[z](L))}catch(R){k(u[0][3],R)}}function x(z){g("next",z)}function D(z){g("throw",z)}function k(z,L){z(L),u.shift(),u.length&&g(u[0][0],u[0][1])}}function df(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=i[Symbol.asyncIterator];return n?n.call(i):(i=function(i){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&i[n],o=0;if(t)return t.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(u){t[u]=i[u]&&function(m){return new Promise(function(g,b){!function(u,m,g,b){Promise.resolve(b).then(function(x){u({value:x,done:g})},m)}(g,b,(m=i[u](m)).done,m.value)})}}}const J2=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function Ul(i){return Be(null==i?void 0:i.then)}function Ln(i){return Be(i[J4])}function Kr(i){return Symbol.asyncIterator&&Be(null==i?void 0:i[Symbol.asyncIterator])}function nr(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Go="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function ec(i){return Be(null==i?void 0:i[Go])}function r6(i){return uf(this,arguments,function*(){const t=i.getReader();try{for(;;){const{value:o,done:c}=yield Wo(t.read());if(c)return yield Wo(void 0);yield yield Wo(o)}}finally{t.releaseLock()}})}function $l(i){return Be(null==i?void 0:i.getReader)}function yi(i){if(i instanceof Lt)return i;if(null!=i){if(Ln(i))return function(i){return new Lt(n=>{const t=i[J4]();if(Be(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(J2(i))return function(i){return new Lt(n=>{for(let t=0;t<i.length&&!n.closed;t++)n.next(i[t]);n.complete()})}(i);if(Ul(i))return function(i){return new Lt(n=>{i.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,tr)})}(i);if(Kr(i))return tc(i);if(ec(i))return function(i){return new Lt(n=>{for(const t of i)if(n.next(t),n.closed)return;n.complete()})}(i);if($l(i))return function(i){return tc(r6(i))}(i)}throw nr(i)}function tc(i){return new Lt(n=>{(function(i,n){var t,o,c,u;return function(i,n,t,o){return new(t||(t=Promise))(function(u,m){function g(D){try{x(o.next(D))}catch(k){m(k)}}function b(D){try{x(o.throw(D))}catch(k){m(k)}}function x(D){D.done?u(D.value):function(u){return u instanceof t?u:new t(function(m){m(u)})}(D.value).then(g,b)}x((o=o.apply(i,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=df(i);!(o=yield t.next()).done;)if(n.next(o.value),n.closed)return}catch(m){c={error:m}}finally{try{o&&!o.done&&(u=t.return)&&(yield u.call(t))}finally{if(c)throw c.error}}n.complete()})})(i,n).catch(t=>n.error(t))})}function Ii(i,n,t,o=0,c=!1){const u=n.schedule(function(){t(),c?i.add(this.schedule(null,o)):this.unsubscribe()},o);if(i.add(u),!c)return u}function Fs(i,n,t=1/0){return Be(n)?Fs((o,c)=>an((u,m)=>n(o,u,c,m))(yi(i(o,c))),t):("number"==typeof n&&(t=n),nn((o,c)=>function(i,n,t,o,c,u,m,g){const b=[];let x=0,D=0,k=!1;const z=()=>{k&&!b.length&&!x&&n.complete()},L=j=>x<o?R(j):b.push(j),R=j=>{x++;let B=!1;yi(t(j,D++)).subscribe(new Gt(n,Q=>{n.next(Q)},()=>{B=!0},void 0,()=>{if(B)try{for(x--;b.length&&x<o;){const Q=b.shift();R(Q)}z()}catch(Q){n.error(Q)}}))};return i.subscribe(new Gt(n,L,()=>{k=!0,z()})),()=>{}}(o,c,i,t)))}function d7(i=1/0){return Fs(qo,i)}const ql=new Lt(i=>i.complete());function Z(i){return i&&Be(i.schedule)}function ee(i){return i[i.length-1]}function ne(i){return Be(ee(i))?i.pop():void 0}function oe(i){return Z(ee(i))?i.pop():void 0}function pe(i,n=0){return nn((t,o)=>{t.subscribe(new Gt(o,c=>Ii(o,i,()=>o.next(c),n),()=>Ii(o,i,()=>o.complete(),n),c=>Ii(o,i,()=>o.error(c),n)))})}function ve(i,n=0){return nn((t,o)=>{o.add(i.schedule(()=>t.subscribe(o),n))})}function ic(i,n){if(!i)throw new Error("Iterable cannot be null");return new Lt(t=>{Ii(t,n,()=>{const o=i[Symbol.asyncIterator]();Ii(t,n,()=>{o.next().then(c=>{c.done?t.complete():t.next(c.value)})},0,!0)})})}function rc(i,n){return n?function(i,n){if(null!=i){if(Ln(i))return function(i,n){return yi(i).pipe(ve(n),pe(n))}(i,n);if(J2(i))return function(i,n){return new Lt(t=>{let o=0;return n.schedule(function(){o===i.length?t.complete():(t.next(i[o++]),t.closed||this.schedule())})})}(i,n);if(Ul(i))return function(i,n){return yi(i).pipe(ve(n),pe(n))}(i,n);if(Kr(i))return ic(i,n);if(ec(i))return function(i,n){return new Lt(t=>{let o;return Ii(t,n,()=>{o=i[Go](),Ii(t,n,()=>{let c,u;try{({value:c,done:u}=o.next())}catch(m){return void t.error(m)}u?t.complete():t.next(c)},0,!0)}),()=>Be(null==o?void 0:o.return)&&o.return()})}(i,n);if($l(i))return function(i,n){return ic(r6(i),n)}(i,n)}throw nr(i)}(i,n):yi(i)}function oc(...i){const n=oe(i),t=function(i,n){return"number"==typeof ee(i)?i.pop():1/0}(i),o=i;return o.length?1===o.length?yi(o[0]):d7(t)(rc(o,n)):ql}function Yo(i){return i<=0?()=>ql:nn((n,t)=>{let o=0;n.subscribe(new Gt(t,c=>{++o<=i&&(t.next(c),i<=o&&t.complete())}))})}function J_(i,n,...t){return!0===n?(i(),null):!1===n?null:n(...t).pipe(Yo(1)).subscribe(()=>i())}function Yt(i){for(let n in i)if(i[n]===Yt)return n;throw Error("Could not find renamed property on target object.")}function ey(i,n){for(const t in n)n.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(i[t]=n[t])}function ct(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ct).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const n=i.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Zo(i,n){return null==i||""===i?null===n?"":n:null==n||""===n?i:i+" "+n}const jU=Yt({__forward_ref__:Yt});function kt(i){return i.__forward_ref__=kt,i.toString=function(){return ct(this())},i}function Fe(i){return Ak(i)?i():i}function Ak(i){return"function"==typeof i&&i.hasOwnProperty(jU)&&i.__forward_ref__===kt}class Ra extends Error{constructor(n,t){super(function(i,n){return`${i?`NG0${i}: `:""}${n}`}(n,t)),this.code=n}}function Je(i){return"string"==typeof i?i:null==i?"":String(i)}function kr(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Je(i)}function sc(i,n){const t=n?` in ${n}`:"";throw new Ra("201",`No provider for ${kr(i)} found${t}`)}function D1(i,n){null==i&&function(i,n,t,o){throw new Error(`ASSERTION ERROR: ${i}`+(null==o?"":` [Expected=> ${t} ${o} ${n} <=Actual]`))}(n,i,null,"!=")}function Ce(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Ne(i){return{providers:i.providers||[],imports:i.imports||[]}}function Fn(i){return Li(i,zr)||Li(i,g7)}function Li(i,n){return i.hasOwnProperty(n)?i[n]:null}function Qr(i){return i&&(i.hasOwnProperty(S1)||i.hasOwnProperty(v7))?i[S1]:null}const zr=Yt({\u0275prov:Yt}),S1=Yt({\u0275inj:Yt}),g7=Yt({ngInjectableDef:Yt}),v7=Yt({ngInjectorDef:Yt});var qe=(()=>((qe=qe||{})[qe.Default=0]="Default",qe[qe.Host=1]="Host",qe[qe.Self=2]="Self",qe[qe.SkipSelf=4]="SkipSelf",qe[qe.Optional=8]="Optional",qe))();let _7;function Nr(i){const n=_7;return _7=i,n}function _f(i,n,t){const o=Fn(i);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:t&qe.Optional?null:void 0!==n?n:void sc(ct(i),"Injector")}function Vs(i){return{toString:i}.toString()}var Jr=(()=>((Jr=Jr||{})[Jr.OnPush=0]="OnPush",Jr[Jr.Default=1]="Default",Jr))(),Ir=(()=>{return(i=Ir||(Ir={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Ir;var i})();const Nk="undefined"!=typeof globalThis&&globalThis,Ik="undefined"!=typeof window&&window,ay="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ft=Nk||"undefined"!=typeof global&&global||Ik||ay,Wl={},It=[],yf=Yt({\u0275cmp:Yt}),y7=Yt({\u0275dir:Yt}),b7=Yt({\u0275pipe:Yt}),cy=Yt({\u0275mod:Yt}),Oa=Yt({\u0275fac:Yt}),o6=Yt({__NG_ELEMENT_ID__:Yt});let Fk=0;function sn(i){return Vs(()=>{const t={},o={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Jr.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||It,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Ir.Emulated,id:"c",styles:i.styles||It,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,u=i.features,m=i.pipes;return o.id+=Fk++,o.inputs=fy(i.inputs,t),o.outputs=fy(i.outputs),u&&u.forEach(g=>g(o)),o.directiveDefs=c?()=>("function"==typeof c?c():c).map(Gl):null,o.pipeDefs=m?()=>("function"==typeof m?m():m).map(C7):null,o})}function lc(i,n,t){const o=i.\u0275cmp;o.directiveDefs=()=>n.map(Gl),o.pipeDefs=()=>t.map(C7)}function Gl(i){return jn(i)||function(i){return i[y7]||null}(i)}function C7(i){return function(i){return i[b7]||null}(i)}const ly={};function lt(i){return Vs(()=>{const n={type:i.type,bootstrap:i.bootstrap||It,declarations:i.declarations||It,imports:i.imports||It,exports:i.exports||It,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(ly[i.id]=i.type),n})}function fy(i,n){if(null==i)return Wl;const t={};for(const o in i)if(i.hasOwnProperty(o)){let c=i[o],u=c;Array.isArray(c)&&(u=c[1],c=c[0]),t[c]=o,n&&(n[c]=u)}return t}const Ae=sn;function ii(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function jn(i){return i[yf]||null}function T1(i,n){const t=i[cy]||null;if(!t&&!0===n)throw new Error(`Type ${ct(i)} does not have '\u0275mod' property.`);return t}function io(i){return Array.isArray(i)&&"object"==typeof i[1]}function ro(i){return Array.isArray(i)&&!0===i[1]}function M7(i){return 0!=(8&i.flags)}function Cf(i){return 2==(2&i.flags)}function c6(i){return 1==(1&i.flags)}function oo(i){return null!==i.template}function hy(i){return 0!=(512&i[2])}function mc(i,n){return i.hasOwnProperty(Oa)?i[Oa]:null}class py{constructor(n,t,o){this.previousValue=n,this.currentValue=t,this.firstChange=o}isFirstChange(){return this.firstChange}}function Rn(){return gy}function gy(i){return i.type.prototype.ngOnChanges&&(i.setInput=vy),Bk}function Bk(){const i=yy(this),n=null==i?void 0:i.current;if(n){const t=i.previous;if(t===Wl)i.previous=n;else for(let o in n)t[o]=n[o];i.current=null,this.ngOnChanges(n)}}function vy(i,n,t,o){const c=yy(i)||function(i,n){return i[_y]=n}(i,{previous:Wl,current:null}),u=c.current||(c.current={}),m=c.previous,g=this.declaredInputs[t],b=m[g];u[g]=new py(b&&b.currentValue,n,m===Wl),i[o]=n}Rn.ngInherit=!0;const _y="__ngSimpleChanges__";function yy(i){return i[_y]||null}const by="http://www.w3.org/2000/svg";let w7;function wf(){return void 0!==w7?w7:"undefined"!=typeof document?document:void 0}function An(i){return!!i.listen}const xy={createRenderer:(i,n)=>wf()};function Un(i){for(;Array.isArray(i);)i=i[0];return i}function Ef(i,n){return Un(n[i])}function t1(i,n){return Un(n[i.index])}function Df(i,n){return i.data[n]}function ao(i,n){return i[n]}function ar(i,n){const t=n[i];return io(t)?t:t[0]}function E7(i){return 4==(4&i[2])}function l6(i){return 128==(128&i[2])}function Hs(i,n){return null==n?null:i[n]}function Kl(i){i[18]=0}function D7(i,n){i[5]+=n;let t=i,o=i[3];for(;null!==o&&(1===n&&1===t[5]||-1===n&&0===t[5]);)o[5]+=n,t=o,o=o[3]}const et={lFrame:Ly(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Af(){return et.bindingsEnabled}function le(){return et.lFrame.lView}function At(){return et.lFrame.tView}function Sn(i){return et.lFrame.contextLView=i,i[8]}function kn(){let i=Sf();for(;null!==i&&64===i.type;)i=i.parent;return i}function Sf(){return et.lFrame.currentTNode}function so(i,n){const t=et.lFrame;t.currentTNode=i,t.isParent=n}function ky(){return et.lFrame.isParent}function S7(){et.lFrame.isParent=!1}function f6(){return et.isInCheckNoChangesMode}function kf(i){et.isInCheckNoChangesMode=i}function sr(){const i=et.lFrame;let n=i.bindingRootIndex;return-1===n&&(n=i.bindingRootIndex=i.tView.bindingStartIndex),n}function Bs(){return et.lFrame.bindingIndex++}function Pa(i){const n=et.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+i,t}function Zk(i,n){const t=et.lFrame;t.bindingIndex=t.bindingRootIndex=i,d6(n)}function d6(i){et.lFrame.currentDirectiveIndex=i}function zy(){return et.lFrame.currentQueryIndex}function T7(i){et.lFrame.currentQueryIndex=i}function Ny(i){const n=i[1];return 2===n.type?n.declTNode:1===n.type?i[6]:null}function Iy(i,n,t){if(t&qe.SkipSelf){let c=n,u=i;for(;!(c=c.parent,null!==c||t&qe.Host||(c=Ny(u),null===c||(u=u[15],10&c.type))););if(null===c)return!1;n=c,i=u}const o=et.lFrame=m6();return o.currentTNode=n,o.lView=i,!0}function h6(i){const n=m6(),t=i[1];et.lFrame=n,n.currentTNode=t.firstChild,n.lView=i,n.tView=t,n.contextLView=i,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function m6(){const i=et.lFrame,n=null===i?null:i.child;return null===n?Ly(i):n}function Ly(i){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=n),n}function Fy(){const i=et.lFrame;return et.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Ry=Fy;function p6(){const i=Fy();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ci(){return et.lFrame.selectedIndex}function js(i){et.lFrame.selectedIndex=i}function Tn(){const i=et.lFrame;return Df(i.tView,i.selectedIndex)}function Ha(){et.lFrame.currentNamespace=by}function Ql(i,n){for(let t=n.directiveStart,o=n.directiveEnd;t<o;t++){const u=i.data[t].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:g,ngAfterViewInit:b,ngAfterViewChecked:x,ngOnDestroy:D}=u;m&&(i.contentHooks||(i.contentHooks=[])).push(-t,m),g&&((i.contentHooks||(i.contentHooks=[])).push(t,g),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(t,g)),b&&(i.viewHooks||(i.viewHooks=[])).push(-t,b),x&&((i.viewHooks||(i.viewHooks=[])).push(t,x),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(t,x)),null!=D&&(i.destroyHooks||(i.destroyHooks=[])).push(t,D)}}function pc(i,n,t){L7(i,n,3,t)}function gc(i,n,t,o){(3&i[2])===t&&L7(i,n,t,o)}function g6(i,n){let t=i[2];(3&t)===n&&(t&=2047,t+=1,i[2]=t)}function L7(i,n,t,o){const u=null!=o?o:-1,m=n.length-1;let g=0;for(let b=void 0!==o?65535&i[18]:0;b<m;b++)if("number"==typeof n[b+1]){if(g=n[b],null!=o&&g>=o)break}else n[b]<0&&(i[18]+=65536),(g<u||-1==u)&&(nT(i,t,n,b),i[18]=(4294901760&i[18])+b+2),b++}function nT(i,n,t,o){const c=t[o]<0,u=t[o+1],g=i[c?-t[o]:t[o]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===n){i[2]+=2048;try{u.call(g)}finally{}}}else try{u.call(g)}finally{}}class Le{constructor(n,t,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=o}}function yc(i,n,t){const o=An(i);let c=0;for(;c<t.length;){const u=t[c];if("number"==typeof u){if(0!==u)break;c++;const m=t[c++],g=t[c++],b=t[c++];o?i.setAttribute(n,g,b,m):n.setAttributeNS(m,g,b)}else{const m=u,g=t[++c];F7(m)?o&&i.setProperty(n,m,g):o?i.setAttribute(n,m,g):n.setAttribute(m,g),c++}}return c}function zf(i){return 3===i||4===i||6===i}function F7(i){return 64===i.charCodeAt(0)}function Nf(i,n){if(null!==n&&0!==n.length)if(null===i||0===i.length)i=n.slice();else{let t=-1;for(let o=0;o<n.length;o++){const c=n[o];"number"==typeof c?t=c:0===t||Py(i,t,c,null,-1===t||2===t?n[++o]:null)}}return i}function Py(i,n,t,o,c){let u=0,m=i.length;if(-1===n)m=-1;else for(;u<i.length;){const g=i[u++];if("number"==typeof g){if(g===n){m=-1;break}if(g>n){m=u-1;break}}}for(;u<i.length;){const g=i[u];if("number"==typeof g)break;if(g===t){if(null===o)return void(null!==c&&(i[u+1]=c));if(o===i[u+1])return void(i[u+2]=c)}u++,null!==o&&u++,null!==c&&u++}-1!==m&&(i.splice(m,0,n),u=m+1),i.splice(u++,0,t),null!==o&&i.splice(u++,0,o),null!==c&&i.splice(u++,0,c)}function Hy(i){return-1!==i}function t0(i){return 32767&i}function bc(i,n){let t=function(i){return i>>16}(i),o=n;for(;t>0;)o=o[15],t--;return o}let R7=!0;function If(i){const n=R7;return R7=i,n}let rT=0;function v6(i,n){const t=_6(i,n);if(-1!==t)return t;const o=n[1];o.firstCreatePass&&(i.injectorIndex=n.length,V7(o.data,i),V7(n,null),V7(o.blueprint,null));const c=Ff(i,n),u=i.injectorIndex;if(Hy(c)){const m=t0(c),g=bc(c,n),b=g[1].data;for(let x=0;x<8;x++)n[u+x]=g[m+x]|b[m+x]}return n[u+8]=c,u}function V7(i,n){i.push(0,0,0,0,0,0,0,0,n)}function _6(i,n){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===n[i.injectorIndex+8]?-1:i.injectorIndex}function Ff(i,n){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let t=0,o=null,c=n;for(;null!==c;){const u=c[1],m=u.type;if(o=2===m?u.declTNode:1===m?c[6]:null,null===o)return-1;if(t++,c=c[15],-1!==o.injectorIndex)return o.injectorIndex|t<<16}return-1}function n0(i,n,t){!function(i,n,t){let o;"string"==typeof t?o=t.charCodeAt(0)||0:t.hasOwnProperty(o6)&&(o=t[o6]),null==o&&(o=t[o6]=rT++);const c=255&o;n.data[i+(c>>5)]|=1<<c}(i,n,t)}function By(i,n,t){if(t&qe.Optional)return i;sc(n,"NodeInjector")}function jy(i,n,t,o){if(t&qe.Optional&&void 0===o&&(o=null),0==(t&(qe.Self|qe.Host))){const c=i[9],u=Nr(void 0);try{return c?c.get(n,o,t&qe.Optional):_f(n,o,t&qe.Optional)}finally{Nr(u)}}return By(o,n,t)}function Uy(i,n,t,o=qe.Default,c){if(null!==i){const u=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const n=i.hasOwnProperty(o6)?i[o6]:void 0;return"number"==typeof n?n>=0?255&n:sT:n}(t);if("function"==typeof u){if(!Iy(n,i,o))return o&qe.Host?By(c,t,o):jy(n,t,o,c);try{const m=u(o);if(null!=m||o&qe.Optional)return m;sc(t)}finally{Ry()}}else if("number"==typeof u){let m=null,g=_6(i,n),b=-1,x=o&qe.Host?n[16][6]:null;for((-1===g||o&qe.SkipSelf)&&(b=-1===g?Ff(i,n):n[g+8],-1!==b&&ta(o,!1)?(m=n[1],g=t0(b),n=bc(b,n)):g=-1);-1!==g;){const D=n[1];if(ja(u,g,D.data)){const k=cT(g,n,t,m,o,x);if(k!==$y)return k}b=n[g+8],-1!==b&&ta(o,n[1].data[g+8]===x)&&ja(u,g,n)?(m=D,g=t0(b),n=bc(b,n)):g=-1}}}return jy(n,t,o,c)}const $y={};function sT(){return new r0(kn(),le())}function cT(i,n,t,o,c,u){const m=n[1],g=m.data[i+8],D=Rf(g,m,t,null==o?Cf(g)&&R7:o!=m&&0!=(3&g.type),c&qe.Host&&u===g);return null!==D?Us(n,m,D,g):$y}function Rf(i,n,t,o,c){const u=i.providerIndexes,m=n.data,g=1048575&u,b=i.directiveStart,D=u>>20,z=c?g+D:i.directiveEnd;for(let L=o?g:g+D;L<z;L++){const R=m[L];if(L<b&&t===R||L>=b&&R.type===t)return L}if(c){const L=m[b];if(L&&oo(L)&&L.type===t)return b}return null}function Us(i,n,t,o){let c=i[t];const u=n.data;if(function(i){return i instanceof Le}(c)){const m=c;m.resolving&&function(i,n){throw new Ra("200",`Circular dependency in DI detected for ${i}`)}(kr(u[t]));const g=If(m.canSeeViewProviders);m.resolving=!0;const b=m.injectImpl?Nr(m.injectImpl):null;Iy(i,o,qe.Default);try{c=i[t]=m.factory(void 0,u,i,o),n.firstCreatePass&&t>=o.directiveStart&&function(i,n,t){const{ngOnChanges:o,ngOnInit:c,ngDoCheck:u}=n.type.prototype;if(o){const m=gy(n);(t.preOrderHooks||(t.preOrderHooks=[])).push(i,m),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i,m)}c&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-i,c),u&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i,u),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i,u))}(t,u[t],n)}finally{null!==b&&Nr(b),If(g),m.resolving=!1,Ry()}}return c}function ja(i,n,t){return!!(t[n+(i>>5)]&1<<i)}function ta(i,n){return!(i&qe.Self||i&qe.Host&&n)}class r0{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,o){return Uy(this._tNode,this._lView,n,o,t)}}function xi(i){return Vs(()=>{const n=i.prototype.constructor,t=n[Oa]||$s(n),o=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==o;){const u=c[Oa]||$s(c);if(u&&u!==t)return u;c=Object.getPrototypeOf(c)}return u=>new u})}function $s(i){return Ak(i)?()=>{const n=$s(Fe(i));return n&&n()}:mc(i)}function na(i){return function(i,n){if("class"===n)return i.classes;if("style"===n)return i.styles;const t=i.attrs;if(t){const o=t.length;let c=0;for(;c<o;){const u=t[c];if(zf(u))break;if(0===u)c+=2;else if("number"==typeof u)for(c++;c<o&&"string"==typeof t[c];)c++;else{if(u===n)return t[c+1];c+=2}}}return null}(kn(),i)}const Cc="__parameters__";function qs(i,n,t){return Vs(()=>{const o=function(i){return function(...t){if(i){const o=i(...t);for(const c in o)this[c]=o[c]}}}(n);function c(...u){if(this instanceof c)return o.apply(this,u),this;const m=new c(...u);return g.annotation=m,g;function g(b,x,D){const k=b.hasOwnProperty(Cc)?b[Cc]:Object.defineProperty(b,Cc,{value:[]})[Cc];for(;k.length<=D;)k.push(null);return(k[D]=k[D]||[]).push(m),b}}return t&&(c.prototype=Object.create(t.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class be{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Ce({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Ri(i,n){void 0===n&&(n=i);for(let t=0;t<i.length;t++){let o=i[t];Array.isArray(o)?(n===i&&(n=i.slice(0,t)),Ri(o,n)):n!==i&&n.push(o)}return n}function te(i,n){i.forEach(t=>Array.isArray(t)?te(t,n):n(t))}function Ws(i,n,t){n>=i.length?i.push(t):i.splice(n,0,t)}function Mc(i,n){return n>=i.length-1?i.pop():i.splice(n,1)[0]}function Gs(i,n){const t=[];for(let o=0;o<i;o++)t.push(n);return t}function cr(i,n,t){let o=a0(i,n);return o>=0?i[1|o]=t:(o=~o,function(i,n,t,o){let c=i.length;if(c==n)i.push(t,o);else if(1===c)i.push(o,i[0]),i[0]=t;else{for(c--,i.push(i[c-1],i[c]);c>n;)i[c]=i[c-2],c--;i[n]=t,i[n+1]=o}}(i,o,n,t)),o}function Of(i,n){const t=a0(i,n);if(t>=0)return i[1|t]}function a0(i,n){return function(i,n,t){let o=0,c=i.length>>t;for(;c!==o;){const u=o+(c-o>>1),m=i[u<<t];if(n===m)return u<<t;m>n?c=u:o=u+1}return~(c<<t)}(i,n,1)}const x6={},eb="__NG_DI_FLAG__",M6="ngTempTokenPath",pT=/\n/gm,E6="__source",Hf=Yt({provide:String,useValue:Yt});let wc;function Ys(i){const n=wc;return wc=i,n}function gT(i,n=qe.Default){if(void 0===wc)throw new Error("inject() must be called from an injection context");return null===wc?_f(i,void 0,n):wc.get(i,n&qe.Optional?null:void 0,n)}function ce(i,n=qe.Default){return(_7||gT)(Fe(i),n)}const Bf=ce;function Zs(i){const n=[];for(let t=0;t<i.length;t++){const o=Fe(i[t]);if(Array.isArray(o)){if(0===o.length)throw new Error("Arguments array must have arguments.");let c,u=qe.Default;for(let m=0;m<o.length;m++){const g=o[m],b=nb(g);"number"==typeof b?-1===b?c=g.token:u|=b:c=g}n.push(ce(c,u))}else n.push(ce(o))}return n}function s0(i,n){return i[eb]=n,i.prototype[eb]=n,i}function nb(i){return i[eb]}function ib(i,n,t,o){const c=i[M6];throw n[E6]&&c.unshift(n[E6]),i.message=function(i,n,t,o=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=ct(n);if(Array.isArray(n))c=n.map(ct).join(" -> ");else if("object"==typeof n){let u=[];for(let m in n)if(n.hasOwnProperty(m)){let g=n[m];u.push(m+":"+("string"==typeof g?JSON.stringify(g):ct(g)))}c=`{${u.join(", ")}}`}return`${t}${o?"("+o+")":""}[${c}]: ${i.replace(pT,"\n  ")}`}("\n"+i.message,c,t,o),i.ngTokenPath=c,i[M6]=null,i}const c0=s0(qs("Inject",i=>({token:i})),-1),Lr=s0(qs("Optional"),8),Ua=s0(qs("SkipSelf"),4);let jf,Uf;function d0(i){var n;return(null==(n=function(){if(void 0===jf&&(jf=null,Ft.trustedTypes))try{jf=Ft.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return jf}())?void 0:n.createHTML(i))||i}function lb(i){var n;return(null==(n=function(){if(void 0===Uf&&(Uf=null,Ft.trustedTypes))try{Uf=Ft.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Uf}())?void 0:n.createHTML(i))||i}class $a{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class wT extends $a{getTypeName(){return"HTML"}}class S6 extends $a{getTypeName(){return"Style"}}class k6 extends $a{getTypeName(){return"Script"}}class ET extends $a{getTypeName(){return"URL"}}class ub extends $a{getTypeName(){return"ResourceURL"}}function Fr(i){return i instanceof $a?i.changingThisBreaksApplicationSecurity:i}function ra(i,n){const t=fb(i);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===n}function fb(i){return i instanceof $a&&i.getTypeName()||null}class Qs{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const t=(new window.DOMParser).parseFromString(d0(n),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(n):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class kT{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const o=this.inertDocument.createElement("body");t.appendChild(o)}}getInertBodyElement(n){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=d0(n),t;const o=this.inertDocument.createElement("body");return o.innerHTML=d0(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(o),o}stripCustomNsAttrs(n){const t=n.attributes;for(let c=t.length-1;0<c;c--){const m=t.item(c).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&n.removeAttribute(m)}let o=n.firstChild;for(;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling}}const hb=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,pb=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function T6(i){return(i=String(i)).match(hb)||i.match(pb)?i:"unsafe:"+i}function qf(i){return(i=String(i)).split(",").map(n=>T6(n.trim())).join(", ")}function oa(i){const n={};for(const t of i.split(","))n[t]=!0;return n}function Dc(...i){const n={};for(const t of i)for(const o in t)t.hasOwnProperty(o)&&(n[o]=!0);return n}const gb=oa("area,br,col,hr,img,wbr"),X7=oa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),vb=oa("rp,rt"),z6=Dc(gb,Dc(X7,oa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dc(vb,oa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dc(vb,X7)),Wf=oa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Y7=oa("srcset"),Gf=Dc(Wf,Y7,oa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),oa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_b=oa("script,style,template");class Z7{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let t=n.firstChild,o=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?o=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,o&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let c=this.checkClobberedElement(t,t.nextSibling);if(c){t=c;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(n){const t=n.nodeName.toLowerCase();if(!z6.hasOwnProperty(t))return this.sanitizedSomething=!0,!_b.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const o=n.attributes;for(let c=0;c<o.length;c++){const u=o.item(c),m=u.name,g=m.toLowerCase();if(!Gf.hasOwnProperty(g)){this.sanitizedSomething=!0;continue}let b=u.value;Wf[g]&&(b=T6(b)),Y7[g]&&(b=qf(b)),this.buf.push(" ",m,'="',bb(b),'"')}return this.buf.push(">"),!0}endElement(n){const t=n.nodeName.toLowerCase();z6.hasOwnProperty(t)&&!gb.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(bb(n))}checkClobberedElement(n,t){if(t&&(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return t}}const IT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yb=/([^\#-~ |!])/g;function bb(i){return i.replace(/&/g,"&amp;").replace(IT,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(yb,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let h0;function Xf(i,n){let t=null;try{h0=h0||function(i){const n=new kT(i);return function(){try{return!!(new window.DOMParser).parseFromString(d0(""),"text/html")}catch(i){return!1}}()?new Qs(n):n}(i);let o=n?String(n):"";t=h0.getInertBodyElement(o);let c=5,u=o;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,o=u,u=t.innerHTML,t=h0.getInertBodyElement(o)}while(o!==u);return d0((new Z7).sanitizeChildren(m0(t)||t))}finally{if(t){const o=m0(t)||t;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function m0(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Rt=(()=>((Rt=Rt||{})[Rt.NONE=0]="NONE",Rt[Rt.HTML=1]="HTML",Rt[Rt.STYLE=2]="STYLE",Rt[Rt.SCRIPT=3]="SCRIPT",Rt[Rt.URL=4]="URL",Rt[Rt.RESOURCE_URL=5]="RESOURCE_URL",Rt))();function Yf(i){const n=Ac();return n?lb(n.sanitize(Rt.HTML,i)||""):ra(i,"HTML")?lb(Fr(i)):Xf(wf(),Je(i))}function Js(i){const n=Ac();return n?n.sanitize(Rt.URL,i)||"":ra(i,"URL")?Fr(i):T6(Je(i))}function Ac(){const i=le();return i&&i[12]}const J7="__ngContext__";function Vi(i,n){i[J7]=n}function N6(i){const n=function(i){return i[J7]||null}(i);return n?Array.isArray(n)?n:n.lView:null}function p0(i){return i.ngOriginalError}function Ab(i,...n){i.error(...n)}class uo{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n),o=this._findContext(n),c=(i=n)&&i.ngErrorLogger||Ab;var i;c(this._console,"ERROR",n),t&&c(this._console,"ORIGINAL ERROR",t),o&&c(this._console,"ERROR CONTEXT",o)}_findContext(n){return n?function(i){return i.ngDebugContext}(n)||this._findContext(p0(n)):null}_findOriginalError(n){let t=n&&p0(n);for(;t&&p0(t);)t=p0(t);return t||null}}const t8=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ft))();function Fb(i){return i.ownerDocument.defaultView}function n8(i){return i.ownerDocument}function n1(i){return i instanceof Function?i():i}var Rr=(()=>((Rr=Rr||{})[Rr.Important=1]="Important",Rr[Rr.DashCase=2]="DashCase",Rr))();function i8(i,n){return undefined(i,n)}function Tc(i){const n=i[3];return ro(n)?n[3]:n}function u9(i){return Vb(i[13])}function F6(i){return Vb(i[4])}function Vb(i){for(;null!==i&&!ro(i);)i=i[4];return i}function Vn(i,n,t,o,c){if(null!=o){let u,m=!1;ro(o)?u=o:io(o)&&(m=!0,o=o[0]);const g=Un(o);0===i&&null!==t?null==c?a8(n,t,g):t2(n,t,g,c||null,!0):1===i&&null!==t?t2(n,t,g,c||null,!0):2===i?function(i,n,t){const o=O6(i,n);o&&function(i,n,t,o){An(i)?i.removeChild(n,t,o):n.removeChild(t)}(i,o,n,t)}(n,g,m):3===i&&n.destroyNode(g),null!=u&&function(i,n,t,o,c){const u=t[7];u!==Un(t)&&Vn(n,i,o,u,c);for(let g=10;g<t.length;g++){const b=t[g];H6(b[1],b,i,n,o,u)}}(n,i,u,t,c)}}function N1(i,n,t){return An(i)?i.createElement(n,t):null===t?i.createElement(n):i.createElementNS(t,n)}function d9(i,n){const t=i[9],o=t.indexOf(n),c=n[3];1024&n[2]&&(n[2]&=-1025,D7(c,-1)),t.splice(o,1)}function V6(i,n){if(i.length<=10)return;const t=10+n,o=i[t];if(o){const c=o[17];null!==c&&c!==i&&d9(c,o),n>0&&(i[t-1][4]=o[4]);const u=Mc(i,10+n);!function(i,n){H6(i,n,n[11],2,null,null),n[0]=null,n[6]=null}(o[1],o);const m=u[19];null!==m&&m.detachView(u[1]),o[3]=null,o[4]=null,o[2]&=-129}return o}function h9(i,n){if(!(256&n[2])){const t=n[11];An(t)&&t.destroyNode&&H6(i,n,t,3,null,null),function(i){let n=i[13];if(!n)return m9(i[1],i);for(;n;){let t=null;if(io(n))t=n[13];else{const o=n[10];o&&(t=o)}if(!t){for(;n&&!n[4]&&n!==i;)io(n)&&m9(n[1],n),n=n[3];null===n&&(n=i),io(n)&&m9(n[1],n),t=n&&n[4]}n=t}}(n)}}function m9(i,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(i,n){let t;if(null!=i&&null!=(t=i.destroyHooks))for(let o=0;o<t.length;o+=2){const c=n[t[o]];if(!(c instanceof Le)){const u=t[o+1];if(Array.isArray(u))for(let m=0;m<u.length;m+=2){const g=c[u[m]],b=u[m+1];try{b.call(g)}finally{}}else try{u.call(c)}finally{}}}}(i,n),function(i,n){const t=i.cleanup,o=n[7];let c=-1;if(null!==t)for(let u=0;u<t.length-1;u+=2)if("string"==typeof t[u]){const m=t[u+1],g="function"==typeof m?m(n):Un(n[m]),b=o[c=t[u+2]],x=t[u+3];"boolean"==typeof x?g.removeEventListener(t[u],b,x):x>=0?o[c=x]():o[c=-x].unsubscribe(),u+=2}else{const m=o[c=t[u+1]];t[u].call(m)}if(null!==o){for(let u=c+1;u<o.length;u++)o[u]();n[7]=null}}(i,n),1===n[1].type&&An(n[11])&&n[11].destroy();const t=n[17];if(null!==t&&ro(n[3])){t!==n[3]&&d9(t,n);const o=n[19];null!==o&&o.detachView(i)}}}function p9(i,n,t){return function(i,n,t){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return t[0];if(2&o.flags){const c=i.data[o.directiveStart].encapsulation;if(c===Ir.None||c===Ir.Emulated)return null}return t1(o,t)}(i,n.parent,t)}function t2(i,n,t,o,c){An(i)?i.insertBefore(n,t,o,c):n.insertBefore(t,o,c)}function a8(i,n,t){An(i)?i.appendChild(n,t):n.appendChild(t)}function g9(i,n,t,o,c){null!==o?t2(i,n,t,o,c):a8(i,n,t)}function O6(i,n){return An(i)?i.parentNode(n):n.parentNode}function v9(i,n,t){return P6(i,n,t)}let P6=function(i,n,t){return 40&i.type?t1(i,t):null};function l8(i,n,t,o){const c=p9(i,o,n),u=n[11],g=v9(o.parent||n[6],o,n);if(null!=c)if(Array.isArray(t))for(let b=0;b<t.length;b++)g9(u,c,t[b],g,!1);else g9(u,c,t,g,!1)}function u8(i,n){if(null!==n){const t=n.type;if(3&t)return t1(n,i);if(4&t)return f8(-1,i[n.index]);if(8&t){const o=n.child;if(null!==o)return u8(i,o);{const c=i[n.index];return ro(c)?f8(-1,c):Un(c)}}if(32&t)return i8(n,i)()||Un(i[n.index]);{const o=y9(i,n);return null!==o?Array.isArray(o)?o[0]:u8(Tc(i[16]),o):u8(i,n.next)}}return null}function y9(i,n){return null!==n?i[16][6].projection[n.projection]:null}function f8(i,n){const t=10+i+1;if(t<n.length){const o=n[t],c=o[1].firstChild;if(null!==c)return u8(o,c)}return n[7]}function v0(i,n,t,o,c,u,m){for(;null!=t;){const g=o[t.index],b=t.type;if(m&&0===n&&(g&&Vi(Un(g),o),t.flags|=4),64!=(64&t.flags))if(8&b)v0(i,n,t.child,o,c,u,!1),Vn(n,i,c,g,u);else if(32&b){const x=i8(t,o);let D;for(;D=x();)Vn(n,i,c,D,u);Vn(n,i,c,g,u)}else 16&b?Ub(i,n,o,t,c,u):Vn(n,i,c,g,u);t=m?t.projectionNext:t.next}}function H6(i,n,t,o,c,u){v0(t,o,i.firstChild,n,c,u,!1)}function Ub(i,n,t,o,c,u){const m=t[16],b=m[6].projection[o.projection];if(Array.isArray(b))for(let x=0;x<b.length;x++)Vn(n,i,c,b[x],u);else v0(i,n,b,m[3],c,u,!0)}function n2(i,n,t){An(i)?i.setAttribute(n,"style",t):n.style.cssText=t}function x9(i,n,t){An(i)?""===t?i.removeAttribute(n,"class"):i.setAttribute(n,"class",t):n.className=t}function d8(i,n,t){let o=i.length;for(;;){const c=i.indexOf(n,t);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const u=n.length;if(c+u===o||i.charCodeAt(c+u)<=32)return c}t=c+1}}const zc="ng-template";function qt(i,n,t){let o=0;for(;o<i.length;){let c=i[o++];if(t&&"class"===c){if(c=i[o],-1!==d8(c.toLowerCase(),n,0))return!0}else if(1===c){for(;o<i.length&&"string"==typeof(c=i[o++]);)if(c.toLowerCase()===n)return!0;return!1}}return!1}function $b(i){return 4===i.type&&i.value!==zc}function ZT(i,n,t){return n===(4!==i.type||t?i.value:zc)}function KT(i,n,t){let o=4;const c=i.attrs||[],u=function(i){for(let n=0;n<i.length;n++)if(zf(i[n]))return n;return i.length}(c);let m=!1;for(let g=0;g<n.length;g++){const b=n[g];if("number"!=typeof b){if(!m)if(4&o){if(o=2|1&o,""!==b&&!ZT(i,b,t)||""===b&&1===n.length){if(fo(o))return!1;m=!0}}else{const x=8&o?b:n[++g];if(8&o&&null!==i.attrs){if(!qt(i.attrs,x,t)){if(fo(o))return!1;m=!0}continue}const k=QT(8&o?"class":b,c,$b(i),t);if(-1===k){if(fo(o))return!1;m=!0;continue}if(""!==x){let z;z=k>u?"":c[k+1].toLowerCase();const L=8&o?z:null;if(L&&-1!==d8(L,x,0)||2&o&&x!==z){if(fo(o))return!1;m=!0}}}}else{if(!m&&!fo(o)&&!fo(b))return!1;if(m&&fo(b))continue;m=!1,o=b|1&o}}return fo(o)||m}function fo(i){return 0==(1&i)}function QT(i,n,t,o){if(null===n)return-1;let c=0;if(o||!t){let u=!1;for(;c<n.length;){const m=n[c];if(m===i)return c;if(3===m||6===m)u=!0;else{if(1===m||2===m){let g=n[++c];for(;"string"==typeof g;)g=n[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=u?1:2}return-1}return function(i,n){let t=i.indexOf(4);if(t>-1)for(t++;t<i.length;){const o=i[t];if("number"==typeof o)return-1;if(o===n)return t;t++}return-1}(n,i)}function qb(i,n,t=!1){for(let o=0;o<n.length;o++)if(KT(i,n[o],t))return!0;return!1}function Wb(i,n){e:for(let t=0;t<n.length;t++){const o=n[t];if(i.length===o.length){for(let c=0;c<i.length;c++)if(i[c]!==o[c])continue e;return!0}}return!1}function M9(i,n){return i?":not("+n.trim()+")":n}function Gb(i){let n=i[0],t=1,o=2,c="",u=!1;for(;t<i.length;){let m=i[t];if("string"==typeof m)if(2&o){const g=i[++t];c+="["+m+(g.length>0?'="'+g+'"':"")+"]"}else 8&o?c+="."+m:4&o&&(c+=" "+m);else""!==c&&!fo(m)&&(n+=M9(u,c),c=""),o=m,u=u||!fo(o);t++}return""!==c&&(n+=M9(u,c)),n}const nt={};function ue(i){w9(At(),le(),Ci()+i,f6())}function w9(i,n,t,o){if(!o)if(3==(3&n[2])){const u=i.preOrderCheckHooks;null!==u&&pc(n,u,t)}else{const u=i.preOrderHooks;null!==u&&gc(n,u,0,t)}js(t)}function m8(i,n){return i<<17|n<<2}function ho(i){return i>>17&32767}function D9(i){return 2|i}function Ga(i){return(131068&i)>>2}function A9(i,n){return-131069&i|n<<2}function S9(i){return 1|i}function F9(i,n){const t=i.contentQueries;if(null!==t)for(let o=0;o<t.length;o+=2){const c=t[o],u=t[o+1];if(-1!==u){const m=i.data[u];T7(c),m.contentQueries(2,n[u],u)}}}function C0(i,n,t,o,c,u,m,g,b,x){const D=n.blueprint.slice();return D[0]=c,D[2]=140|o,Kl(D),D[3]=D[15]=i,D[8]=t,D[10]=m||i&&i[10],D[11]=g||i&&i[11],D[12]=b||i&&i[12]||null,D[9]=x||i&&i[9]||null,D[6]=u,D[16]=2==n.type?i[16]:D,D}function Lc(i,n,t,o,c){let u=i.data[n];if(null===u)u=function(i,n,t,o,c){const u=Sf(),m=ky(),b=i.data[n]=function(i,n,t,o,c,u){return{type:t,index:o,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:u,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?u:u&&u.parent,t,n,o,c);return null===i.firstChild&&(i.firstChild=b),null!==u&&(m?null==u.child&&null!==b.parent&&(u.child=b):null===u.next&&(u.next=b)),b}(i,n,t,o,c),et.lFrame.inI18n&&(u.flags|=64);else if(64&u.type){u.type=t,u.value=o,u.attrs=c;const m=function(){const i=et.lFrame,n=i.currentTNode;return i.isParent?n:n.parent}();u.injectorIndex=null===m?-1:m.injectorIndex}return so(u,!0),u}function fr(i,n,t,o){if(0===t)return-1;const c=n.length;for(let u=0;u<t;u++)n.push(o),i.blueprint.push(o),i.data.push(null);return c}function Fc(i,n,t){h6(n);try{const o=i.viewQuery;null!==o&&S8(1,o,t);const c=i.template;null!==c&&V9(i,n,c,1,t),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&F9(i,n),i.staticViewQueries&&S8(2,i.viewQuery,t);const u=i.components;null!==u&&function(i,n){for(let t=0;t<n.length;t++)dz(i,n[t])}(n,u)}catch(o){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),o}finally{n[2]&=-5,p6()}}function Rc(i,n,t,o){const c=n[2];if(256==(256&c))return;h6(n);const u=f6();try{Kl(n),function(i){et.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==t&&V9(i,n,t,2,o);const m=3==(3&c);if(!u)if(m){const x=i.preOrderCheckHooks;null!==x&&pc(n,x,null)}else{const x=i.preOrderHooks;null!==x&&gc(n,x,0,null),g6(n,0)}if(function(i){for(let n=u9(i);null!==n;n=F6(n)){if(!n[2])continue;const t=n[9];for(let o=0;o<t.length;o++){const c=t[o],u=c[3];0==(1024&c[2])&&D7(u,1),c[2]|=1024}}}(n),function(i){for(let n=u9(i);null!==n;n=F6(n))for(let t=10;t<n.length;t++){const o=n[t],c=o[1];l6(o)&&Rc(c,o,c.template,o[8])}}(n),null!==i.contentQueries&&F9(i,n),!u)if(m){const x=i.contentCheckHooks;null!==x&&pc(n,x)}else{const x=i.contentHooks;null!==x&&gc(n,x,1),g6(n,1)}!function(i,n){const t=i.hostBindingOpCodes;if(null!==t)try{for(let o=0;o<t.length;o++){const c=t[o];if(c<0)js(~c);else{const u=c,m=t[++o],g=t[++o];Zk(m,u),g(2,n[u])}}}finally{js(-1)}}(i,n);const g=i.components;null!==g&&function(i,n){for(let t=0;t<n.length;t++)fz(i,n[t])}(n,g);const b=i.viewQuery;if(null!==b&&S8(2,b,o),!u)if(m){const x=i.viewCheckHooks;null!==x&&pc(n,x)}else{const x=i.viewHooks;null!==x&&gc(n,x,2),g6(n,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),u||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,D7(n[3],-1))}finally{p6()}}function iC(i,n,t,o){const c=n[10],u=!f6(),m=E7(n);try{u&&!m&&c.begin&&c.begin(),m&&Fc(i,n,o),Rc(i,n,t,o)}finally{u&&!m&&c.end&&c.end()}}function V9(i,n,t,o,c){const u=Ci(),m=2&o;try{js(-1),m&&n.length>20&&w9(i,n,20,f6()),t(o,c)}finally{js(u)}}function q6(i,n,t){if(M7(n)){const c=n.directiveEnd;for(let u=n.directiveStart;u<c;u++){const m=i.data[u];m.contentQueries&&m.contentQueries(1,t[u],u)}}}function x8(i,n,t){!Af()||(function(i,n,t,o){const c=t.directiveStart,u=t.directiveEnd;i.firstCreatePass||v6(t,n),Vi(o,n);const m=t.initialInputs;for(let g=c;g<u;g++){const b=i.data[g],x=oo(b);x&&mC(n,t,b);const D=Us(n,i,g,t);Vi(D,n),null!==m&&pC(0,g-c,D,b,0,m),x&&(ar(t.index,n)[8]=D)}}(i,n,t,t1(t,n)),128==(128&t.flags)&&function(i,n,t){const o=t.directiveStart,c=t.directiveEnd,m=t.index,g=et.lFrame.currentDirectiveIndex;try{js(m);for(let b=o;b<c;b++){const x=i.data[b],D=n[b];d6(b),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&dr(x,D)}}finally{js(-1),d6(g)}}(i,n,t))}function O9(i,n,t=t1){const o=n.localNames;if(null!==o){let c=n.index+1;for(let u=0;u<o.length;u+=2){const m=o[u+1],g=-1===m?t(n,i):i[m];i[c++]=g}}}function W6(i){const n=i.tView;return null===n||n.incompleteFirstPass?i.tView=M8(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):n}function M8(i,n,t,o,c,u,m,g,b,x){const D=20+o,k=D+c,z=function(i,n){const t=[];for(let o=0;o<n;o++)t.push(o<i?null:nt);return t}(D,k),L="function"==typeof x?x():x;return z[1]={type:i,blueprint:z,template:t,queries:null,viewQuery:g,declTNode:n,data:z.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof u?u():u,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:b,consts:L,incompleteFirstPass:!1}}function oC(i,n,t,o){const c=Y9(n);null===t?c.push(o):(c.push(t),i.firstCreatePass&&Z9(i).push(o,c.length-1))}function H9(i,n,t){for(let o in i)if(i.hasOwnProperty(o)){const c=i[o];(t=null===t?{}:t).hasOwnProperty(o)?t[o].push(n,c):t[o]=[n,c]}return t}function Vr(i,n,t,o,c,u,m,g){const b=t1(n,t);let D,x=n.inputs;!g&&null!=x&&(D=x[o])?(CC(i,t,D,o,c),Cf(n)&&function(i,n){const t=ar(n,i);16&t[2]||(t[2]|=64)}(t,n.index)):3&n.type&&(o=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(o),c=null!=m?m(c,n.value||"",o):c,An(u)?u.setProperty(b,o,c):F7(o)||(b.setProperty?b.setProperty(o,c):b[o]=c))}function sa(i,n,t,o){let c=!1;if(Af()){const u=function(i,n,t){const o=i.directiveRegistry;let c=null;if(o)for(let u=0;u<o.length;u++){const m=o[u];qb(t,m.selectors,!1)&&(c||(c=[]),n0(v6(t,n),i,m.type),oo(m)?(hC(i,t),c.unshift(m)):c.push(m))}return c}(i,n,t),m=null===o?null:{"":-1};if(null!==u){c=!0,w0(t,i.data.length,u.length);for(let D=0;D<u.length;D++){const k=u[D];k.providersResolver&&k.providersResolver(k)}let g=!1,b=!1,x=fr(i,n,u.length,null);for(let D=0;D<u.length;D++){const k=u[D];t.mergedAttrs=Nf(t.mergedAttrs,k.hostAttrs),G6(i,t,n,x,k),sz(x,k,m),null!==k.contentQueries&&(t.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(t.flags|=128);const z=k.type.prototype;!g&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t.index),g=!0),!b&&(z.ngOnChanges||z.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t.index),b=!0),x++}!function(i,n){const o=n.directiveEnd,c=i.data,u=n.attrs,m=[];let g=null,b=null;for(let x=n.directiveStart;x<o;x++){const D=c[x],k=D.inputs,z=null===u||$b(n)?null:gC(k,u);m.push(z),g=H9(k,x,g),b=H9(D.outputs,x,b)}null!==g&&(g.hasOwnProperty("class")&&(n.flags|=16),g.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=m,n.inputs=g,n.outputs=b}(i,t)}m&&function(i,n,t){if(n){const o=i.localNames=[];for(let c=0;c<n.length;c+=2){const u=t[n[c+1]];if(null==u)throw new Ra("301",`Export of name '${n[c+1]}' not found!`);o.push(n[c],u)}}}(t,o,m)}return t.mergedAttrs=Nf(t.mergedAttrs,t.attrs),c}function M0(i,n,t,o,c,u){const m=u.hostBindings;if(m){let g=i.hostBindingOpCodes;null===g&&(g=i.hostBindingOpCodes=[]);const b=~n.index;(function(i){let n=i.length;for(;n>0;){const t=i[--n];if("number"==typeof t&&t<0)return t}return 0})(g)!=b&&g.push(b),g.push(o,c,m)}}function dr(i,n){null!==i.hostBindings&&i.hostBindings(1,n)}function hC(i,n){n.flags|=2,(i.components||(i.components=[])).push(n.index)}function sz(i,n,t){if(t){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)t[n.exportAs[o]]=i;oo(n)&&(t[""]=i)}}function w0(i,n,t){i.flags|=1,i.directiveStart=n,i.directiveEnd=n+t,i.providerIndexes=n}function G6(i,n,t,o,c){i.data[o]=c;const u=c.factory||(c.factory=mc(c.type)),m=new Le(u,oo(c),null);i.blueprint[o]=m,t[o]=m,M0(i,n,0,o,fr(i,t,c.hostVars,nt),c)}function mC(i,n,t){const o=t1(n,i),c=W6(t),u=i[10],m=E0(i,C0(i,c,null,t.onPush?64:16,o,n,u,u.createRenderer(o,t),null,null));i[n.index]=m}function Pi(i,n,t,o,c,u){const m=t1(i,n);!function(i,n,t,o,c,u,m){if(null==u)An(i)?i.removeAttribute(n,c,t):n.removeAttribute(c);else{const g=null==m?Je(u):m(u,o||"",c);An(i)?i.setAttribute(n,c,g,t):t?n.setAttributeNS(t,c,g):n.setAttribute(c,g)}}(n[11],m,u,i.value,t,o,c)}function pC(i,n,t,o,c,u){const m=u[n];if(null!==m){const g=o.setInput;for(let b=0;b<m.length;){const x=m[b++],D=m[b++],k=m[b++];null!==g?o.setInput(t,k,x,D):t[D]=k}}}function gC(i,n){let t=null,o=0;for(;o<n.length;){const c=n[o];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===t&&(t=[]),t.push(c,i[c],n[o+1])),o+=2}else o+=2;else o+=4}return t}function U9(i,n,t,o){return new Array(i,!0,!1,n,null,0,o,t,null,null)}function fz(i,n){const t=ar(n,i);if(l6(t)){const o=t[1];80&t[2]?Rc(o,t,o.template,t[8]):t[5]>0&&$9(t)}}function $9(i){for(let o=u9(i);null!==o;o=F6(o))for(let c=10;c<o.length;c++){const u=o[c];if(1024&u[2]){const m=u[1];Rc(m,u,m.template,u[8])}else u[5]>0&&$9(u)}const t=i[1].components;if(null!==t)for(let o=0;o<t.length;o++){const c=ar(t[o],i);l6(c)&&c[5]>0&&$9(c)}}function dz(i,n){const t=ar(n,i),o=t[1];(function(i,n){for(let t=n.length;t<i.blueprint.length;t++)n.push(i.blueprint[t])})(o,t),Fc(o,t,t[8])}function E0(i,n){return i[13]?i[14][4]=n:i[13]=n,i[14]=n,n}function D8(i){for(;i;){i[2]|=64;const n=Tc(i);if(hy(i)&&!n)return i;i=n}return null}function W9(i,n,t){const o=n[10];o.begin&&o.begin();try{Rc(i,n,i.template,t)}catch(c){throw bC(n,c),c}finally{o.end&&o.end()}}function A8(i){!function(i){for(let n=0;n<i.components.length;n++){const t=i.components[n],o=N6(t),c=o[1];iC(c,o,c.template,t)}}(i[8])}function S8(i,n,t){T7(0),n(i,t)}const X9=(()=>Promise.resolve(null))();function Y9(i){return i[7]||(i[7]=[])}function Z9(i){return i.cleanup||(i.cleanup=[])}function bC(i,n){const t=i[9],o=t?t.get(uo,null):null;o&&o.handleError(n)}function CC(i,n,t,o,c){for(let u=0;u<t.length;){const m=t[u++],g=t[u++],b=n[m],x=i.data[m];null!==x.setInput?x.setInput(b,c,o,g):b[g]=c}}function Ka(i,n,t){const o=Ef(n,i);!function(i,n,t){An(i)?i.setValue(n,t):n.textContent=t}(i[11],o,t)}function k8(i,n,t){let o=t?i.styles:null,c=t?i.classes:null,u=0;if(null!==n)for(let m=0;m<n.length;m++){const g=n[m];"number"==typeof g?u=g:1==u?c=Zo(c,g):2==u&&(o=Zo(o,g+": "+n[++m]+";"))}t?i.styles=o:i.stylesWithoutHost=o,t?i.classes=c:i.classesWithoutHost=c}const X6=new be("INJECTOR",-1);class Y6{get(n,t=x6){if(t===x6){const o=new Error(`NullInjectorError: No provider for ${ct(n)}!`);throw o.name="NullInjectorError",o}return t}}const I1=new be("Set Injector scope."),Vc={},xC={};let T8;function z8(){return void 0===T8&&(T8=new Y6),T8}function N8(i,n=null,t=null,o){return new I8(i,t,n||z8(),o)}class I8{constructor(n,t,o,c=null){this.parent=o,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const u=[];t&&te(t,g=>this.processProvider(g,n,t)),te([n],g=>this.processInjectorType(g,[],u)),this.records.set(X6,D0(void 0,this));const m=this.records.get(I1);this.scope=null!=m?m.value:null,this.source=c||("object"==typeof n?null:ct(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,t=x6,o=qe.Default){this.assertNotDestroyed();const c=Ys(this),u=Nr(void 0);try{if(!(o&qe.SkipSelf)){let g=this.records.get(n);if(void 0===g){const b=("function"==typeof(i=n)||"object"==typeof i&&i instanceof be)&&Fn(n);g=b&&this.injectableDefInScope(b)?D0(L8(n),Vc):null,this.records.set(n,g)}if(null!=g)return this.hydrate(n,g)}return(o&qe.Self?z8():this.parent).get(n,t=o&qe.Optional&&t===x6?null:t)}catch(m){if("NullInjectorError"===m.name){if((m[M6]=m[M6]||[]).unshift(ct(n)),c)throw m;return ib(m,n,"R3InjectorError",this.source)}throw m}finally{Nr(u),Ys(c)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((o,c)=>n.push(ct(c))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,t,o){if(!(n=Fe(n)))return!1;let c=Qr(n);const u=null==c&&n.ngModule||void 0,m=void 0===u?n:u,g=-1!==o.indexOf(m);if(void 0!==u&&(c=Qr(u)),null==c)return!1;if(null!=c.imports&&!g){let D;o.push(m);try{te(c.imports,k=>{this.processInjectorType(k,t,o)&&(void 0===D&&(D=[]),D.push(k))})}finally{}if(void 0!==D)for(let k=0;k<D.length;k++){const{ngModule:z,providers:L}=D[k];te(L,R=>this.processProvider(R,z,L||It))}}this.injectorDefTypes.add(m);const b=mc(m)||(()=>new m);this.records.set(m,D0(b,Vc));const x=c.providers;if(null!=x&&!g){const D=n;te(x,k=>this.processProvider(k,D,x))}return void 0!==u&&void 0!==n.providers}processProvider(n,t,o){let c=A0(n=Fe(n))?n:Fe(n&&n.provide);const u=function(i,n,t){return Q9(i)?D0(void 0,i.useValue):D0(F8(i),Vc)}(n);if(A0(n)||!0!==n.multi)this.records.get(c);else{let m=this.records.get(c);m||(m=D0(void 0,Vc,!0),m.factory=()=>Zs(m.multi),this.records.set(c,m)),c=n,m.multi.push(n)}this.records.set(c,u)}hydrate(n,t){return t.value===Vc&&(t.value=xC,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(i=t.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(t.value),t.value;var i}injectableDefInScope(n){if(!n.providedIn)return!1;const t=Fe(n.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function L8(i){const n=Fn(i),t=null!==n?n.factory:mc(i);if(null!==t)return t;if(i instanceof be)throw new Error(`Token ${ct(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const n=i.length;if(n>0){const o=Gs(n,"?");throw new Error(`Can't resolve all parameters for ${ct(i)}: (${o.join(", ")}).`)}const t=function(i){const n=i&&(i[zr]||i[g7]);if(n){const t=function(i){if(i.hasOwnProperty("name"))return i.name;const n=(""+i).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),n}return null}(i);return null!==t?()=>t.factory(i):()=>new i}(i);throw new Error("unreachable")}function F8(i,n,t){let o;if(A0(i)){const c=Fe(i);return mc(c)||L8(c)}if(Q9(i))o=()=>Fe(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))o=()=>i.useFactory(...Zs(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))o=()=>ce(Fe(i.useExisting));else{const c=Fe(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return mc(c)||L8(c);o=()=>new c(...Zs(i.deps))}return o}function D0(i,n,t=!1){return{factory:i,value:n,multi:t?[]:void 0}}function Q9(i){return null!==i&&"object"==typeof i&&Hf in i}function A0(i){return"function"==typeof i}const kC=function(i,n,t){return function(i,n=null,t=null,o){const c=N8(i,n,t,o);return c._resolveInjectorDefTypes(),c}({name:t},n,i,t)};let Kt=(()=>{class i{static create(t,o){return Array.isArray(t)?kC(t,o,""):kC(t.providers,t.parent,t.name||"")}}return i.THROW_IF_NOT_FOUND=x6,i.NULL=new Y6,i.\u0275prov=Ce({token:i,providedIn:"any",factory:()=>ce(X6)}),i.__NG_ELEMENT_ID__=-1,i})();function j8(i,n){Ql(N6(i)[1],kn())}function Ze(i){let n=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),t=!0;const o=[i];for(;n;){let c;if(oo(i))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");c=n.\u0275dir}if(c){if(t){o.push(c);const m=i;m.inputs=dm(i.inputs),m.declaredInputs=dm(i.declaredInputs),m.outputs=dm(i.outputs);const g=c.hostBindings;g&&HC(i,g);const b=c.viewQuery,x=c.contentQueries;if(b&&hm(i,b),x&&Pc(i,x),ey(i.inputs,c.inputs),ey(i.declaredInputs,c.declaredInputs),ey(i.outputs,c.outputs),oo(c)&&c.data.animation){const D=i.data;D.animation=(D.animation||[]).concat(c.data.animation)}}const u=c.features;if(u)for(let m=0;m<u.length;m++){const g=u[m];g&&g.ngInherit&&g(i),g===Ze&&(t=!1)}}n=Object.getPrototypeOf(n)}!function(i){let n=0,t=null;for(let o=i.length-1;o>=0;o--){const c=i[o];c.hostVars=n+=c.hostVars,c.hostAttrs=Nf(c.hostAttrs,t=Nf(t,c.hostAttrs))}}(o)}function dm(i){return i===Wl?{}:i===It?[]:i}function hm(i,n){const t=i.viewQuery;i.viewQuery=t?(o,c)=>{n(o,c),t(o,c)}:n}function Pc(i,n){const t=i.contentQueries;i.contentQueries=t?(o,c,u)=>{n(o,c,u),t(o,c,u)}:n}function HC(i,n){const t=i.hostBindings;i.hostBindings=t?(o,c)=>{n(o,c),t(o,c)}:n}let S0=null;function k0(){if(!S0){const i=Ft.Symbol;if(i&&i.iterator)S0=i.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<n.length;++t){const o=n[t];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(S0=o)}}}return S0}function o1(i){return!!T0(i)&&(Array.isArray(i)||!(i instanceof Map)&&k0()in i)}function T0(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function fn(i,n,t){return!Object.is(i[n],t)&&(i[n]=t,!0)}function dt(i,n,t,o){const c=le();return fn(c,Bs(),n)&&(At(),Pi(Tn(),c,i,n,t,o)),dt}function l2(i,n,t,o){return fn(i,Bs(),t)?n+Je(t)+o:nt}function it(i,n,t,o,c,u,m,g){const b=le(),x=At(),D=i+20,k=x.firstCreatePass?function(i,n,t,o,c,u,m,g,b){const x=n.consts,D=Lc(n,i,4,m||null,Hs(x,g));sa(n,t,D,Hs(x,b)),Ql(n,D);const k=D.tViews=M8(2,D,o,c,u,n.directiveRegistry,n.pipeRegistry,null,n.schemas,x);return null!==n.queries&&(n.queries.template(n,D),k.queries=n.queries.embeddedTView(D)),D}(D,x,b,n,t,o,c,u,m):x.data[D];so(k,!1);const z=b[11].createComment("");l8(x,b,z,k),Vi(z,b),E0(b,b[D]=U9(z,b,z,k)),c6(k)&&x8(x,b,k),null!=m&&O9(b,k,g)}function d2(i){return ao(et.lFrame.contextLView,20+i)}function q(i,n=qe.Default){const t=le();return null===t?ce(i,n):Uy(kn(),t,Fe(i),n)}function Q8(){throw new Error("invalid")}function me(i,n,t){const o=le();return fn(o,Bs(),n)&&Vr(At(),Tn(),o,i,n,o[11],t,!1),me}function I0(i,n,t,o,c){const m=c?"class":"style";CC(i,t,n.inputs[m],m,o)}function $(i,n,t,o){const c=le(),u=At(),m=20+i,g=c[11],b=c[m]=N1(g,n,et.lFrame.currentNamespace),x=u.firstCreatePass?function(i,n,t,o,c,u,m){const g=n.consts,x=Lc(n,i,2,c,Hs(g,u));return sa(n,t,x,Hs(g,m)),null!==x.attrs&&k8(x,x.attrs,!1),null!==x.mergedAttrs&&k8(x,x.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,x),x}(m,u,c,0,n,t,o):u.data[m];so(x,!0);const D=x.mergedAttrs;null!==D&&yc(g,b,D);const k=x.classes;null!==k&&x9(g,b,k);const z=x.styles;null!==z&&n2(g,b,z),64!=(64&x.flags)&&l8(u,c,b,x),0===et.lFrame.elementDepthCount&&Vi(b,c),et.lFrame.elementDepthCount++,c6(x)&&(x8(u,c,x),q6(u,x,c)),null!==o&&O9(c,x)}function U(){let i=kn();ky()?S7():(i=i.parent,so(i,!1));const n=i;et.lFrame.elementDepthCount--;const t=At();t.firstCreatePass&&(Ql(t,i),M7(i)&&t.queries.elementEnd(i)),null!=n.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(n)&&I0(t,n,le(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(n)&&I0(t,n,le(),n.stylesWithoutHost,!1)}function De(i,n,t,o){$(i,n,t,o),U()}function J8(i,n,t){const o=le(),c=At(),u=i+20,m=c.firstCreatePass?function(i,n,t,o,c){const u=n.consts,m=Hs(u,o),g=Lc(n,i,8,"ng-container",m);return null!==m&&k8(g,m,!0),sa(n,t,g,Hs(u,c)),null!==n.queries&&n.queries.elementStart(n,g),g}(u,c,o,n,t):c.data[u];so(m,!0);const g=o[u]=o[11].createComment("");l8(c,o,g,m),Vi(g,o),c6(m)&&(x8(c,o,m),q6(c,m,o)),null!=t&&O9(o,m)}function m2(){let i=kn();const n=At();ky()?S7():(i=i.parent,so(i,!1)),n.firstCreatePass&&(Ql(n,i),M7(i)&&n.queries.elementEnd(i))}function Kn(){return le()}function ed(i){return!!i&&"function"==typeof i.then}function p2(i){return!!i&&"function"==typeof i.subscribe}const R1=p2;function Me(i,n,t,o){const c=le(),u=At(),m=kn();return function(i,n,t,o,c,u,m,g){const b=c6(o),D=i.firstCreatePass&&Z9(i),k=n[8],z=Y9(n);let L=!0;if(3&o.type||g){const B=t1(o,n),Q=g?g(B):B,K=z.length,he=g?_e=>g(Un(_e[o.index])):o.index;if(An(t)){let _e=null;if(!g&&b&&(_e=function(i,n,t,o){const c=i.cleanup;if(null!=c)for(let u=0;u<c.length-1;u+=2){const m=c[u];if(m===t&&c[u+1]===o){const g=n[7],b=c[u+2];return g.length>b?g[b]:null}"string"==typeof m&&(u+=2)}return null}(i,n,c,o.index)),null!==_e)(_e.__ngLastListenerFn__||_e).__ngNextListenerFn__=u,_e.__ngLastListenerFn__=u,L=!1;else{u=wm(o,n,k,u,!1);const Ge=t.listen(Q,c,u);z.push(u,Ge),D&&D.push(c,he,K,K+1)}}else u=wm(o,n,k,u,!0),Q.addEventListener(c,u,m),z.push(u),D&&D.push(c,he,K,m)}else u=wm(o,n,k,u,!1);const R=o.outputs;let j;if(L&&null!==R&&(j=R[c])){const B=j.length;if(B)for(let Q=0;Q<B;Q+=2){const wt=n[j[Q]][j[Q+1]].subscribe(u),Wt=z.length;z.push(u,wt),D&&D.push(c,o.index,Wt,-(Wt+1))}}}(u,c,c[11],m,i,n,!!t,o),Me}function ux(i,n,t,o){try{return!1!==t(o)}catch(c){return bC(i,c),!1}}function wm(i,n,t,o,c){return function u(m){if(m===Function)return o;const g=2&i.flags?ar(i.index,n):n;0==(32&n[2])&&D8(g);let b=ux(n,0,o,m),x=u.__ngNextListenerFn__;for(;x;)b=ux(n,0,x,m)&&b,x=x.__ngNextListenerFn__;return c&&!1===b&&(m.preventDefault(),m.returnValue=!1),b}}function Ie(i=1){return function(i){return(et.lFrame.contextLView=function(i,n){for(;i>0;)n=n[15],i--;return n}(i,et.lFrame.contextLView))[8]}(i)}function Pz(i,n){let t=null;const o=function(i){const n=i.attrs;if(null!=n){const t=n.indexOf(5);if(0==(1&t))return n[t+1]}return null}(i);for(let c=0;c<n.length;c++){const u=n[c];if("*"!==u){if(null===o?qb(i,u,!0):Wb(o,u))return c}else t=c}return t}function Bi(i){const n=le()[16][6];if(!n.projection){const o=n.projection=Gs(i?i.length:1,null),c=o.slice();let u=n.child;for(;null!==u;){const m=i?Pz(u,i):0;null!==m&&(c[m]?c[m].projectionNext=u:o[m]=u,c[m]=u),u=u.next}}}function rn(i,n=0,t){const o=le(),c=At(),u=Lc(c,20+i,16,null,t||null);null===u.projection&&(u.projection=n),S7(),64!=(64&u.flags)&&function(i,n,t){Ub(n[11],0,n,t,p9(i,t,n),v9(t.parent||n[6],t,n))}(c,o,u)}function V1(i,n,t){return g2(i,"",n,"",t),V1}function g2(i,n,t,o,c){const u=le(),m=l2(u,n,t,o);return m!==nt&&Vr(At(),Tn(),u,i,m,u[11],c,!1),g2}function vx(i,n,t,o,c){const u=i[t+1],m=null===n;let g=o?ho(u):Ga(u),b=!1;for(;0!==g&&(!1===b||m);){const D=i[g+1];tu(i[g],n)&&(b=!0,i[g+1]=o?S9(D):D9(D)),g=o?ho(D):Ga(D)}b&&(i[t+1]=o?D9(u):S9(u))}function tu(i,n){return null===i||null==n||(Array.isArray(i)?i[1]:i)===n||!(!Array.isArray(i)||"string"!=typeof n)&&a0(i,n)>=0}const yn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function L0(i){return i.substring(yn.key,yn.keyEnd)}function _x(i,n){const t=yn.textEnd;return t===n?-1:(n=yn.keyEnd=function(i,n,t){for(;n<t&&i.charCodeAt(n)>32;)n++;return n}(i,yn.key=n,t),F0(i,n,t))}function F0(i,n,t){for(;n<t&&i.charCodeAt(n)<=32;)n++;return n}function Or(i,n,t){return _o(i,n,t,!1),Or}function on(i,n){return _o(i,n,null,!0),on}function da(i,n){for(let t=function(i){return function(i){yn.key=0,yn.keyEnd=0,yn.value=0,yn.valueEnd=0,yn.textEnd=i.length}(i),_x(i,F0(i,0,yn.textEnd))}(n);t>=0;t=_x(n,t))cr(i,L0(n),!0)}function _o(i,n,t,o){const c=le(),u=At(),m=Pa(2);u.firstUpdatePass&&wx(u,i,m,o),n!==nt&&fn(c,m,n)&&Dx(u,u.data[Ci()],c,c[11],i,c[m+1]=function(i,n){return null==i||("string"==typeof n?i+=n:"object"==typeof i&&(i=ct(Fr(i)))),i}(n,t),o,m)}function Mx(i,n){return n>=i.expandoStartIndex}function wx(i,n,t,o){const c=i.data;if(null===c[t+1]){const u=c[Ci()],m=Mx(i,t);Qn(u,o)&&null===n&&!m&&(n=!1),n=function(i,n,t,o){const c=function(i){const n=et.lFrame.currentDirectiveIndex;return-1===n?null:i[n]}(i);let u=o?n.residualClasses:n.residualStyles;if(null===c)0===(o?n.classBindings:n.styleBindings)&&(t=nu(t=Dm(null,i,n,t,o),n.attrs,o),u=null);else{const m=n.directiveStylingLast;if(-1===m||i[m]!==c)if(t=Dm(c,i,n,t,o),null===u){let b=function(i,n,t){const o=t?n.classBindings:n.styleBindings;if(0!==Ga(o))return i[ho(o)]}(i,n,o);void 0!==b&&Array.isArray(b)&&(b=Dm(null,i,n,b[1],o),b=nu(b,n.attrs,o),function(i,n,t,o){i[ho(t?n.classBindings:n.styleBindings)]=o}(i,n,o,b))}else u=function(i,n,t){let o;const c=n.directiveEnd;for(let u=1+n.directiveStylingLast;u<c;u++)o=nu(o,i[u].hostAttrs,t);return nu(o,n.attrs,t)}(i,n,o)}return void 0!==u&&(o?n.residualClasses=u:n.residualStyles=u),t}(c,u,n,o),function(i,n,t,o,c,u){let m=u?n.classBindings:n.styleBindings,g=ho(m),b=Ga(m);i[o]=t;let D,x=!1;if(Array.isArray(t)){const k=t;D=k[1],(null===D||a0(k,D)>0)&&(x=!0)}else D=t;if(c)if(0!==b){const z=ho(i[g+1]);i[o+1]=m8(z,g),0!==z&&(i[z+1]=A9(i[z+1],o)),i[g+1]=function(i,n){return 131071&i|n<<17}(i[g+1],o)}else i[o+1]=m8(g,0),0!==g&&(i[g+1]=A9(i[g+1],o)),g=o;else i[o+1]=m8(b,0),0===g?g=o:i[b+1]=A9(i[b+1],o),b=o;x&&(i[o+1]=D9(i[o+1])),vx(i,D,o,!0),vx(i,D,o,!1),function(i,n,t,o,c){const u=c?i.residualClasses:i.residualStyles;null!=u&&"string"==typeof n&&a0(u,n)>=0&&(t[o+1]=S9(t[o+1]))}(n,D,i,o,u),m=m8(g,b),u?n.classBindings=m:n.styleBindings=m}(c,u,n,t,m,o)}}function Dm(i,n,t,o,c){let u=null;const m=t.directiveEnd;let g=t.directiveStylingLast;for(-1===g?g=t.directiveStart:g++;g<m&&(u=n[g],o=nu(o,u.hostAttrs,c),u!==i);)g++;return null!==i&&(t.directiveStylingLast=g),o}function nu(i,n,t){const o=t?1:2;let c=-1;if(null!==n)for(let u=0;u<n.length;u++){const m=n[u];"number"==typeof m?c=m:c===o&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),cr(i,m,!!t||n[++u]))}return void 0===i?null:i}function Dx(i,n,t,o,c,u,m,g){if(!(3&n.type))return;const b=i.data,x=b[g+1];od(function(i){return 1==(1&i)}(x)?Am(b,n,t,c,Ga(x),m):void 0)||(od(u)||function(i){return 2==(2&i)}(x)&&(u=Am(b,null,t,c,g,m)),function(i,n,t,o,c){const u=An(i);if(n)c?u?i.addClass(t,o):t.classList.add(o):u?i.removeClass(t,o):t.classList.remove(o);else{let m=-1===o.indexOf("-")?void 0:Rr.DashCase;if(null==c)u?i.removeStyle(t,o,m):t.style.removeProperty(o);else{const g="string"==typeof c&&c.endsWith("!important");g&&(c=c.slice(0,-10),m|=Rr.Important),u?i.setStyle(t,o,c,m):t.style.setProperty(o,c,g?"important":"")}}}(o,m,Ef(Ci(),t),c,u))}function Am(i,n,t,o,c,u){const m=null===n;let g;for(;c>0;){const b=i[c],x=Array.isArray(b),D=x?b[1]:b,k=null===D;let z=t[c+1];z===nt&&(z=k?It:void 0);let L=k?Of(z,o):D===o?z:void 0;if(x&&!od(L)&&(L=Of(b,o)),od(L)&&(g=L,m))return g;const R=i[c+1];c=m?ho(R):Ga(R)}if(null!==n){let b=u?n.residualClasses:n.residualStyles;null!=b&&(g=Of(b,o))}return g}function od(i){return void 0!==i}function Qn(i,n){return 0!=(i.flags&(n?16:32))}function Ee(i,n=""){const t=le(),o=At(),c=i+20,u=o.firstCreatePass?Lc(o,c,1,n,null):o.data[c],m=t[c]=function(i,n){return An(i)?i.createText(n):i.createTextNode(n)}(t[11],n);l8(o,t,m,u),so(u,!1)}function O1(i){return Di("",i,""),O1}function Di(i,n,t){const o=le(),c=l2(o,i,n,t);return c!==nt&&Ka(o,Ci(),c),Di}function _2(i,n,t){!function(i,n,t,o){const c=At(),u=Pa(2);c.firstUpdatePass&&wx(c,null,u,o);const m=le();if(t!==nt&&fn(m,u,t)){const g=c.data[Ci()];if(Qn(g,o)&&!Mx(c,u)){let b=o?g.classesWithoutHost:g.stylesWithoutHost;null!==b&&(t=Zo(b,t||"")),I0(c,g,m,t,o)}else!function(i,n,t,o,c,u,m,g){c===nt&&(c=It);let b=0,x=0,D=0<c.length?c[0]:null,k=0<u.length?u[0]:null;for(;null!==D||null!==k;){const z=b<c.length?c[b+1]:void 0,L=x<u.length?u[x+1]:void 0;let j,R=null;D===k?(b+=2,x+=2,z!==L&&(R=k,j=L)):null===k||null!==D&&D<k?(b+=2,R=D):(x+=2,R=k,j=L),null!==R&&Dx(i,n,t,o,R,j,m,g),D=b<c.length?c[b]:null,k=x<u.length?u[x]:null}}(c,g,m,m[11],m[u+1],m[u+1]=function(i,n,t){if(null==t||""===t)return It;const o=[],c=Fr(t);if(Array.isArray(c))for(let u=0;u<c.length;u++)i(o,c[u],!0);else if("object"==typeof c)for(const u in c)c.hasOwnProperty(u)&&i(o,u,c[u]);else"string"==typeof c&&n(o,c);return o}(i,n,t),o,u)}}(cr,da,l2(le(),i,n,t),!0)}function b2(i,n,t){const o=le();return fn(o,Bs(),n)&&Vr(At(),Tn(),o,i,n,o[11],t,!0),b2}const C2=void 0;var Jz=["en",[["a","p"],["AM","PM"],C2],[["AM","PM"],C2,C2],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],C2,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],C2,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",C2,"{1} 'at' {0}",C2],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const t=Math.floor(Math.abs(i)),o=i.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===o?1:5}];let bo={};function dd(i){return i in bo||(bo[i]=Ft.ng&&Ft.ng.common&&Ft.ng.common.locales&&Ft.ng.common.locales[i]),bo[i]}var we=(()=>((we=we||{})[we.LocaleId=0]="LocaleId",we[we.DayPeriodsFormat=1]="DayPeriodsFormat",we[we.DayPeriodsStandalone=2]="DayPeriodsStandalone",we[we.DaysFormat=3]="DaysFormat",we[we.DaysStandalone=4]="DaysStandalone",we[we.MonthsFormat=5]="MonthsFormat",we[we.MonthsStandalone=6]="MonthsStandalone",we[we.Eras=7]="Eras",we[we.FirstDayOfWeek=8]="FirstDayOfWeek",we[we.WeekendRange=9]="WeekendRange",we[we.DateFormat=10]="DateFormat",we[we.TimeFormat=11]="TimeFormat",we[we.DateTimeFormat=12]="DateTimeFormat",we[we.NumberSymbols=13]="NumberSymbols",we[we.NumberFormats=14]="NumberFormats",we[we.CurrencyCode=15]="CurrencyCode",we[we.CurrencySymbol=16]="CurrencySymbol",we[we.CurrencyName=17]="CurrencyName",we[we.Currencies=18]="Currencies",we[we.Directionality=19]="Directionality",we[we.PluralCase=20]="PluralCase",we[we.ExtraData=21]="ExtraData",we))();const ha="en-US";let pd=ha;function Zm(i,n,t,o,c){if(i=Fe(i),Array.isArray(i))for(let u=0;u<i.length;u++)Zm(i[u],n,t,o,c);else{const u=At(),m=le();let g=A0(i)?i:Fe(i.provide),b=F8(i);const x=kn(),D=1048575&x.providerIndexes,k=x.directiveStart,z=x.providerIndexes>>20;if(A0(i)||!i.multi){const L=new Le(b,c,q),R=Md(g,n,c?D:D+z,k);-1===R?(n0(v6(x,m),u,g),Km(u,i,n.length),n.push(g),x.directiveStart++,x.directiveEnd++,c&&(x.providerIndexes+=1048576),t.push(L),m.push(L)):(t[R]=L,m[R]=L)}else{const L=Md(g,n,D+z,k),R=Md(g,n,D,D+z),j=L>=0&&t[L],B=R>=0&&t[R];if(c&&!B||!c&&!j){n0(v6(x,m),u,g);const Q=function(i,n,t,o,c){const u=new Le(i,t,q);return u.multi=[],u.index=n,u.componentProviders=0,tM(u,c,o&&!t),u}(c?iM:nM,t.length,c,o,b);!c&&B&&(t[R].providerFactory=Q),Km(u,i,n.length,0),n.push(g),x.directiveStart++,x.directiveEnd++,c&&(x.providerIndexes+=1048576),t.push(Q),m.push(Q)}else Km(u,i,L>-1?L:R,tM(t[c?R:L],b,!c&&o));!c&&o&&B&&t[R].componentProviders++}}}function Km(i,n,t,o){const c=A0(n);if(c||function(i){return!!i.useClass}(n)){const m=(n.useClass||n).prototype.ngOnDestroy;if(m){const g=i.destroyHooks||(i.destroyHooks=[]);if(!c&&n.multi){const b=g.indexOf(t);-1===b?g.push(t,[o,m]):g[b+1].push(o,m)}else g.push(t,m)}}}function tM(i,n,t){return t&&i.componentProviders++,i.multi.push(n)-1}function Md(i,n,t,o){for(let c=t;c<o;c++)if(n[c]===i)return c;return-1}function nM(i,n,t,o){return as(this.multi,[])}function iM(i,n,t,o){const c=this.multi;let u;if(this.providerFactory){const m=this.providerFactory.componentProviders,g=Us(t,t[1],this.providerFactory.index,o);u=g.slice(0,m),as(c,u);for(let b=m;b<g.length;b++)u.push(g[b])}else u=[],as(c,u);return u}function as(i,n){for(let t=0;t<i.length;t++)n.push((0,i[t])());return n}function Ye(i,n=[]){return t=>{t.providersResolver=(o,c)=>function(i,n,t){const o=At();if(o.firstCreatePass){const c=oo(i);Zm(t,o.data,o.blueprint,c,!0),Zm(n,o.data,o.blueprint,c,!1)}}(o,c?c(i):i,n)}}class Qm{}const oM="ngComponent";class EN{resolveComponentFactory(n){throw function(i){const n=Error(`No component factory found for ${ct(i)}. Did you add it to @NgModule.entryComponents?`);return n[oM]=i,n}(n)}}let Ui=(()=>{class i{}return i.NULL=new EN,i})();function Ed(...i){}function ss(i,n){return new mt(t1(i,n))}const DN=function(){return ss(kn(),le())};let mt=(()=>{class i{constructor(t){this.nativeElement=t}}return i.__NG_ELEMENT_ID__=DN,i})();function U0(i){return i instanceof mt?i.nativeElement:i}class pa{}let w2=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>Dd(),i})();const Dd=function(){const i=le(),t=ar(kn().index,i);return function(i){return i[11]}(io(t)?t:i)};let ep=(()=>{class i{}return i.\u0275prov=Ce({token:i,providedIn:"root",factory:()=>null}),i})();class cs{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const $0=new cs("13.0.2"),E2={};function Wc(i,n,t,o,c=!1){for(;null!==t;){const u=n[t.index];if(null!==u&&o.push(Un(u)),ro(u))for(let g=10;g<u.length;g++){const b=u[g],x=b[1].firstChild;null!==x&&Wc(b[1],b,x,o)}const m=t.type;if(8&m)Wc(i,n,t.child,o);else if(32&m){const g=i8(t,n);let b;for(;b=g();)o.push(b)}else if(16&m){const g=y9(n,t);if(Array.isArray(g))o.push(...g);else{const b=Tc(n[16]);Wc(b[1],b,g,o,!0)}}t=c?t.projectionNext:t.next}return o}class gu{constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,t=n[1];return Wc(t,n,t.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(ro(n)){const t=n[8],o=t?t.indexOf(this):-1;o>-1&&(V6(n,o),Mc(t,o))}this._attachedToViewContainer=!1}h9(this._lView[1],this._lView)}onDestroy(n){oC(this._lView[1],this._lView,null,n)}markForCheck(){D8(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){W9(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,n,t){kf(!0);try{W9(i,n,t)}finally{kf(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,H6(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class lM extends gu{constructor(n){super(n),this._view=n}detectChanges(){A8(this._view)}checkNoChanges(){!function(i){kf(!0);try{A8(i)}finally{kf(!1)}}(this._view)}get context(){return null}}class uM extends Ui{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=jn(n);return new np(t,this.ngModule)}}function tp(i){const n=[];for(let t in i)i.hasOwnProperty(t)&&n.push({propName:i[t],templateName:t});return n}const TN=new be("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>t8});class np extends Qm{constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=n.selectors.map(Gb).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return tp(this.componentDef.inputs)}get outputs(){return tp(this.componentDef.outputs)}create(n,t,o,c){const u=(c=c||this.ngModule)?function(i,n){return{get:(t,o,c)=>{const u=i.get(t,E2,c);return u!==E2||o===E2?u:n.get(t,o,c)}}}(n,c.injector):n,m=u.get(pa,xy),g=u.get(ep,null),b=m.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",D=o?function(i,n,t){if(An(i))return i.selectRootElement(n,t===Ir.ShadowDom);let o="string"==typeof n?i.querySelector(n):n;return o.textContent="",o}(b,o,this.componentDef.encapsulation):N1(m.createRenderer(null,this.componentDef),x,function(i){const n=i.toLowerCase();return"svg"===n?by:"math"===n?"http://www.w3.org/1998/MathML/":null}(x)),k=this.componentDef.onPush?576:528,z=function(i,n){return{components:[],scheduler:i||t8,clean:X9,playerHandler:n||null,flags:0}}(),L=M8(0,null,null,1,0,null,null,null,null,null),R=C0(null,L,z,k,null,null,m,b,g,u);let j,B;h6(R);try{const Q=function(i,n,t,o,c,u){const m=t[1];t[20]=i;const b=Lc(m,20,2,"#host",null),x=b.mergedAttrs=n.hostAttrs;null!==x&&(k8(b,x,!0),null!==i&&(yc(c,i,x),null!==b.classes&&x9(c,i,b.classes),null!==b.styles&&n2(c,i,b.styles)));const D=o.createRenderer(i,n),k=C0(t,W6(n),null,n.onPush?64:16,t[20],b,o,D,u||null,null);return m.firstCreatePass&&(n0(v6(b,t),m,n.type),hC(m,b),w0(b,t.length,1)),E0(t,k),t[20]=k}(D,this.componentDef,R,m,b);if(D)if(o)yc(b,D,["ng-version",$0.full]);else{const{attrs:K,classes:he}=function(i){const n=[],t=[];let o=1,c=2;for(;o<i.length;){let u=i[o];if("string"==typeof u)2===c?""!==u&&n.push(u,i[++o]):8===c&&t.push(u);else{if(!fo(c))break;c=u}o++}return{attrs:n,classes:t}}(this.componentDef.selectors[0]);K&&yc(b,D,K),he&&he.length>0&&x9(b,D,he.join(" "))}if(B=Df(L,20),void 0!==t){const K=B.projection=[];for(let he=0;he<this.ngContentSelectors.length;he++){const _e=t[he];K.push(null!=_e?Array.from(_e):null)}}j=function(i,n,t,o,c){const u=t[1],m=function(i,n,t){const o=kn();i.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),G6(i,o,n,fr(i,n,1,null),t));const c=Us(n,i,o.directiveStart,o);Vi(c,n);const u=t1(o,n);return u&&Vi(u,n),c}(u,t,n);if(o.components.push(m),i[8]=m,c&&c.forEach(b=>b(m,n)),n.contentQueries){const b=kn();n.contentQueries(1,m,b.directiveStart)}const g=kn();return!u.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(js(g.index),M0(t[1],g,0,g.directiveStart,g.directiveEnd,n),dr(n,m)),m}(Q,this.componentDef,R,z,[j8]),Fc(L,R,null)}finally{p6()}return new IN(this.componentType,j,ss(B,R),R,B)}}class IN extends class{}{constructor(n,t,o,c,u){super(),this.location=o,this._rootLView=c,this._tNode=u,this.instance=t,this.hostView=this.changeDetectorRef=new lM(c),this.componentType=n}get injector(){return new r0(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class D2{}const Gc=new Map;class ap extends D2{constructor(n,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new uM(this);const o=T1(n);this._bootstrapComponents=n1(o.bootstrap),this._r3Injector=N8(n,t,[{provide:D2,useValue:this},{provide:Ui,useValue:this.componentFactoryResolver}],ct(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,t=Kt.THROW_IF_NOT_FOUND,o=qe.Default){return n===Kt||n===D2||n===X6?this:this._r3Injector.get(n,t,o)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Td extends class{}{constructor(n){super(),this.moduleType=n,null!==T1(n)&&function(i){const n=new Set;!function t(o){const c=T1(o,!0),u=c.id;null!==u&&(function(i,n,t){if(n&&n!==t)throw new Error(`Duplicate module registered for ${i} - ${ct(n)} vs ${ct(n.name)}`)}(u,Gc.get(u),o),Gc.set(u,o));const m=n1(c.imports);for(const g of m)n.has(g)||(n.add(g),t(g))}(i)}(n)}create(n){return new ap(this.moduleType,n)}}function sp(i,n,t,o,c,u){const m=n+t;return fn(i,m,c)?function(i,n,t){return i[n]=t}(i,m+1,u?o.call(u,c):o(c)):function(i,n){const t=i[n];return t===nt?void 0:t}(i,m+1)}function Nd(i){return n=>{setTimeout(i,void 0,n)}}const rt=class extends st{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,o){var b,x,D;let c=n,u=t||(()=>null),m=o;if(n&&"object"==typeof n){const k=n;c=null==(b=k.next)?void 0:b.bind(k),u=null==(x=k.error)?void 0:x.bind(k),m=null==(D=k.complete)?void 0:D.bind(k)}this.__isAsync&&(u=Nd(u),c&&(c=Nd(c)),m&&(m=Nd(m)));const g=super.subscribe({next:c,error:u,complete:m});return n instanceof Nt&&n.add(g),g}};function ls(){return this._results[k0()]()}class On{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=k0(),o=On.prototype;o[t]||(o[t]=ls)}get changes(){return this._changes||(this._changes=new rt)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const o=this;o.dirty=!1;const c=Ri(n);(this._changesDetected=!function(i,n,t){if(i.length!==n.length)return!1;for(let o=0;o<i.length;o++){let c=i[o],u=n[o];if(t&&(c=t(c),u=t(u)),u!==c)return!1}return!0}(o._results,c,t))&&(o._results=c,o.length=c.length,o.last=c[this.length-1],o.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;const fp=function(){return Cu(kn(),le())};let si=(()=>{class i{}return i.__NG_ELEMENT_ID__=fp,i})();const mr=si,WN=class extends mr{constructor(n,t,o){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=o}createEmbeddedView(n){const t=this._declarationTContainer.tViews,o=C0(this._declarationLView,t,n,16,null,t.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];const u=this._declarationLView[19];return null!==u&&(o[19]=u.createEmbeddedView(t)),Fc(t,o,n),new gu(o)}};function Cu(i,n){return 4&i.type?new WN(n,i,ss(i,n)):null}const xM=function(){return hp(kn(),le())};let pr=(()=>{class i{}return i.__NG_ELEMENT_ID__=xM,i})();const Xc=pr,Yc=class extends Xc{constructor(n,t,o){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=o}get element(){return ss(this._hostTNode,this._hostLView)}get injector(){return new r0(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ff(this._hostTNode,this._hostLView);if(Hy(n)){const t=bc(n,this._hostLView),o=t0(n);return new r0(t[1].data[o+8],t)}return new r0(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=Ld(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,t,o){const c=n.createEmbeddedView(t||{});return this.insert(c,o),c}createComponent(n,t,o,c,u){const m=n&&!function(i){return"function"==typeof i}(n);let g;if(m)g=t;else{const k=t||{};g=k.index,o=k.injector,c=k.projectableNodes,u=k.ngModuleRef}const b=m?n:new np(jn(n)),x=o||this.parentInjector;if(!u&&null==b.ngModule&&x){const k=x.get(D2,null);k&&(u=k)}const D=b.create(x,c,void 0,u);return this.insert(D.hostView,g),D}insert(n,t){const o=n._lView,c=o[1];if(ro(o[3])){const D=this.indexOf(n);if(-1!==D)this.detach(D);else{const k=o[3],z=new Yc(k,k[6],k[3]);z.detach(z.indexOf(n))}}const u=this._adjustIndex(t),m=this._lContainer;!function(i,n,t,o){const c=10+o,u=t.length;o>0&&(t[c-1][4]=n),o<u-10?(n[4]=t[c],Ws(t,10+o,n)):(t.push(n),n[4]=null),n[3]=t;const m=n[17];null!==m&&t!==m&&function(i,n){const t=i[9];n[16]!==n[3][3][16]&&(i[2]=!0),null===t?i[9]=[n]:t.push(n)}(m,n);const g=n[19];null!==g&&g.insertView(i),n[2]|=128}(c,o,m,u);const g=f8(u,m),b=o[11],x=O6(b,m[7]);return null!==x&&function(i,n,t,o,c,u){o[0]=c,o[6]=n,H6(i,o,t,1,c,u)}(c,m[6],b,o,x,g),n.attachToViewContainerRef(),Ws(dp(m),u,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=Ld(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),o=V6(this._lContainer,t);o&&(Mc(dp(this._lContainer),t),h9(o[1],o))}detach(n){const t=this._adjustIndex(n,-1),o=V6(this._lContainer,t);return o&&null!=Mc(dp(this._lContainer),t)?new gu(o):null}_adjustIndex(n,t=0){return null==n?this.length+t:n}};function Ld(i){return i[8]}function dp(i){return i[8]||(i[8]=[])}function hp(i,n){let t;const o=n[i.index];if(ro(o))t=o;else{let c;if(8&i.type)c=Un(o);else{const u=n[11];c=u.createComment("");const m=t1(i,n);t2(u,O6(u,m),c,function(i,n){return An(i)?i.nextSibling(n):n.nextSibling}(u,m),!1)}n[i.index]=t=U9(o,n,c,i),E0(n,t)}return new Yc(t,i,n)}class xu{constructor(n){this.queryList=n,this.matches=null}clone(){return new xu(this.queryList)}setDirty(){this.queryList.setDirty()}}class mp{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const o=null!==n.contentQueries?n.contentQueries[0]:t.length,c=[];for(let u=0;u<o;u++){const m=t.getByIndex(u);c.push(this.queries[m.indexInDeclarationView].clone())}return new mp(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==DM(n,t).matches&&this.queries[t].setDirty()}}class EM{constructor(n,t,o=null){this.predicate=n,this.flags=t,this.read=o}}class Fd{constructor(n=[]){this.queries=n}elementStart(n,t){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let o=0;o<this.length;o++){const c=null!==t?t.length:0,u=this.getByIndex(o).embeddedTView(n,c);u&&(u.indexInDeclarationView=o,null!==t?t.push(u):t=[u])}return null!==t?new Fd(t):null}template(n,t){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class pp{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new pp(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==t;)o=o.parent;return t===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const o=this.metadata.predicate;if(Array.isArray(o))for(let c=0;c<o.length;c++){const u=o[c];this.matchTNodeWithReadOption(n,t,KN(t,u)),this.matchTNodeWithReadOption(n,t,Rf(t,n,u,!1,!1))}else o===si?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Rf(t,n,o,!1,!1))}matchTNodeWithReadOption(n,t,o){if(null!==o){const c=this.metadata.read;if(null!==c)if(c===mt||c===pr||c===si&&4&t.type)this.addMatch(t.index,-2);else{const u=Rf(t,n,c,!1,!1);null!==u&&this.addMatch(t.index,u)}else this.addMatch(t.index,o)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function KN(i,n){const t=i.localNames;if(null!==t)for(let o=0;o<t.length;o+=2)if(t[o]===n)return t[o+1];return null}function W0(i,n,t,o){return-1===t?function(i,n){return 11&i.type?ss(i,n):4&i.type?Cu(i,n):null}(n,i):-2===t?function(i,n,t){return t===mt?ss(n,i):t===si?Cu(n,i):t===pr?hp(n,i):void 0}(i,n,o):Us(i,i[1],t,n)}function H1(i,n,t,o){const c=n[19].queries[o];if(null===c.matches){const u=i.data,m=t.matches,g=[];for(let b=0;b<m.length;b+=2){const x=m[b];g.push(x<0?null:W0(n,u[x],m[b+1],t.metadata.read))}c.matches=g}return c.matches}function ga(i,n,t,o){const c=i.queries.getByIndex(t),u=c.matches;if(null!==u){const m=H1(i,n,c,t);for(let g=0;g<u.length;g+=2){const b=u[g];if(b>0)o.push(m[g/2]);else{const x=u[g+1],D=n[-b];for(let k=10;k<D.length;k++){const z=D[k];z[17]===z[3]&&ga(z[1],z,x,o)}if(null!==D[9]){const k=D[9];for(let z=0;z<k.length;z++){const L=k[z];ga(L[1],L,x,o)}}}}}return o}function vt(i){const n=le(),t=At(),o=zy();T7(o+1);const c=DM(t,o);if(i.dirty&&E7(n)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const u=c.crossesNgTemplate?ga(t,n,o,[]):H1(t,n,c,o);i.reset(u,U0),i.notifyOnChanges()}return!0}return!1}function Pn(i,n,t){const o=At();o.firstCreatePass&&($i(o,new EM(i,n,t),-1),2==(2&n)&&(o.staticViewQueries=!0)),Rd(o,le(),n)}function Jn(i,n,t,o){const c=At();if(c.firstCreatePass){const u=kn();$i(c,new EM(n,t,o),u.index),function(i,n){const t=i.contentQueries||(i.contentQueries=[]);n!==(t.length?t[t.length-1]:-1)&&t.push(i.queries.length-1,n)}(c,i),2==(2&t)&&(c.staticContentQueries=!0)}Rd(c,le(),t)}function _t(){return i=le(),n=zy(),i[19].queries[n].queryList;var i,n}function Rd(i,n,t){const o=new On(4==(4&t));oC(i,n,o,o.destroy),null===n[19]&&(n[19]=new mp),n[19].queries.push(new xu(o))}function $i(i,n,t){null===i.queries&&(i.queries=new Fd),i.queries.track(new pp(n,t))}function DM(i,n){return i.queries.getByIndex(n)}const wu=new be("Application Initializer");let Z0=(()=>{class i{constructor(t){this.appInits=t,this.resolve=Ed,this.reject=Ed,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,c)=>{this.resolve=o,this.reject=c})}runInitializers(){if(this.initialized)return;const t=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const u=this.appInits[c]();if(ed(u))t.push(u);else if(R1(u)){const m=new Promise((g,b)=>{u.subscribe({complete:g,error:b})});t.push(m)}}Promise.all(t).then(()=>{o()}).catch(c=>{this.reject(c)}),0===t.length&&o(),this.initialized=!0}}return i.\u0275fac=function(t){return new(t||i)(ce(wu,8))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();const Eu=new be("AppId"),OM={provide:Eu,useFactory:function(){return`${$d()}${$d()}${$d()}`},deps:[]};function $d(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zp=new be("Platform Initializer"),Du=new be("Platform ID"),yI=new be("appBootstrapListener");let qd=(()=>{class i{log(t){console.log(t)}warn(t){console.warn(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();const fs=new be("LocaleId"),PM=new be("DefaultCurrencyCode");class CI{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}const Ip=function(i){return new Td(i)},MI=Ip,wI=function(i){return Promise.resolve(Ip(i))},Lp=function(i){const n=Ip(i),o=n1(T1(i).declarations).reduce((c,u)=>{const m=jn(u);return m&&c.push(new np(m)),c},[]);return new CI(n,o)},Fp=Lp,jM=function(i){return Promise.resolve(Lp(i))};let UM=(()=>{class i{constructor(){this.compileModuleSync=MI,this.compileModuleAsync=wI,this.compileModuleAndAllComponentsSync=Fp,this.compileModuleAndAllComponentsAsync=jM}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();const DI=(()=>Promise.resolve(0))();function Rp(i){"undefined"==typeof Zone?DI.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Et{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rt(!1),this.onMicrotaskEmpty=new rt(!1),this.onStable=new rt(!1),this.onError=new rt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!o&&t,c.shouldCoalesceRunChangeDetection=o,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let i=Ft.requestAnimationFrame,n=Ft.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&n){const t=i[Zone.__symbol__("OriginalDelegate")];t&&(i=t);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(i){const n=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Ft,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Op(i),i.isCheckStableRunning=!0,Vp(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Op(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,o,c,u,m,g)=>{try{return Pp(i),t.invokeTask(c,u,m,g)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===u.type||i.shouldCoalesceRunChangeDetection)&&n(),Wd(i)}},onInvoke:(t,o,c,u,m,g,b)=>{try{return Pp(i),t.invoke(c,u,m,g,b)}finally{i.shouldCoalesceRunChangeDetection&&n(),Wd(i)}},onHasTask:(t,o,c,u)=>{t.hasTask(c,u),o===c&&("microTask"==u.change?(i._hasPendingMicrotasks=u.microTask,Op(i),Vp(i)):"macroTask"==u.change&&(i.hasPendingMacrotasks=u.macroTask))},onHandleError:(t,o,c,u)=>(t.handleError(c,u),i.runOutsideAngular(()=>i.onError.emit(u)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Et.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Et.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,t,o){return this._inner.run(n,t,o)}runTask(n,t,o,c){const u=this._inner,m=u.scheduleEventTask("NgZoneEvent: "+c,n,qM,Ed,Ed);try{return u.runTask(m,t,o)}finally{u.cancelTask(m)}}runGuarded(n,t,o){return this._inner.runGuarded(n,t,o)}runOutsideAngular(n){return this._outer.run(n)}}const qM={};function Vp(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Op(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Pp(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Wd(i){i._nesting--,Vp(i)}class WM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rt,this.onMicrotaskEmpty=new rt,this.onStable=new rt,this.onError=new rt}run(n,t,o){return n.apply(t,o)}runGuarded(n,t,o){return n.apply(t,o)}runOutsideAngular(n){return n()}runTask(n,t,o,c){return n.apply(t,o)}}let Gd=(()=>{class i{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Et.assertNotInAngularZone(),Rp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Rp(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(t)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,o,c){let u=-1;o&&o>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==u),t(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:t,timeoutId:u,updateCb:c})}whenStable(t,o,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,o,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,o,c){return[]}}return i.\u0275fac=function(t){return new(t||i)(ce(Et))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})(),Hp=(()=>{class i{constructor(){this._applications=new Map,Au.addToWindow(this)}registerApplication(t,o){this._applications.set(t,o)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,o=!0){return Au.findTestabilityInTree(this,t,o)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();class GM{addToWindow(n){}findTestabilityInTree(n,t,o){return null}}let Au=new GM,YM=!0,ZM=!1;function Bp(){return ZM=!0,YM}let gr;const He=new be("AllowMultipleToken");function Cn(i,n,t=[]){const o=`Platform: ${n}`,c=new be(o);return(u=[])=>{let m=Nn();if(!m||m.injector.get(He,!1))if(i)i(t.concat(u).concat({provide:c,useValue:!0}));else{const g=t.concat(u).concat({provide:c,useValue:!0},{provide:I1,useValue:"platform"});!function(i){if(gr&&!gr.destroyed&&!gr.injector.get(He,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");gr=i.get(pt);const n=i.get(zp,null);n&&n.forEach(t=>t())}(Kt.create({providers:g,name:o}))}return function(i){const n=Nn();if(!n)throw new Error("No platform exists!");if(!n.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(c)}}function Nn(){return gr&&!gr.destroyed?gr:null}let pt=(()=>{class i{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,o){const g=function(i,n){let t;return t="noop"===i?new WM:("zone.js"===i?void 0:i)||new Et({enableLongStackTrace:Bp(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),t}(o?o.ngZone:void 0,{ngZoneEventCoalescing:o&&o.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:o&&o.ngZoneRunCoalescing||!1}),b=[{provide:Et,useValue:g}];return g.run(()=>{const x=Kt.create({providers:b,parent:this.injector,name:t.moduleType.name}),D=t.create(x),k=D.injector.get(uo,null);if(!k)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return g.runOutsideAngular(()=>{const z=g.onError.subscribe({next:L=>{k.handleError(L)}});D.onDestroy(()=>{Q0(this._modules,D),z.unsubscribe()})}),function(i,n,t){try{const o=t();return ed(o)?o.catch(c=>{throw n.runOutsideAngular(()=>i.handleError(c)),c}):o}catch(o){throw n.runOutsideAngular(()=>i.handleError(o)),o}}(k,g,()=>{const z=D.injector.get(Z0);return z.runInitializers(),z.donePromise.then(()=>(function(i){D1(i,"Expected localeId to be defined"),"string"==typeof i&&(pd=i.toLowerCase().replace(/_/g,"-"))}(D.injector.get(fs,ha)||ha),this._moduleDoBootstrap(D),D))})})}bootstrapModule(t,o=[]){const c=s1({},o);return function(i,n,t){const o=new Td(t);return Promise.resolve(o)}(0,0,t).then(u=>this.bootstrapModuleFactory(u,c))}_moduleDoBootstrap(t){const o=t.injector.get(Re);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(c=>o.bootstrap(c));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${ct(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(o)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(t){return new(t||i)(ce(Kt))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();function s1(i,n){return Array.isArray(n)?n.reduce(s1,i):Ct(Ct({},i),n)}let Re=(()=>{class i{constructor(t,o,c,u,m){this._zone=t,this._injector=o,this._exceptionHandler=c,this._componentFactoryResolver=u,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new Lt(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),b=new Lt(x=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Et.assertNotInAngularZone(),Rp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Et.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{D.unsubscribe(),k.unsubscribe()}});this.isStable=oc(g,b.pipe(function(i={}){const{connector:n=(()=>new st),resetOnError:t=!0,resetOnComplete:o=!0,resetOnRefCountZero:c=!0}=i;return u=>{let m=null,g=null,b=null,x=0,D=!1,k=!1;const z=()=>{null==g||g.unsubscribe(),g=null},L=()=>{z(),m=b=null,D=k=!1},R=()=>{const j=m;L(),null==j||j.unsubscribe()};return nn((j,B)=>{x++,!k&&!D&&z();const Q=b=null!=b?b:n();B.add(()=>{x--,0===x&&!k&&!D&&(g=J_(R,c))}),Q.subscribe(B),m||(m=new Q4({next:K=>Q.next(K),error:K=>{k=!0,z(),g=J_(L,t,K),Q.error(K)},complete:()=>{D=!0,z(),g=J_(L,o),Q.complete()}}),rc(j).subscribe(m))})(u)}}()))}bootstrap(t,o){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=t instanceof Qm?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(c.componentType);const u=function(i){return i.isBoundToModule}(c)?void 0:this._injector.get(D2),g=c.create(Kt.NULL,[],o||c.selector,u),b=g.location.nativeElement,x=g.injector.get(Gd,null),D=x&&g.injector.get(Hp);return x&&D&&D.registerApplication(b,x),g.onDestroy(()=>{this.detachView(g.hostView),Q0(this.components,g),D&&D.unregisterApplication(b)}),this._loadComponent(g),g}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const o=t;this._views.push(o),o.attachToAppRef(this)}detachView(t){const o=t;Q0(this._views,o),o.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(yI,[]).concat(this._bootstrapListeners).forEach(c=>c(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(t){return new(t||i)(ce(Et),ce(Kt),ce(uo),ce(Ui),ce(Z0))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();function Q0(i,n){const t=i.indexOf(n);t>-1&&i.splice(t,1)}const Mq=function(i){return function(i,n,t){if(Cf(i)&&!t){const o=ar(i.index,n);return new gu(o,o)}return 47&i.type?new gu(n[16],n):null}(kn(),le(),16==(16&i))};let Bt=(()=>{class i{}return i.__NG_ELEMENT_ID__=Mq,i})();class Yp{constructor(){}supports(n){return o1(n)}create(n){return new RI(n)}}const FI=(i,n)=>n;class RI{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||FI}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,o=this._removalsHead,c=0,u=null;for(;t||o;){const m=!o||t&&t.currentIndex<fw(o,c,u)?t:o,g=fw(m,c,u),b=m.currentIndex;if(m===o)c--,o=o._nextRemoved;else if(t=t._next,null==m.previousIndex)c++;else{u||(u=[]);const x=g-c,D=b-c;if(x!=D){for(let z=0;z<x;z++){const L=z<u.length?u[z]:u[z]=0,R=L+z;D<=R&&R<x&&(u[z]=L+1)}u[m.previousIndex]=D-x}}g!==b&&n(m,g,b)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!o1(n))throw new Error(`Error trying to diff '${ct(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,u,m,t=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let g=0;g<this.length;g++)u=n[g],m=this._trackByFn(g,u),null!==t&&Object.is(t.trackById,m)?(o&&(t=this._verifyReinsertion(t,u,m,g)),Object.is(t.item,u)||this._addIdentityChange(t,u)):(t=this._mismatch(t,u,m,g),o=!0),t=t._next}else c=0,function(i,n){if(Array.isArray(i))for(let t=0;t<i.length;t++)n(i[t]);else{const t=i[k0()]();let o;for(;!(o=t.next()).done;)n(o.value)}}(n,g=>{m=this._trackByFn(c,g),null!==t&&Object.is(t.trackById,m)?(o&&(t=this._verifyReinsertion(t,g,m,c)),Object.is(t.item,g)||this._addIdentityChange(t,g)):(t=this._mismatch(t,g,m,c),o=!0),t=t._next,c++}),this.length=c;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,o,c){let u;return null===n?u=this._itTail:(u=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,u,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,c))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,u,c)):n=this._addAfter(new lw(t,o),u,c),n}_verifyReinsertion(n,t,o,c){let u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==u?n=this._reinsertAfter(u,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,u=n._nextRemoved;return null===c?this._removalsHead=u:c._nextRemoved=u,null===u?this._removalsTail=c:u._prevRemoved=c,this._insertAfter(n,t,o),this._addToMoves(n,o),n}_moveAfter(n,t,o){return this._unlink(n),this._insertAfter(n,t,o),this._addToMoves(n,o),n}_addAfter(n,t,o){return this._insertAfter(n,t,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,o){const c=null===t?this._itHead:t._next;return n._next=c,n._prev=t,null===c?this._itTail=n:c._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new uw),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,o=n._next;return null===t?this._itHead=o:t._next=o,null===o?this._itTail=t:o._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uw),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class lw{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===t||t<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const t=n._prevDup,o=n._nextDup;return null===t?this._head=o:t._nextDup=o,null===o?this._tail=t:o._prevDup=t,null===this._head}}class uw{constructor(){this.map=new Map}put(n){const t=n.trackById;let o=this.map.get(t);o||(o=new VI,this.map.set(t,o)),o.add(n)}get(n,t){const c=this.map.get(n);return c?c.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fw(i,n,t){const o=i.previousIndex;if(null===o)return o;let c=0;return t&&o<t.length&&(c=t[o]),o+n+c}class Zp{constructor(){}supports(n){return n instanceof Map||T0(n)}create(){return new dw}}class dw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||T0(n)))throw new Error(`Error trying to diff '${ct(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,c)=>{if(t&&t.key===c)this._maybeAddToChanges(t,o),this._appendAfter=t,t=t._next;else{const u=this._getOrCreateRecordForKey(c,o);t=this._insertBeforeOrAppend(t,u)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let o=t;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const o=n._prev;return t._next=n,t._prev=o,n._prev=t,o&&(o._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,t);const u=c._prev,m=c._next;return u&&(u._next=m),m&&(m._prev=u),c._next=null,c._prev=null,c}const o=new hw(n);return this._records.set(n,o),o.currentValue=t,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(o=>t(n[o],o))}}class hw{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Jd(){return new Jc([new Yp])}let Jc=(()=>{class i{constructor(t){this.factories=t}static create(t,o){if(null!=o){const c=o.factories.slice();t=t.concat(c)}return new i(t)}static extend(t){return{provide:i,useFactory:o=>i.create(t,o||Jd()),deps:[[i,new Ua,new Lr]]}}find(t){const o=this.factories.find(c=>c.supports(t));if(null!=o)return o;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(i){return i.name||typeof i}(t)}'`)}}return i.\u0275prov=Ce({token:i,providedIn:"root",factory:Jd}),i})();function Kp(){return new ba([new Zp])}let ba=(()=>{class i{constructor(t){this.factories=t}static create(t,o){if(o){const c=o.factories.slice();t=t.concat(c)}return new i(t)}static extend(t){return{provide:i,useFactory:o=>i.create(t,o||Kp()),deps:[[i,new Ua,new Lr]]}}find(t){const o=this.factories.find(c=>c.supports(t));if(o)return o;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return i.\u0275prov=Ce({token:i,providedIn:"root",factory:Kp}),i})();const Iu=[new Zp],OI=new Jc([new Yp]),pw=new ba(Iu),gw=Cn(null,"core",[{provide:Du,useValue:"unknown"},{provide:pt,deps:[Kt]},{provide:Hp,deps:[]},{provide:qd,deps:[]}]),nh=[{provide:Re,useClass:Re,deps:[Et,Kt,uo,Ui,Z0]},{provide:TN,deps:[Et],useFactory:function(i){let n=[];return i.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(t){n.push(t)}}},{provide:Z0,useClass:Z0,deps:[[new Lr,wu]]},{provide:UM,useClass:UM,deps:[]},OM,{provide:Jc,useFactory:function(){return OI},deps:[]},{provide:ba,useFactory:function(){return pw},deps:[]},{provide:fs,useFactory:function(i){return i||"undefined"!=typeof $localize&&$localize.locale||ha},deps:[[new c0(fs),new Lr,new Ua]]},{provide:PM,useValue:"USD"}];let Cw=(()=>{class i{constructor(t){}}return i.\u0275fac=function(t){return new(t||i)(ce(Re))},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({providers:nh}),i})(),sl=null;function So(){return sl}const ut=new be("DocumentToken");let cl=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:function(){return ce(Mg)},providedIn:"platform"}),i})(),Mg=(()=>{class i extends cl{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return So().getBaseHref(this._doc)}onPopState(t){const o=So().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){const o=So().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,o,c){cE()?this._history.pushState(t,o,c):this.location.hash=c}replaceState(t,o,c){cE()?this._history.replaceState(t,o,c):this.location.hash=c}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return i.\u0275fac=function(t){return new(t||i)(ce(ut))},i.\u0275prov=Ce({token:i,factory:function(){return new Mg(ce(ut))},providedIn:"platform"}),i})();function cE(){return!!window.history.pushState}function lE(i,n){if(0==i.length)return n;if(0==n.length)return i;let t=0;return i.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?i+n.substring(1):1==t?i+n:i+"/"+n}function uE(i){const n=i.match(/#|\?|$/),t=n&&n.index||i.length;return i.slice(0,t-("/"===i[t-1]?1:0))+i.slice(t)}function ll(i){return i&&"?"!==i[0]?"?"+i:i}let wg=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:function(){return function(i){const n=ce(ut).location;return new fE(ce(cl),n&&n.origin||"")}()},providedIn:"root"}),i})();const WL=new be("appBaseHref");let fE=(()=>{class i extends wg{constructor(t,o){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return lE(this._baseHref,t)}path(t=!1){const o=this._platformLocation.pathname+ll(this._platformLocation.search),c=this._platformLocation.hash;return c&&t?`${o}${c}`:o}pushState(t,o,c,u){const m=this.prepareExternalUrl(c+ll(u));this._platformLocation.pushState(t,o,m)}replaceState(t,o,c,u){const m=this.prepareExternalUrl(c+ll(u));this._platformLocation.replaceState(t,o,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var o,c;null==(c=(o=this._platformLocation).historyGo)||c.call(o,t)}}return i.\u0275fac=function(t){return new(t||i)(ce(cl),ce(WL,8))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})(),dE=(()=>{class i{constructor(t,o){this._subject=new rt,this._urlChangeListeners=[],this._platformStrategy=t;const c=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=uE(d4(c)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+ll(o))}normalize(t){return i.stripTrailingSlash(function(i,n){return i&&n.startsWith(i)?n.substring(i.length):n}(this._baseHref,d4(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,o="",c=null){this._platformStrategy.pushState(c,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ll(o)),c)}replaceState(t,o="",c=null){this._platformStrategy.replaceState(c,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ll(o)),c)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var o,c;null==(c=(o=this._platformStrategy).historyGo)||c.call(o,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(c=>c(t,o))}subscribe(t,o,c){return this._subject.subscribe({next:t,error:o,complete:c})}}return i.normalizeQueryParams=ll,i.joinWithSlash=lE,i.stripTrailingSlash=uE,i.\u0275fac=function(t){return new(t||i)(ce(wg),ce(cl))},i.\u0275prov=Ce({token:i,factory:function(){return new dE(ce(wg),ce(cl))},providedIn:"root"}),i})();function d4(i){return i.replace(/\/index.html$/,"")}var Hn=(()=>((Hn=Hn||{})[Hn.Zero=0]="Zero",Hn[Hn.One=1]="One",Hn[Hn.Two=2]="Two",Hn[Hn.Few=3]="Few",Hn[Hn.Many=4]="Many",Hn[Hn.Other=5]="Other",Hn))();const eF=function(i){return function(i){const n=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let t=dd(n);if(t)return t;const o=n.split("-")[0];if(t=dd(o),t)return t;if("en"===o)return Jz;throw new Error(`Missing locale data for the locale "${i}".`)}(i)[we.PluralCase]};class Vh{}let CF=(()=>{class i extends Vh{constructor(t){super(),this.locale=t}getPluralCategory(t,o){switch(eF(o||this.locale)(t)){case Hn.Zero:return"zero";case Hn.One:return"one";case Hn.Two:return"two";case Hn.Few:return"few";case Hn.Many:return"many";default:return"other"}}}return i.\u0275fac=function(t){return new(t||i)(ce(fs))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})(),Oh=(()=>{class i{constructor(t,o,c,u){this._iterableDiffers=t,this._keyValueDiffers=o,this._ngEl=c,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(o1(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ct(o.item)}`);this._toggleClass(o.item,!0)}),t.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!0)):Object.keys(t).forEach(o=>this._toggleClass(o,!!t[o])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!1)):Object.keys(t).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(t,o){(t=t.trim())&&t.split(/\s+/g).forEach(c=>{o?this._renderer.addClass(this._ngEl.nativeElement,c):this._renderer.removeClass(this._ngEl.nativeElement,c)})}}return i.\u0275fac=function(t){return new(t||i)(q(Jc),q(ba),q(mt),q(w2))},i.\u0275dir=Ae({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})();class wF{constructor(n,t,o,c){this.$implicit=n,this.ngForOf=t,this.index=o,this.count=c}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hl=(()=>{class i{constructor(t,o,c){this._viewContainer=t,this._template=o,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(i){return i.name||typeof i}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const o=[];t.forEachOperation((c,u,m)=>{if(null==c.previousIndex){const g=this._viewContainer.createEmbeddedView(this._template,new wF(null,this._ngForOf,-1,-1),null===m?void 0:m),b=new Ph(c,g);o.push(b)}else if(null==m)this._viewContainer.remove(null===u?void 0:u);else if(null!==u){const g=this._viewContainer.get(u);this._viewContainer.move(g,m);const b=new Ph(c,g);o.push(b)}});for(let c=0;c<o.length;c++)this._perViewChange(o[c].view,o[c].record);for(let c=0,u=this._viewContainer.length;c<u;c++){const m=this._viewContainer.get(c);m.context.index=c,m.context.count=u,m.context.ngForOf=this._ngForOf}t.forEachIdentityChange(c=>{this._viewContainer.get(c.currentIndex).context.$implicit=c.item})}_perViewChange(t,o){t.context.$implicit=o.item}static ngTemplateContextGuard(t,o){return!0}}return i.\u0275fac=function(t){return new(t||i)(q(pr),q(si),q(Jc))},i.\u0275dir=Ae({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class Ph{constructor(n,t){this.record=n,this.view=t}}let L2=(()=>{class i{constructor(t,o){this._viewContainer=t,this._context=new Cs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ME("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ME("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}}return i.\u0275fac=function(t){return new(t||i)(q(pr),q(si))},i.\u0275dir=Ae({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class Cs{constructor(){this.$implicit=null,this.ngIf=null}}function ME(i,n){if(n&&!n.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${ct(n)}'.`)}class Tg{constructor(n,t){this._viewContainerRef=n,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let ml=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const o=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let o=0;o<this._defaultViews.length;o++)this._defaultViews[o].enforceState(t)}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ae({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),i})(),pl=(()=>{class i{constructor(t,o,c){this.ngSwitch=c,c._addCase(),this._view=new Tg(t,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(t){return new(t||i)(q(pr),q(si),q(ml,9))},i.\u0275dir=Ae({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),i})(),Hh=(()=>{class i{constructor(t,o,c){c._addDefault(new Tg(t,o))}}return i.\u0275fac=function(t){return new(t||i)(q(pr),q(si),q(ml,9))},i.\u0275dir=Ae({type:i,selectors:[["","ngSwitchDefault",""]]}),i})(),Ng=(()=>{class i{constructor(t,o,c){this._ngEl=t,this._differs=o,this._renderer=c,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,o){const[c,u]=t.split(".");null!=(o=null!=o&&u?`${o}${u}`:o)?this._renderer.setStyle(this._ngEl.nativeElement,c,o):this._renderer.removeStyle(this._ngEl.nativeElement,c)}_applyChanges(t){t.forEachRemovedItem(o=>this._setStyle(o.key,null)),t.forEachAddedItem(o=>this._setStyle(o.key,o.currentValue)),t.forEachChangedItem(o=>this._setStyle(o.key,o.currentValue))}}return i.\u0275fac=function(t){return new(t||i)(q(mt),q(ba),q(w2))},i.\u0275dir=Ae({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),i})();class DE{createSubscription(n,t){return n.subscribe({next:t,error:o=>{throw o}})}dispose(n){n.unsubscribe()}onDestroy(n){n.unsubscribe()}}class Lg{createSubscription(n,t){return n.then(t,o=>{throw o})}dispose(n){}onDestroy(n){}}const Fg=new Lg,DF=new DE;let AE=(()=>{class i{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,o=>this._updateLatestValue(t,o))}_selectStrategy(t){if(ed(t))return Fg;if(p2(t))return DF;throw function(i,n){return Error(`InvalidPipeArgument: '${n}' for pipe '${ct(i)}'`)}(i,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,o){t===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return i.\u0275fac=function(t){return new(t||i)(q(Bt,16))},i.\u0275pipe=ii({name:"async",type:i,pure:!1}),i})(),R2=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({providers:[{provide:Vh,useClass:CF}]}),i})();const TE="browser";class Og extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new Og,sl||(sl=i)}onAndCancel(n,t,o){return n.addEventListener(t,o,!1),()=>{n.removeEventListener(t,o,!1)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=(n3=n3||document.querySelector("base"),n3?n3.getAttribute("href"):null);return null==t?null:function(i){v4=v4||document.createElement("a"),v4.setAttribute("href",i);const n=v4.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){n3=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function(i,n){n=encodeURIComponent(n);for(const t of i.split(";")){const o=t.indexOf("="),[c,u]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(c.trim()===n)return decodeURIComponent(u)}return null}(document.cookie,n)}}let v4,n3=null;const $h=new be("TRANSITION_ID"),Pg=[{provide:wu,useFactory:function(i,n,t){return()=>{t.get(Z0).donePromise.then(()=>{const o=So(),c=n.querySelectorAll(`style[ng-transition="${i}"]`);for(let u=0;u<c.length;u++)o.remove(c[u])})}},deps:[$h,ut,Kt],multi:!0}];class i3{static init(){var i;i=new i3,Au=i}addToWindow(n){Ft.getAngularTestability=(o,c=!0)=>{const u=n.findTestabilityInTree(o,c);if(null==u)throw new Error("Could not find testability for element.");return u},Ft.getAllAngularTestabilities=()=>n.getAllTestabilities(),Ft.getAllAngularRootElements=()=>n.getAllRootElements(),Ft.frameworkStabilizers||(Ft.frameworkStabilizers=[]),Ft.frameworkStabilizers.push(o=>{const c=Ft.getAllAngularTestabilities();let u=c.length,m=!1;const g=function(b){m=m||b,u--,0==u&&o(m)};c.forEach(function(b){b.whenStable(g)})})}findTestabilityInTree(n,t,o){if(null==t)return null;const c=n.getTestability(t);return null!=c?c:o?So().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null}}let $F=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();const r3=new be("EventManagerPlugins");let o3=(()=>{class i{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(c=>c.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,o,c){return this._findPluginFor(o).addEventListener(t,o,c)}addGlobalEventListener(t,o,c){return this._findPluginFor(o).addGlobalEventListener(t,o,c)}getZone(){return this._zone}_findPluginFor(t){const o=this._eventNameToPlugin.get(t);if(o)return o;const c=this._plugins;for(let u=0;u<c.length;u++){const m=c[u];if(m.supports(t))return this._eventNameToPlugin.set(t,m),m}throw new Error(`No event manager plugin found for event ${t}`)}}return i.\u0275fac=function(t){return new(t||i)(ce(r3),ce(Et))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();class Ms{constructor(n){this._doc=n}addGlobalEventListener(n,t,o){const c=So().getGlobalEventTarget(this._doc,n);if(!c)throw new Error(`Unsupported event target ${c} for event ${t}`);return this.addEventListener(c,t,o)}}let Xh=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(t){const o=new Set;t.forEach(c=>{this._stylesSet.has(c)||(this._stylesSet.add(c),o.add(c))}),this.onStylesAdded(o)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})(),a3=(()=>{class i extends Xh{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,o,c){t.forEach(u=>{const m=this._doc.createElement("style");m.textContent=u,c.push(o.appendChild(m))})}addHost(t){const o=[];this._addStylesToHost(this._stylesSet,t,o),this._hostNodes.set(t,o)}removeHost(t){const o=this._hostNodes.get(t);o&&o.forEach(HE),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((o,c)=>{this._addStylesToHost(t,c,o)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(HE))}}return i.\u0275fac=function(t){return new(t||i)(ce(ut))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();function HE(i){So().remove(i)}const V2={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},qg=/%COMP%/g;function y4(i,n,t){for(let o=0;o<n.length;o++){let c=n[o];Array.isArray(c)?y4(i,c,t):(c=c.replace(qg,i),t.push(c))}return t}function UE(i){return n=>{if("__ngUnwrap__"===n)return i;!1===i(n)&&(n.preventDefault(),n.returnValue=!1)}}let b4=(()=>{class i{constructor(t,o,c){this.eventManager=t,this.sharedStylesHost=o,this.appId=c,this.rendererByCompId=new Map,this.defaultRenderer=new gl(t)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;switch(o.encapsulation){case Ir.Emulated:{let c=this.rendererByCompId.get(o.id);return c||(c=new KF(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,c)),c.applyToHost(t),c}case 1:case Ir.ShadowDom:return new QF(this.eventManager,this.sharedStylesHost,t,o);default:if(!this.rendererByCompId.has(o.id)){const c=y4(o.id,o.styles,[]);this.sharedStylesHost.addStyles(c),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(t){return new(t||i)(ce(o3),ce(a3),ce(Eu))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();class gl{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?document.createElementNS(V2[t]||t,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,t){n.appendChild(t)}insertBefore(n,t,o){n&&n.insertBefore(t,o)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let o="string"==typeof n?document.querySelector(n):n;if(!o)throw new Error(`The selector "${n}" did not match any elements`);return t||(o.textContent=""),o}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,o,c){if(c){t=c+":"+t;const u=V2[c];u?n.setAttributeNS(u,t,o):n.setAttribute(t,o)}else n.setAttribute(t,o)}removeAttribute(n,t,o){if(o){const c=V2[o];c?n.removeAttributeNS(c,t):n.removeAttribute(`${o}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,o,c){c&(Rr.DashCase|Rr.Important)?n.style.setProperty(t,o,c&Rr.Important?"important":""):n.style[t]=o}removeStyle(n,t,o){o&Rr.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,o){n[t]=o}setValue(n,t){n.nodeValue=t}listen(n,t,o){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,t,UE(o)):this.eventManager.addEventListener(n,t,UE(o))}}class KF extends gl{constructor(n,t,o,c){super(n),this.component=o;const u=y4(c+"-"+o.id,o.styles,[]);t.addStyles(u),this.contentAttr="_ngcontent-%COMP%".replace(qg,c+"-"+o.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(qg,i)}(c+"-"+o.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,t){const o=super.createElement(n,t);return super.setAttribute(o,this.contentAttr,""),o}}class QF extends gl{constructor(n,t,o,c){super(n),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=y4(c.id,c.styles,[]);for(let m=0;m<u.length;m++){const g=document.createElement("style");g.textContent=u[m],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,o){return super.insertBefore(this.nodeOrShadowRoot(n),t,o)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let JF=(()=>{class i extends Ms{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,c){return t.addEventListener(o,c,!1),()=>this.removeEventListener(t,o,c)}removeEventListener(t,o,c){return t.removeEventListener(o,c)}}return i.\u0275fac=function(t){return new(t||i)(ce(ut))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();const GE=["alt","control","meta","shift"],aR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},C4={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},sR={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let cR=(()=>{class i extends Ms{constructor(t){super(t)}supports(t){return null!=i.parseEventName(t)}addEventListener(t,o,c){const u=i.parseEventName(o),m=i.eventCallback(u.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>So().onAndCancel(t,u.domEventName,m))}static parseEventName(t){const o=t.toLowerCase().split("."),c=o.shift();if(0===o.length||"keydown"!==c&&"keyup"!==c)return null;const u=i._normalizeKey(o.pop());let m="";if(GE.forEach(b=>{const x=o.indexOf(b);x>-1&&(o.splice(x,1),m+=b+".")}),m+=u,0!=o.length||0===u.length)return null;const g={};return g.domEventName=c,g.fullKey=m,g}static getEventFullKey(t){let o="",c=function(i){let n=i.key;if(null==n){if(n=i.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===i.location&&C4.hasOwnProperty(n)&&(n=C4[n]))}return aR[n]||n}(t);return c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),GE.forEach(u=>{u!=c&&sR[u](t)&&(o+=u+".")}),o+=c,o}static eventCallback(t,o,c){return u=>{i.getEventFullKey(u)===t&&c.runGuarded(()=>o(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return i.\u0275fac=function(t){return new(t||i)(ce(ut))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})(),_l=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:function(t){let o=null;return o=t?new(t||i):ce(Gg),o},providedIn:"root"}),i})(),Gg=(()=>{class i extends _l{constructor(t){super(),this._doc=t}sanitize(t,o){if(null==o)return null;switch(t){case Rt.NONE:return o;case Rt.HTML:return ra(o,"HTML")?Fr(o):Xf(this._doc,String(o)).toString();case Rt.STYLE:return ra(o,"Style")?Fr(o):o;case Rt.SCRIPT:if(ra(o,"Script"))return Fr(o);throw new Error("unsafe value used in a script context");case Rt.URL:return fb(o),ra(o,"URL")?Fr(o):T6(String(o));case Rt.RESOURCE_URL:if(ra(o,"ResourceURL"))return Fr(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function(i){return new wT(i)}(t)}bypassSecurityTrustStyle(t){return function(i){return new S6(i)}(t)}bypassSecurityTrustScript(t){return function(i){return new k6(i)}(t)}bypassSecurityTrustUrl(t){return function(i){return new ET(i)}(t)}bypassSecurityTrustResourceUrl(t){return function(i){return new ub(i)}(t)}}return i.\u0275fac=function(t){return new(t||i)(ce(ut))},i.\u0275prov=Ce({token:i,factory:function(t){let o=null;return o=t?new t:function(i){return new Gg(i.get(ut))}(ce(Kt)),o},providedIn:"root"}),i})();const uR=[{provide:Du,useValue:TE},{provide:zp,useValue:function(){Og.makeCurrent(),i3.init()},multi:!0},{provide:ut,useFactory:function(){return i=document,w7=i,document;var i},deps:[]}],dR=Cn(gw,"browser",uR),hR=[[],{provide:I1,useValue:"root"},{provide:uo,useFactory:function(){return new uo},deps:[]},{provide:r3,useClass:JF,multi:!0,deps:[ut,Et,Du]},{provide:r3,useClass:cR,multi:!0,deps:[ut]},[],{provide:b4,useClass:b4,deps:[o3,a3,Eu]},{provide:pa,useExisting:b4},{provide:Xh,useExisting:a3},{provide:a3,useClass:a3,deps:[ut]},{provide:Gd,useClass:Gd,deps:[Et]},{provide:o3,useClass:o3,deps:[r3,Et]},{provide:class{},useClass:$F,deps:[]},[]];let Zg=(()=>{class i{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:i,providers:[{provide:Eu,useValue:t.appId},{provide:$h,useExisting:Eu},Pg]}}}return i.\u0275fac=function(t){return new(t||i)(ce(i,12))},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({providers:hR,imports:[R2,Cw]}),i})();function l3(i){return(l3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(i)}function YE(i,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function ZE(i,n,t){return n in i?Object.defineProperty(i,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[n]=t,i}function Dt(i){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),o.forEach(function(c){ZE(i,c,t[c])})}return i}function Jg(i,n){return function(i){if(Array.isArray(i))return i}(i)||function(i,n){var t=[],o=!0,c=!1,u=void 0;try{for(var g,m=i[Symbol.iterator]();!(o=(g=m.next()).done)&&(t.push(g.value),!n||t.length!==n);o=!0);}catch(b){c=!0,u=b}finally{try{!o&&null!=m.return&&m.return()}finally{if(c)throw u}}return t}(i,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}"undefined"!=typeof window&&window;var tv={},QE={};try{"undefined"!=typeof window&&(tv=window),"undefined"!=typeof document&&(QE=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(i){}var eD=(tv.navigator||{}).userAgent,fi=void 0===eD?"":eD,Da=tv,Gn=QE,To=!!Gn.documentElement&&!!Gn.head&&"function"==typeof Gn.addEventListener&&"function"==typeof Gn.createElement,ws=(~fi.indexOf("MSIE")||fi.indexOf("Trident/"),"___FONT_AWESOME___"),u3="svg-inline--fa",sD=[1,2,3,4,5,6,7,8,9,10],kR=sD.concat([11,12,13,14,15,16,17,18,19,20]),H2={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},rv=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",H2.GROUP,H2.SWAP_OPACITY,H2.PRIMARY,H2.SECONDARY].concat(sD.map(function(i){return"".concat(i,"x")})).concat(kR.map(function(i){return"w-".concat(i)})),Da.FontAwesomeConfig||{});Gn&&"function"==typeof Gn.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(i){var n=Jg(i,2),o=n[1],c=function(i){return""===i||"false"!==i&&("true"===i||i)}(function(i){var n=Gn.querySelector("script["+i+"]");if(n)return n.getAttribute(i)}(n[0]));null!=c&&(rv[o]=c)});var f3=Dt({},{familyPrefix:"fa",replacementClass:u3,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},rv);f3.autoReplaceSvg||(f3.observeMutations=!1);var Ke=Dt({},f3);Da.FontAwesomeConfig=Ke;var Aa=Da||{};Aa[ws]||(Aa[ws]={}),Aa[ws].styles||(Aa[ws].styles={}),Aa[ws].hooks||(Aa[ws].hooks={}),Aa[ws].shims||(Aa[ws].shims=[]);var zo=Aa[ws],ov=[];To&&((Gn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Gn.readyState)||Gn.addEventListener("DOMContentLoaded",function i(){Gn.removeEventListener("DOMContentLoaded",i),ov.map(function(n){return n()})}));var av,di="pending",ln="settled",S4="fulfilled",n5="rejected",lD=function(){},uD="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,FR="undefined"==typeof setImmediate?setTimeout:setImmediate,d3=[];function RR(){for(var i=0;i<d3.length;i++)d3[i][0](d3[i][1]);d3=[],av=!1}function i5(i,n){d3.push([i,n]),av||(av=!0,FR(RR,0))}function fD(i){var n=i.owner,t=n._state,o=n._data,c=i[t],u=i.then;if("function"==typeof c){t=S4;try{o=c(o)}catch(m){B2(u,m)}}dD(u,o)||(t===S4&&sv(u,o),t===n5&&B2(u,o))}function dD(i,n){var t;try{if(i===n)throw new TypeError("A promises callback cannot return that same promise.");if(n&&("function"==typeof n||"object"===l3(n))){var o=n.then;if("function"==typeof o)return o.call(n,function(c){t||(t=!0,n===c?cv(i,c):sv(i,c))},function(c){t||(t=!0,B2(i,c))}),!0}}catch(c){return t||B2(i,c),!0}return!1}function sv(i,n){(i===n||!dD(i,n))&&cv(i,n)}function cv(i,n){i._state===di&&(i._state=ln,i._data=n,i5(OR,i))}function B2(i,n){i._state===di&&(i._state=ln,i._data=n,i5(Cl,i))}function lv(i){i._then=i._then.forEach(fD)}function OR(i){i._state=S4,lv(i)}function Cl(i){i._state=n5,lv(i),!i._handled&&uD&&global.process.emit("unhandledRejection",i._data,i)}function uv(i){global.process.emit("rejectionHandled",i)}function h1(i){if("function"!=typeof i)throw new TypeError("Promise resolver "+i+" is not a function");if(!(this instanceof h1))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(i,n){function o(c){B2(n,c)}try{i(function(c){sv(n,c)},o)}catch(c){o(c)}}(i,this)}h1.prototype={constructor:h1,_state:di,_then:null,_data:void 0,_handled:!1,then:function(n,t){var o={owner:this,then:new this.constructor(lD),fulfilled:n,rejected:t};return(t||n)&&!this._handled&&(this._handled=!0,this._state===n5&&uD&&i5(uv,this)),this._state===S4||this._state===n5?i5(fD,o):this._then.push(o),o.then},catch:function(n){return this.then(null,n)}},h1.all=function(i){if(!Array.isArray(i))throw new TypeError("You must pass an array to Promise.all().");return new h1(function(n,t){var o=[],c=0;function u(b){return c++,function(x){o[b]=x,--c||n(o)}}for(var g,m=0;m<i.length;m++)(g=i[m])&&"function"==typeof g.then?g.then(u(m),t):o[m]=g;c||n(o)})},h1.race=function(i){if(!Array.isArray(i))throw new TypeError("You must pass an array to Promise.race().");return new h1(function(n,t){for(var c,o=0;o<i.length;o++)(c=i[o])&&"function"==typeof c.then?c.then(n,t):n(c)})},h1.resolve=function(i){return i&&"object"===l3(i)&&i.constructor===h1?i:new h1(function(n){n(i)})},h1.reject=function(i){return new h1(function(n,t){t(i)})};var Ds={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function k4(){for(var i=12,n="";i-- >0;)n+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return n}function o5(i){return"".concat(i).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a5(i){return Object.keys(i||{}).reduce(function(n,t){return n+"".concat(t,": ").concat(i[t],";")},"")}function dv(i){return i.size!==Ds.size||i.x!==Ds.x||i.y!==Ds.y||i.rotate!==Ds.rotate||i.flipX||i.flipY}function hD(i){var n=i.transform,o=i.iconWidth,c={transform:"translate(".concat(i.containerWidth/2," 256)")},u="translate(".concat(32*n.x,", ").concat(32*n.y,") "),m="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),g="rotate(".concat(n.rotate," 0 0)");return{outer:c,inner:{transform:"".concat(u," ").concat(m," ").concat(g)},path:{transform:"translate(".concat(o/2*-1," -256)")}}}var hv={x:0,y:0,width:"100%",height:"100%"};function gn(i){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return i.attributes&&(i.attributes.fill||n)&&(i.attributes.fill="black"),i}function Ur(i){return"g"===i.tag?i.children:[i]}function s5(i){var n=i.icons,t=n.main,o=n.mask,c=i.prefix,u=i.iconName,m=i.transform,g=i.symbol,b=i.title,x=i.maskId,D=i.titleId,k=i.extra,z=i.watchable,L=void 0!==z&&z,R=o.found?o:t,j=R.width,B=R.height,Q="fak"===c,K=Q?"":"fa-w-".concat(Math.ceil(j/B*16)),he=[Ke.replacementClass,u?"".concat(Ke.familyPrefix,"-").concat(u):"",K].filter(function(ni){return-1===k.classes.indexOf(ni)}).filter(function(ni){return""!==ni||!!ni}).concat(k.classes).join(" "),_e={children:[],attributes:Dt({},k.attributes,{"data-prefix":c,"data-icon":u,class:he,role:k.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(j," ").concat(B)})},Ge=Q&&!~k.classes.indexOf("fa-fw")?{width:"".concat(j/B*16*.0625,"em")}:{};L&&(_e.attributes["data-fa-i2svg"]=""),b&&_e.children.push({tag:"title",attributes:{id:_e.attributes["aria-labelledby"]||"title-".concat(D||k4())},children:[b]});var wt=Dt({},_e,{prefix:c,iconName:u,main:t,mask:o,maskId:x,transform:m,symbol:g,styles:Dt({},Ge,k.styles)}),Wt=o.found&&t.found?function(i){var n=i.children,t=i.attributes,o=i.main,c=i.mask,u=i.maskId,b=o.icon,D=c.icon,k=hD({transform:i.transform,containerWidth:c.width,iconWidth:o.width}),z={tag:"rect",attributes:Dt({},hv,{fill:"white"})},L=b.children?{children:b.children.map(gn)}:{},R={tag:"g",attributes:Dt({},k.inner),children:[gn(Dt({tag:b.tag,attributes:Dt({},b.attributes,k.path)},L))]},j={tag:"g",attributes:Dt({},k.outer),children:[R]},B="mask-".concat(u||k4()),Q="clip-".concat(u||k4()),K={tag:"mask",attributes:Dt({},hv,{id:B,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[z,j]},he={tag:"defs",children:[{tag:"clipPath",attributes:{id:Q},children:Ur(D)},K]};return n.push(he,{tag:"rect",attributes:Dt({fill:"currentColor","clip-path":"url(#".concat(Q,")"),mask:"url(#".concat(B,")")},hv)}),{children:n,attributes:t}}(wt):function(i){var n=i.children,t=i.attributes,o=i.main,c=i.transform,m=a5(i.styles);if(m.length>0&&(t.style=m),dv(c)){var g=hD({transform:c,containerWidth:o.width,iconWidth:o.width});n.push({tag:"g",attributes:Dt({},g.outer),children:[{tag:"g",attributes:Dt({},g.inner),children:[{tag:o.icon.tag,children:o.icon.children,attributes:Dt({},o.icon.attributes,g.path)}]}]})}else n.push(o.icon);return{children:n,attributes:t}}(wt),Ji=Wt.attributes;return wt.children=Wt.children,wt.attributes=Ji,g?function(i){var t=i.iconName,o=i.children,u=i.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Dt({},i.attributes,{id:!0===u?"".concat(i.prefix,"-").concat(Ke.familyPrefix,"-").concat(t):u}),children:o}]}]}(wt):function(i){var n=i.children,t=i.main,o=i.mask,c=i.attributes,u=i.styles,m=i.transform;if(dv(m)&&t.found&&!o.found){var x={x:t.width/t.height/2,y:.5};c.style=a5(Dt({},u,{"transform-origin":"".concat(x.x+m.x/16,"em ").concat(x.y+m.y/16,"em")}))}return[{tag:"svg",attributes:c,children:n}]}(wt)}var l5=function(n,t,o,c){var b,x,D,u=Object.keys(n),m=u.length,g=void 0!==c?function(n,t){return function(o,c,u,m){return n.call(t,o,c,u,m)}}(t,c):t;for(void 0===o?(b=1,D=n[u[0]]):(b=0,D=o);b<m;b++)D=g(D,n[x=u[b]],x,n);return D};function _D(i,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.skipHooks,c=void 0!==o&&o,u=Object.keys(n).reduce(function(m,g){var b=n[g];return b.icon?m[b.iconName]=b.icon:m[g]=b,m},{});"function"!=typeof zo.hooks.addPack||c?zo.styles[i]=Dt({},zo.styles[i]||{},u):zo.hooks.addPack(i,u),"fas"===i&&_D("fa",n)}var $r=zo.styles,HR=zo.shims,g3=function(){var n=function(c){return l5($r,function(u,m,g){return u[g]=l5(m,c,{}),u},{})};n(function(o,c,u){return c[3]&&(o[c[3]]=u),o}),n(function(o,c,u){var m=c[2];return o[u]=u,m.forEach(function(g){o[g]=u}),o});var t="far"in $r;l5(HR,function(o,c){var m=c[1];return"far"===m&&!t&&(m="fas"),o[c[0]]={prefix:m,iconName:c[2]},o},{})};function h5(i,n,t){if(i&&i[n]&&i[n][t])return{prefix:n,iconName:t,icon:i[n][t]}}function j2(i){var n=i.tag,t=i.attributes,o=void 0===t?{}:t,c=i.children,u=void 0===c?[]:c;return"string"==typeof i?o5(i):"<".concat(n," ").concat(function(i){return Object.keys(i||{}).reduce(function(n,t){return n+"".concat(t,'="').concat(o5(i[t]),'" ')},"").trim()}(o),">").concat(u.map(j2).join(""),"</").concat(n,">")}g3();function El(i){this.name="MissingIcon",this.message=i||"Icon unavailable",this.stack=(new Error).stack}(El.prototype=Object.create(Error.prototype)).constructor=El;var y3={fill:"currentColor"},wD={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},m5=(Dt({},y3,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),Dt({},wD,{attributeName:"opacity"}));function Cv(i){var n=i[0],t=i[1],u=Jg(i.slice(4),1)[0];return{found:!0,width:n,height:t,icon:Array.isArray(u)?{tag:"g",attributes:{class:"".concat(Ke.familyPrefix,"-").concat(H2.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ke.familyPrefix,"-").concat(H2.SECONDARY),fill:"currentColor",d:u[0]}},{tag:"path",attributes:{class:"".concat(Ke.familyPrefix,"-").concat(H2.PRIMARY),fill:"currentColor",d:u[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:u}}}}Dt({},y3,{cx:"256",cy:"364",r:"28"}),Dt({},wD,{attributeName:"r",values:"28;14;28;28;14;28;"}),Dt({},m5,{values:"1;0;1;1;0;1;"}),Dt({},y3,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Dt({},m5,{values:"1;0;0;0;0;1;"}),Dt({},y3,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Dt({},m5,{values:"0;0;1;1;0;0;"});var rV=function(){function i(){(function(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")})(this,i),this.definitions={}}return function(i,n,t){n&&YE(i.prototype,n)}(i,[{key:"add",value:function(){for(var t=this,o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var m=c.reduce(this._pullDefinitions,{});Object.keys(m).forEach(function(g){t.definitions[g]=Dt({},t.definitions[g]||{},m[g]),_D(g,m[g]),g3()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,o){var c=o.prefix&&o.iconName&&o.icon?{0:o}:o;return Object.keys(c).map(function(u){var m=c[u],g=m.prefix,b=m.iconName,x=m.icon;t[g]||(t[g]={}),t[g][b]=x}),t}}]),i}();function Dl(){Ke.autoAddCss&&!v5&&(function(i){if(i&&To){var n=Gn.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=i;for(var t=Gn.head.childNodes,o=null,c=t.length-1;c>-1;c--){var u=t[c],m=(u.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(m)>-1&&(o=u)}Gn.head.insertBefore(n,o)}}(function(){var i="fa",n=u3,t=Ke.familyPrefix,o=Ke.replacementClass,c='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(t!==i||o!==n){var u=new RegExp("\\.".concat(i,"\\-"),"g"),m=new RegExp("\\--".concat(i,"\\-"),"g"),g=new RegExp("\\.".concat(n),"g");c=c.replace(u,".".concat(t,"-")).replace(m,"--".concat(t,"-")).replace(g,".".concat(o))}return c}()),v5=!0)}function b3(i,n){return Object.defineProperty(i,"abstract",{get:n}),Object.defineProperty(i,"html",{get:function(){return i.abstract.map(function(o){return j2(o)})}}),Object.defineProperty(i,"node",{get:function(){if(To){var o=Gn.createElement("div");return o.innerHTML=i.html,o.children}}}),i}function Ev(i){var n=i.prefix,t=void 0===n?"fa":n,o=i.iconName;if(o)return h5(kD.definitions,t,o)||h5(zo.styles,t,o)}var i,kD=new rV,v5=!1,zD_transform=function(n){return function(n){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n?n.toLowerCase().split(" ").reduce(function(o,c){var u=c.toLowerCase().split("-"),m=u[0],g=u.slice(1).join("-");if(m&&"h"===g)return o.flipX=!0,o;if(m&&"v"===g)return o.flipY=!0,o;if(g=parseFloat(g),isNaN(g))return o;switch(m){case"grow":o.size=o.size+g;break;case"shrink":o.size=o.size-g;break;case"left":o.x=o.x-g;break;case"right":o.x=o.x+g;break;case"up":o.y=o.y-g;break;case"down":o.y=o.y+g;break;case"rotate":o.rotate=o.rotate+g}return o},t):t}(n)},ND=(i=function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.transform,o=void 0===t?Ds:t,c=n.symbol,u=void 0!==c&&c,m=n.mask,g=void 0===m?null:m,b=n.maskId,x=void 0===b?null:b,D=n.title,k=void 0===D?null:D,z=n.titleId,L=void 0===z?null:z,R=n.classes,j=void 0===R?[]:R,B=n.attributes,Q=void 0===B?{}:B,K=n.styles,he=void 0===K?{}:K;if(i){var _e=i.prefix,Ge=i.iconName,wt=i.icon;return b3(Dt({type:"icon"},i),function(){return Dl(),Ke.autoA11y&&(k?Q["aria-labelledby"]="".concat(Ke.replacementClass,"-title-").concat(L||k4()):(Q["aria-hidden"]="true",Q.focusable="false")),s5({icons:{main:Cv(wt),mask:g?Cv(g.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_e,iconName:Ge,transform:Dt({},Ds,o),symbol:u,title:k,maskId:x,titleId:L,extra:{attributes:Q,styles:he,classes:j}})})}},function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(n||{}).icon?n:Ev(n||{}),c=t.mask;return c&&(c=(c||{}).icon?c:Ev(c||{})),i(o,Dt({},t,{mask:c}))});const lV=["*"],dV=i=>{const n={"fa-spin":i.spin,"fa-pulse":i.pulse,"fa-fw":i.fixedWidth,"fa-border":i.border,"fa-inverse":i.inverse,"fa-layers-counter":i.counter,"fa-flip-horizontal":"horizontal"===i.flip||"both"===i.flip,"fa-flip-vertical":"vertical"===i.flip||"both"===i.flip,[`fa-${i.size}`]:null!==i.size,[`fa-rotate-${i.rotate}`]:null!==i.rotate,[`fa-pull-${i.pull}`]:null!==i.pull,[`fa-stack-${i.stackItemSize}`]:null!=i.stackItemSize};return Object.keys(n).map(t=>n[t]?t:null).filter(t=>t)};let Av=(()=>{class i{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),hV=(()=>{class i{constructor(){this.definitions={}}addIcons(...t){for(const o of t){o.prefix in this.definitions||(this.definitions[o.prefix]={}),this.definitions[o.prefix][o.iconName]=o;for(const c of o.icon[2])"string"==typeof c&&(this.definitions[o.prefix][c]=o)}}addIconPacks(...t){for(const o of t){const c=Object.keys(o).map(u=>o[u]);this.addIcons(...c)}}getIconDefinition(t,o){return t in this.definitions&&o in this.definitions[t]?this.definitions[t][o]:null}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),qr=(()=>{class i{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ae({type:i,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[Rn]}),i})(),LD=(()=>{class i{constructor(t,o){this.renderer=t,this.elementRef=o}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return i.\u0275fac=function(t){return new(t||i)(q(w2),q(mt))},i.\u0275cmp=sn({type:i,selectors:[["fa-stack"]],inputs:{size:"size"},features:[Rn],ngContentSelectors:lV,decls:1,vars:0,template:function(t,o){1&t&&(Bi(),rn(0))},encapsulation:2}),i})(),ka=(()=>{class i{constructor(t,o,c,u,m){this.sanitizer=t,this.config=o,this.iconLibrary=c,this.stackItem=u,this.classes=[],null!=m&&null==u&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let o=null;if(o=null==this.icon?this.config.fallbackIcon:this.icon,t){const c=this.findIconDefinition(o);if(null!=c){const u=this.buildParams();this.renderIcon(c,u)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const o=((i,n)=>(i=>void 0!==i.prefix&&void 0!==i.iconName)(i)?i:Array.isArray(i)&&2===i.length?{prefix:i[0],iconName:i[1]}:"string"==typeof i?{prefix:n,iconName:i}:void 0)(t,this.config.defaultPrefix);if("icon"in o)return o;const c=this.iconLibrary.getIconDefinition(o.prefix,o.iconName);return null!=c?c:((i=>{throw new Error(`Could not find icon with iconName=${i.iconName} and prefix=${i.prefix} in the icon library.`)})(o),null)}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},o="string"==typeof this.transform?zD_transform(this.transform):this.transform;return{title:this.title,transform:o,classes:[...dV(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,o){const c=ND(t,o);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(c.html.join("\n"))}}return i.\u0275fac=function(t){return new(t||i)(q(_l),q(Av),q(hV),q(qr,8),q(LD,8))},i.\u0275cmp=sn({type:i,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,o){2&t&&(b2("innerHTML",o.renderedIconHTML,Yf),dt("title",o.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[Rn],decls:0,vars:0,template:function(t,o){},encapsulation:2}),i})(),mV=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({}),i})();function Sv(i,n){1&i&&De(0,"app-start")}function pV(i,n){1&i&&De(0,"app-visualization")}let kv=(()=>{class i{constructor(){this.visEnabled=!1}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=sn({type:i,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(t,o){1&t&&(it(0,Sv,1,0,"app-start",0),it(1,pV,1,0,"app-visualization",0)),2&t&&(me("ngIf",!o.visEnabled),ue(1),me("ngIf",o.visEnabled))},styles:[""]}),i})();class Ss extends st{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:o}=this;if(n)throw t;return this._throwIfClosed(),o}next(n){super.next(this._value=n)}}function Mr(...i){return rc(i,oe(i))}const{isArray:Tv}=Array;function x3(i){return an(n=>function(i,n){return Tv(n)?i(...n):i(n)}(i,n))}const{isArray:vV}=Array,{getPrototypeOf:RD,prototype:VD,keys:_V}=Object;function OD(i){if(1===i.length){const n=i[0];if(vV(n))return{args:n,keys:null};if(function(i){return i&&"object"==typeof i&&RD(i)===VD}(n)){const t=_V(n);return{args:t.map(o=>n[o]),keys:t}}}return{args:i,keys:null}}function Nv(i,n){return i.reduce((t,o,c)=>(t[o]=n[c],t),{})}function ks(...i){const n=oe(i),t=ne(i),{args:o,keys:c}=OD(i);if(0===o.length)return rc([],n);const u=new Lt(function(i,n,t=qo){return o=>{C5(n,()=>{const{length:c}=i,u=new Array(c);let m=c,g=c;for(let b=0;b<c;b++)C5(n,()=>{const x=rc(i[b],n);let D=!1;x.subscribe(new Gt(o,k=>{u[b]=k,D||(D=!0,g--),g||o.next(t(u.slice()))},()=>{--m||o.complete()}))},o)},o)}}(o,n,c?m=>Nv(c,m):qo));return t?u.pipe(x3(t)):u}function C5(i,n,t){i?Ii(t,i,n):n()}function Iv(...i){return d7(1)(rc(i,oe(i)))}function Io(...i){const n=oe(i);return nn((t,o)=>{(n?Iv(i,t,n):Iv(i,t)).subscribe(o)})}function Jt(i){return nn((n,t)=>{yi(i).subscribe(new Gt(t,()=>t.complete(),x1)),!t.closed&&n.subscribe(t)})}function Lv(i,n){return nn((t,o)=>{let c=null,u=0,m=!1;const g=()=>m&&!c&&o.complete();t.subscribe(new Gt(o,b=>{null==c||c.unsubscribe();let x=0;const D=u++;yi(i(b,D)).subscribe(c=new Gt(o,k=>o.next(n?n(b,k,D,x++):k),()=>{c=null,g()}))},()=>{m=!0,g()}))})}function w3(i,n=qo){return i=null!=i?i:HD,nn((t,o)=>{let c,u=!0;t.subscribe(new Gt(o,m=>{const g=n(m);(u||!i(c,g))&&(u=!1,c=g,o.next(m))}))})}function HD(i,n){return i===n}function Lo(i,n){return nn((t,o)=>{let c=0;t.subscribe(new Gt(o,u=>i.call(n,u,c++)&&o.next(u)))})}let qD=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({}),i})();var XD={prefix:"fas",iconName:"angle-down",icon:[320,512,[],"f107","M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"]},YD={prefix:"fas",iconName:"angle-up",icon:[320,512,[],"f106","M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"]},s_={prefix:"fas",iconName:"cog",icon:[512,512,[],"f013","M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"]},l_={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"]},L3={prefix:"fas",iconName:"expand",icon:[448,512,[],"f065","M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"]},dS={prefix:"fas",iconName:"globe",icon:[496,512,[],"f0ac","M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"]},hj={prefix:"fas",iconName:"redo",icon:[512,512,[],"f01e","M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"]},CS={prefix:"fas",iconName:"search",icon:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]},mj={prefix:"fas",iconName:"server",icon:[512,512,[],"f233","M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"]},DW={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},AW={prefix:"fas",iconName:"user-circle",icon:[496,512,[],"f2bd","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"]};function Y1e(i,n){if(1&i&&($(0,"a",42),Ee(1),U()),2&i){const t=n.index,o=Ie();V1("href",o.navURL[t],Js),ue(1),O1(o.navText[t])}}function Z1e(i,n){1&i&&De(0,"img",43),2&i&&V1("src",n.$implicit,Js)}function K1e(i,n){if(1&i){const t=Kn();$(0,"div",44),$(1,"button",45),Me("click",function(){const u=Sn(t).index;return Ie().displayText(u)}),$(2,"p",46),Ee(3),U(),$(4,"p",47),Ee(5),U(),U(),U()}if(2&i){const t=n.index,o=Ie();ue(1),g2("id","btn",t,""),ue(2),Di(" ",o.videoTitle[t],""),ue(2),Di(" ",o.videoDescription[t],"")}}function Q1e(i,n){if(1&i&&($(0,"div",48),$(1,"div",49),De(2,"img",43),U(),De(3,"div",50),$(4,"div",51),Ee(5),U(),U()),2&i){const t=n.index,o=Ie();g2("id","Imag",t,""),ue(2),V1("src",o.videoImages[t],Js),ue(3),Di(" ",o.videoText[t]," ")}}function J1e(i,n){if(1&i&&($(0,"div",52),$(1,"div",53),De(2,"img",54),U(),$(3,"div",55),$(4,"p"),Ee(5),De(6,"br"),Ee(7),De(8,"br"),U(),U(),U()),2&i){const t=n.$implicit,o=n.index,c=Ie();ue(2),V1("src",c.usercircle,Js),ue(3),Di(" ",t," "),ue(2),Di(" ",c.creditsEmail[o],"")}}let eoe=(()=>{class i{constructor(t){this.appComponent=t,this.usercircle="assets/user-circle.svg",this.icon=AW,this.navText=["GitHub","Master Tables","HubMap Consortium"],this.navURL=["https://github.com/Chris77x64/ASCTVIS","https://docs.google.com/spreadsheets/d/1tK916JyG5ZSXW_cXfsyZnzXfjyoN-8B2GXLbYD6_vF0/edit#gid=559906129","https://hubmapconsortium.github.io/ccf/index.html"],this.headerText="The ASCT+B Explorer is a visualization tool for displaying anatomical structures, cell <br> types, and biomarker (ASCT+B) authored by domain\nexperts for different human organs. <br> The tables are used to develop a common coordinate framework (CCF) of the <br> healthy human body, represented as knowledge graph. See also\nHubmap Consortium website.",this.aboutText="The ASCT+B Explorer is a state-of-the-art visualization tool. This introduction gives an overview of the functionalities listed below.\nPlease use the selectors below to skip to any section you\u2019d want to specifically know about.",this.previewData=["assets/subgraph1.svg","assets/subgraph2.svg","assets/partial.svg","assets/containment.svg","assets/explore.svg"],this.videoTitle=["Introduction","Large Scale Graph Visualization","Modes of Operation","Partial View","Containment","Graph Exploration"],this.videoDescription=["Know about the Explorer, what it is and why was it built","Learn how to analyze large quantities of biological data","Different modes of operation with user interactivity","Hiding bio-markers allows a more compact representation","Visualization based on a hierarchical ordering of cell types","Explore all graph structures using a layered approach"],this.videoImages=["assets/introFirst.svg","assets/introCompleteGraph.svg","assets/introModes.svg","assets/introPartial.svg","assets/introContainment.svg","assets/introExplore.svg"],this.videoText=["The human reference atlas is an ongoing effort to analyze the estimated 37 trillion cells of the human body. It is a significant challenge to combine and link the vast amounts of data from more than 2000 scientists. In March 2020, the National Institute of Health (NIH) invited leading domain experts to encode the relevant knowledge in a unified and coherent way. The format agreed upon is called the ASCT+B format and can encode all entities and relationships of an organ. The ASCT+B Explorer can derive and visualize a graph representation for 11 different organs using their associated ASCT+B tables.","A coloring scheme is used in all drawings to distinguish between the three different entities. Anatomical structures will be visualized using red color, cell types will be visualized using blue color, and the color green is used for biomarkers. Crossing minimization, vertex splitting, and tree augmentation techniques are used to derive a visualization where it is possible to emphasize relationships between entities. The zoom feature allows viewing every graph structure in brief detail and can be used with the mouse wheel. It is also possible to rotate the drawing in order to have a different point of view.","However, we do not only want to construct static drawings but to give the user the possibility to analyze and explore the graph interactively. For this reason, we will introduce four different modes of operation. The entire graph will be drawn in the complete graph mode. Partial views, where parts of the graph are hidden, allow for a more compact representation. The user can click on any vertex and display all reachable vertices. The containment mode allows expanding and collapsing operations on the container where cell type vertices are arranged. The exploration mode allows doing an interactive graph search. There exists a search feature to search a specific vertex. Furthermore, the search menu can highlight the selected vertex with an oval circle around it, and it is possible to switch to the exploration mode with the selected vertex as the root.","The partial-view mode hides all biomarker vertices. This decreases complexity and allows the user to explore the relationships between anatomical structures and cell types. Whenever a mouse click selects a vertex, all reachable biomarker vertices will be displayed, and the associated subgraph is highlighted. ","Data classification into a finite set of categories is a classical task in data science. In the case of biological data and cell types, similarity in function or local proximity of cell types is a reason for categorizing one more cell type vertices in a container. Furthermore, a container may include another container to support a hierarchy that can be expressed as a tree. Every container is visualized by black rectangles and can collapse with a mouse click. A black vertex represents a collapsed container, and a mouse click will expand the container. Hiding non-important information is a vital ingredient when working on large-scale data sets. Since this is a cell type specific point of view, we only want to display vertices that are related to expanded cell type vertices. The ASCT+B Explorer supports two views of containment: The first (Complete Graph + Containment) displays the entire graph. The black vertices representing collapsed containers will have a label that indicates the number of the hidden biomarker. The second containment view (Partial Graph + Containment) hides all biomarkers and tries to emphasize the connections between the anatomical tree. The black vertices will have a label that indicates how many disjoint anatomical structure vertices are involved in the respective container, which measures how vital the container might be.   ","A layered graph exploration is beneficial when dealing with large datasets. This allows for reducing the amount of data that will be displayed. The user can explore the graph representation of an organ starting from the red anatomical tree. A simple mouse click on any vertex allows displaying all reachable vertices in the following two layers. In order to go backward, one can always click at the root of the tree, which is drawn in black. "],this.videoTimeStamps=[50,100,150,200,250,300],this.creditsName=["Christoph Hekeler","Prof. Dr. Michael Kaufmann","Prof. Dr. Katy Boener","Prof. Dr. Alexander Wolff","Bruce W Herr II"],this.creditsEmail=["chris.hekeler @ gmx.de","mk @ informatik.uni-tuebingen.de","katy @ indiana.edu","alexander.wolff @ uni-wuerzburg.de","bherr @ indiana.edu"],this.appComponent=t,this.currentText=0}ngOnInit(){const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",document.body.appendChild(t)}onReady(t){let o=document.querySelector("iframe");null!=o&&(o.style.width="100%",o.style.height="100%",this.player=t.target)}ngAfterViewInit(){this.displayText(0),document.getElementById("btn0").focus(),scroll(0,0)}goToVis(){this.appComponent.visEnabled=!0}displayText(t){document.getElementById("Imag"+this.currentText).style.visibility="hidden",document.getElementById("Imag"+t).style.visibility="visible",document.getElementById("Imag"+this.currentText).style.display="none",document.getElementById("Imag"+t).style.display="flex",this.currentText=t}playVideoTo(t){null!=this.player&&this.player.seekTo(t,!0)}openImprint(){document.getElementById("backdrop2").style.display="block",document.getElementById("exampleModal2").style.display="block",document.getElementById("exampleModal2").classList.add("show")}closeImprint(){document.getElementById("backdrop2").style.display="none",document.getElementById("exampleModal2").style.display="none",document.getElementById("exampleModal2").classList.remove("show")}}return i.\u0275fac=function(t){return new(t||i)(q(kv))},i.\u0275cmp=sn({type:i,selectors:[["app-start"]],decls:90,vars:6,consts:[[1,"container-fluid",2,"height","1800px"],["id","mainHeader",1,"row",2,"height","45%"],["id","navbarDIV",2,"height","10%"],["id","navID",1,"navbar","d-flex"],[1,"navbar-brand"],[1,"d-flex","flex-row-reverse"],[3,"href",4,"ngFor","ngForOf"],["id","",2,"height","40%","color","white","display","flex","flex-direction","column"],[2,"text-align","center","height","20%"],[1,"",2,"padding-top","1%","height","40%","flex-wrap","nowrap","justify-items","center","display","grid"],[1,"justify-content-center","d-flex",2,"display","flex","align-items","flex-end","height","40%"],[1,"btn-primary","btn-lg",2,"height","50%","align-items","center","display","grid",3,"click"],[1,"d-flex","justify-content-center","align-items-center",2,"height","50%"],["class","w-100  h-100 ","style","min-width: 0",3,"src",4,"ngFor","ngForOf"],["id","about",1,"row",2,"height","50%"],["id","aboutText",1,"row","d-flex","justify-content-center",2,"height","18%","padding-bottom","1%","padding-top","1%","width","100%"],[1,"col-md-3"],[1,"col-md-6"],["id","aboutMain",1,"d-flex",2,"height","87%"],[1,"col-md-1"],["id","actionsHeight",1,"col-md-5","h-75"],["class","divPAD","style","height: 16.5%",4,"ngFor","ngForOf"],["class","col-md-5 h-75","style","visibility: hidden; display: none;flex-direction: column",3,"id",4,"ngFor","ngForOf"],["id","collab",1,"row",2,"height","15%"],[1,"row",2,"height","2%"],[1,"row",2,"height","5%","text-align","center","color","white"],[1,"row",2,"height","18%"],[1,"row",2,"height","63%"],[1,"w-100","h-100",2,"display","flex","justify-content","space-between"],["style","color: white;text-align: center",4,"ngFor","ngForOf"],[1,"row",2,"text-align","end","color","white","display","flex","justify-content","end"],["id","impressumA","href","javascript:void(0)",3,"click"],["id","exampleModal2","tabindex","-1","aria-labelledby","exampleModalLabel","aria-modal","true","role","dialog",1,"modal","fade",3,"click"],["role","document",1,"modal-dialog","h-100","d-flex","justify-content-center","align-items-center",2,"transform","translateY(-15%)"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"w-100",2,"text-align","center"],[1,"modal-body"],["href","mailto:philipp-christoph.hekeler@uni-tuebingen.de"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["id","backdrop2",1,"modal-backdrop","fade","show",2,"display","none"],[3,"href"],[1,"w-100","h-100",2,"min-width","0",3,"src"],[1,"divPAD",2,"height","16.5%"],[1,"section-selector","w-75",3,"id","click"],[1,"ss-header"],[1,"ss-desc"],[1,"col-md-5","h-75",2,"visibility","hidden","display","none","flex-direction","column",3,"id"],[1,"h-50"],[2,"height","10%"],[2,"height","40%","display","flex","flex-direction","column"],[2,"color","white","text-align","center"],[1,"row","w-100","h-50"],[1,"w-100","h-100",3,"src"],[1,"row","w-100","h-50",2,"display","flex","align-items","flex-end","white-space","nowrap"]],template:function(t,o){1&t&&($(0,"div",0),$(1,"div",1),$(2,"div",2),$(3,"nav",3),De(4,"span",4),$(5,"div",5),it(6,Y1e,2,2,"a",6),U(),U(),U(),$(7,"div",7),$(8,"div",8),$(9,"h1"),Ee(10," ASCT+B Explorer"),U(),U(),$(11,"div",9),Ee(12," The ASCT+B Explorer is a visualization tool for displaying anatomical structures, cell "),De(13,"br"),Ee(14," types, and biomarker (ASCT+B) authored by domain experts for different human organs. "),De(15,"br"),Ee(16," The tables are used to develop a common coordinate framework (CCF) of the "),De(17,"br"),Ee(18," healthy human body, represented as knowledge graph. See also Hubmap Consortium website. "),U(),$(19,"div",10),$(20,"button",11),Me("click",function(){return o.goToVis()}),Ee(21," Go to Visualization"),U(),U(),U(),$(22,"div",12),it(23,Z1e,1,1,"img",13),U(),U(),$(24,"div",14),$(25,"div",15),De(26,"div",16),$(27,"div",17),$(28,"h2"),Ee(29,"ABOUT"),U(),$(30,"p"),Ee(31),U(),U(),De(32,"div",16),U(),$(33,"div",18),De(34,"div",19),$(35,"div",20),it(36,K1e,6,3,"div",21),U(),it(37,Q1e,6,3,"div",22),De(38,"div",19),U(),U(),$(39,"div",23),De(40,"div",24),$(41,"div",25),$(42,"h1"),Ee(43," Collaborator "),U(),U(),De(44,"div",26),$(45,"div",27),$(46,"div",28),it(47,J1e,9,3,"div",29),U(),U(),$(48,"p",30),$(49,"a",31),Me("click",function(){return o.openImprint()}),Ee(50,"Imprint"),U(),U(),U(),U(),$(51,"div",32),Me("click",function(){return o.closeImprint()}),$(52,"div",33),$(53,"div",34),$(54,"div",35),$(55,"h5",36),Ee(56,"Impressum"),U(),U(),$(57,"div",37),$(58,"h1"),Ee(59,"Impressum"),U(),$(60,"p"),Ee(61,"Angaben gem\xe4\xdf \xa7 5 TMG"),U(),$(62,"p"),Ee(63,"Philipp Hekeler "),De(64,"br"),Ee(65," Steinb\xf6\xdfstr. 68"),De(66,"br"),Ee(67," 72074 T\xfcbingen "),De(68,"br"),U(),$(69,"p"),$(70,"strong"),Ee(71,"Vertreten durch: "),U(),De(72,"br"),Ee(73," Philipp Hekeler"),De(74,"br"),U(),$(75,"p"),$(76,"strong"),Ee(77,"Kontakt:"),U(),De(78,"br"),Ee(79," Telefon: 01573 7797360"),De(80,"br"),Ee(81," E-Mail: "),$(82,"a",38),Ee(83,"philipp-christoph.hekeler@uni-tuebingen.de"),U(),U(),$(84,"p"),De(85,"br"),U(),U(),$(86,"div",39),$(87,"button",40),Me("click",function(){return o.closeImprint()}),Ee(88,"Close"),U(),U(),U(),U(),U(),De(89,"div",41)),2&t&&(ue(6),me("ngForOf",o.navText),ue(17),me("ngForOf",o.previewData),ue(8),Di(" ",o.aboutText," "),ue(5),me("ngForOf",o.videoTitle),ue(1),me("ngForOf",o.videoImages),ue(10),me("ngForOf",o.creditsName))},directives:[hl],styles:['#mainHeader[_ngcontent-%COMP%]{background-color:#262626}#navbarDIV[_ngcontent-%COMP%]{color:#fff}#navbarDIV[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;padding-left:1vw}#collab[_ngcontent-%COMP%]{background-color:#000;color:#fff}#textDIV[_ngcontent-%COMP%]{color:#fff;text-align:center}.spacerDIV10[_ngcontent-%COMP%]{height:10%}.spacerDIV5[_ngcontent-%COMP%]{height:5%}#laptop[_ngcontent-%COMP%]{height:55%}#aboutText[_ngcontent-%COMP%]{text-align:center}#tutorialVideo[_ngcontent-%COMP%]{height:100%;width:100%}iframe[_ngcontent-%COMP%]{height:100%!important;width:100%!important}.autow[_ngcontent-%COMP%]{display:inline-block;width:100%;height:100%}#impressumA[_ngcontent-%COMP%]:link{color:#fff}#aboutMain[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background-color:#000;border:.125rem solid black;border-radius:.5rem;border-left-width:.9375rem;color:#fff}.ss-header[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-weight:500;font-size:14pt}.section-selector[_ngcontent-%COMP%]{text-align:left;outline:none;border:.125rem solid black;border-radius:.5rem;border-left-width:.9375rem;background-color:#fff;transition:all .2s}.ss-desc[_ngcontent-%COMP%]{color:gray}.divPAD[_ngcontent-%COMP%]{padding-top:1vh}']}),i})();var xS=je(817),pj=je(951),gj=je(243);function Il(i,...n){return n.length?n.some(t=>i[t]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}class doe extends Nt{constructor(n,t){super()}schedule(n,t=0){return this}}const ES={setInterval(...i){const{delegate:n}=ES;return((null==n?void 0:n.setInterval)||setInterval)(...i)},clearInterval(i){const{delegate:n}=ES;return((null==n?void 0:n.clearInterval)||clearInterval)(i)},delegate:void 0};class _j extends doe{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){if(this.closed)return this;this.state=n;const o=this.id,c=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(c,o,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(c,this.id,t),this}requestAsyncId(n,t,o=0){return ES.setInterval(n.flush.bind(n,this),o)}recycleAsyncId(n,t,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return t;ES.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(n,t);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let c,o=!1;try{this.work(n)}catch(u){o=!0,c=u||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),c}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:o}=t;this.work=this.state=this.scheduler=null,this.pending=!1,vi(o,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}}const zW={now:()=>(zW.delegate||Date).now(),delegate:void 0};class D_{constructor(n,t=D_.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,o){return new this.schedulerActionCtor(this,n).schedule(o,t)}}D_.now=zW.now;class yj extends D_{constructor(n,t=D_.now){super(n,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let o;this._active=!0;do{if(o=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,o){for(;n=t.shift();)n.unsubscribe();throw o}}}const NW=new yj(_j),IW=NW;function bj(i,n=NW){return nn((t,o)=>{let c=null,u=null,m=null;const g=()=>{if(c){c.unsubscribe(),c=null;const x=u;u=null,o.next(x)}};function b(){const x=m+i,D=n.now();if(D<x)return c=this.schedule(void 0,x-D),void o.add(c);g()}t.subscribe(new Gt(o,x=>{u=x,m=n.now(),c||(c=n.schedule(b,i),o.add(c))},()=>{g(),o.complete()},void 0,()=>{u=c=null}))})}function LW(i){return Lo((n,t)=>i<=t)}function Pt(i){return null!=i&&"false"!=`${i}`}function W5(i,n=0){return function(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):n}function DS(i){return Array.isArray(i)?i:[i]}function gi(i){return null==i?"":"string"==typeof i?i:`${i}px`}function Ll(i){return i instanceof mt?i.nativeElement:i}let Cj;try{Cj="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){Cj=!1}let G5,Xr=(()=>{class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(i){return i===TE}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Cj)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(t){return new(t||i)(ce(Du))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),AS=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({}),i})();const FW=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function RW(){if(G5)return G5;if("object"!=typeof document||!document)return G5=new Set(FW),G5;let i=document.createElement("input");return G5=new Set(FW.filter(n=>(i.setAttribute("type",n),i.type===n))),G5}let A_,B3,xj;function S_(i){return function(){if(null==A_&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>A_=!0}))}finally{A_=A_||!1}return A_}()?i:!!i.capture}function poe(){if(null==B3){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return B3=!1,B3;if("scrollBehavior"in document.documentElement.style)B3=!0;else{const i=Element.prototype.scrollTo;B3=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return B3}function VW(i){if(function(){if(null==xj){const i="undefined"!=typeof document?document.head:null;xj=!(!i||!i.createShadowRoot&&!i.attachShadow)}return xj}()){const n=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function j3(i){return i.composedPath?i.composedPath()[0]:i.target}function Mj(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}let OW=(()=>{class i{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),voe=(()=>{class i{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,o)=>this._cleanupObserver(o))}observe(t){const o=Ll(t);return new Lt(c=>{const m=this._observeElement(o).subscribe(c);return()=>{m.unsubscribe(),this._unobserveElement(o)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const o=new st,c=this._mutationObserverFactory.create(u=>o.next(u));c&&c.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:c,stream:o,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:o,stream:c}=this._observedElements.get(t);o&&o.disconnect(),c.complete(),this._observedElements.delete(t)}}}return i.\u0275fac=function(t){return new(t||i)(ce(OW))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),wj=(()=>{class i{constructor(t,o,c){this._contentObserver=t,this._elementRef=o,this._ngZone=c,this.event=new rt,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Pt(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=W5(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(bj(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null==(t=this._currentSubscription)||t.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(q(voe),q(mt),q(Et))},i.\u0275dir=Ae({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),kS=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({providers:[OW]}),i})();function TS(i,n){return(i.getAttribute(n)||"").match(/\S+/g)||[]}const HW="cdk-describedby-message-container",BW="cdk-describedby-message",zS="cdk-describedby-host";let boe=0;const $2=new Map;let Ho=null,Coe=(()=>{class i{constructor(t){this._document=t}describe(t,o,c){if(!this._canBeDescribed(t,o))return;const u=Ej(o,c);"string"!=typeof o?(jW(o),$2.set(u,{messageElement:o,referenceCount:0})):$2.has(u)||this._createMessageElement(o,c),this._isElementDescribedByMessage(t,u)||this._addMessageReference(t,u)}removeDescription(t,o,c){if(!o||!this._isElementNode(t))return;const u=Ej(o,c);if(this._isElementDescribedByMessage(t,u)&&this._removeMessageReference(t,u),"string"==typeof o){const m=$2.get(u);m&&0===m.referenceCount&&this._deleteMessageElement(u)}Ho&&0===Ho.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const t=this._document.querySelectorAll(`[${zS}]`);for(let o=0;o<t.length;o++)this._removeCdkDescribedByReferenceIds(t[o]),t[o].removeAttribute(zS);Ho&&this._deleteMessagesContainer(),$2.clear()}_createMessageElement(t,o){const c=this._document.createElement("div");jW(c),c.textContent=t,o&&c.setAttribute("role",o),this._createMessagesContainer(),Ho.appendChild(c),$2.set(Ej(t,o),{messageElement:c,referenceCount:0})}_deleteMessageElement(t){var c;const o=$2.get(t);null==(c=null==o?void 0:o.messageElement)||c.remove(),$2.delete(t)}_createMessagesContainer(){if(!Ho){const t=this._document.getElementById(HW);null==t||t.remove(),Ho=this._document.createElement("div"),Ho.id=HW,Ho.style.visibility="hidden",Ho.classList.add("cdk-visually-hidden"),this._document.body.appendChild(Ho)}}_deleteMessagesContainer(){Ho&&(Ho.remove(),Ho=null)}_removeCdkDescribedByReferenceIds(t){const o=TS(t,"aria-describedby").filter(c=>0!=c.indexOf(BW));t.setAttribute("aria-describedby",o.join(" "))}_addMessageReference(t,o){const c=$2.get(o);(function(i,n,t){const o=TS(i,n);o.some(c=>c.trim()==t.trim())||(o.push(t.trim()),i.setAttribute(n,o.join(" ")))})(t,"aria-describedby",c.messageElement.id),t.setAttribute(zS,""),c.referenceCount++}_removeMessageReference(t,o){const c=$2.get(o);c.referenceCount--,function(i,n,t){const c=TS(i,n).filter(u=>u!=t.trim());c.length?i.setAttribute(n,c.join(" ")):i.removeAttribute(n)}(t,"aria-describedby",c.messageElement.id),t.removeAttribute(zS)}_isElementDescribedByMessage(t,o){const c=TS(t,"aria-describedby"),u=$2.get(o),m=u&&u.messageElement.id;return!!m&&-1!=c.indexOf(m)}_canBeDescribed(t,o){if(!this._isElementNode(t))return!1;if(o&&"object"==typeof o)return!0;const c=null==o?"":`${o}`.trim(),u=t.getAttribute("aria-label");return!(!c||u&&u.trim()===c)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return i.\u0275fac=function(t){return new(t||i)(ce(ut))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Ej(i,n){return"string"==typeof i?`${n||""}/${i}`:i}function jW(i){i.id||(i.id=`${BW}-${boe++}`)}class UW{constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new st,this._typeaheadSubscription=Nt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new st,this.change=new st,n instanceof On&&n.changes.subscribe(t=>{if(this._activeItem){const c=t.toArray().indexOf(this._activeItem);c>-1&&c!==this._activeItemIndex&&(this._activeItemIndex=c)}})}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(function(i,n,t){const o=Be(i)||n||t?{next:i,error:n,complete:t}:i;return o?nn((c,u)=>{var m;null===(m=o.subscribe)||void 0===m||m.call(o);let g=!0;c.subscribe(new Gt(u,b=>{var x;null===(x=o.next)||void 0===x||x.call(o,b),u.next(b)},()=>{var b;g=!1,null===(b=o.complete)||void 0===b||b.call(o),u.complete()},b=>{var x;g=!1,null===(x=o.error)||void 0===x||x.call(o,b),u.error(b)},()=>{var b,x;g&&(null===(b=o.unsubscribe)||void 0===b||b.call(o)),null===(x=o.finalize)||void 0===x||x.call(o)}))}):qo}(t=>this._pressedLetters.push(t)),bj(n),Lo(()=>this._pressedLetters.length>0),an(()=>this._pressedLetters.join(""))).subscribe(t=>{const o=this._getItemsArray();for(let c=1;c<o.length+1;c++){const u=(this._activeItemIndex+c)%o.length,m=o[u];if(!this._skipPredicateFn(m)&&0===m.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(u);break}}this._pressedLetters=[]}),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}setActiveItem(n){const t=this._activeItem;this.updateActiveItem(n),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(n){const t=n.keyCode,c=["altKey","ctrlKey","metaKey","shiftKey"].every(u=>!n[u]||this._allowedModifierKeys.indexOf(u)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&c){this.setNextItemActive();break}return;case 38:if(this._vertical&&c){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&c){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&c){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&c){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&c){this.setLastItemActive();break}return;default:return void((c||Il(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const t=this._getItemsArray(),o="number"==typeof n?n:t.indexOf(n),c=t[o];this._activeItem=null==c?null:c,this._activeItemIndex=o}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const t=this._getItemsArray();for(let o=1;o<=t.length;o++){const c=(this._activeItemIndex+n*o+t.length)%t.length;if(!this._skipPredicateFn(t[c]))return void this.setActiveItem(c)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,t){const o=this._getItemsArray();if(o[n]){for(;this._skipPredicateFn(o[n]);)if(!o[n+=t])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof On?this._items.toArray():this._items}}class xoe extends UW{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}}class Moe extends UW{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}function qW(i){return 0===i.offsetX&&0===i.offsetY}function WW(i){const n=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const koe=new be("cdk-input-modality-detector-options"),Toe={ignoreKeys:[18,17,224,91,16]},X5=S_({passive:!0,capture:!0});let zoe=(()=>{class i{constructor(t,o,c,u){this._platform=t,this._mostRecentTarget=null,this._modality=new Ss(null),this._lastTouchMs=0,this._onKeydown=m=>{var g,b;(null==(b=null==(g=this._options)?void 0:g.ignoreKeys)?void 0:b.some(x=>x===m.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=j3(m))},this._onMousedown=m=>{Date.now()-this._lastTouchMs<650||(this._modality.next(qW(m)?"keyboard":"mouse"),this._mostRecentTarget=j3(m))},this._onTouchstart=m=>{WW(m)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=j3(m))},this._options=Ct(Ct({},Toe),u),this.modalityDetected=this._modality.pipe(LW(1)),this.modalityChanged=this.modalityDetected.pipe(w3()),t.isBrowser&&o.runOutsideAngular(()=>{c.addEventListener("keydown",this._onKeydown,X5),c.addEventListener("mousedown",this._onMousedown,X5),c.addEventListener("touchstart",this._onTouchstart,X5)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,X5),document.removeEventListener("mousedown",this._onMousedown,X5),document.removeEventListener("touchstart",this._onTouchstart,X5))}}return i.\u0275fac=function(t){return new(t||i)(ce(Xr),ce(Et),ce(ut),ce(koe,8))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Noe=new be("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Loe=new be("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Foe=(()=>{class i{constructor(t,o,c,u){this._ngZone=o,this._defaultOptions=u,this._document=c,this._liveElement=t||this._createLiveElement()}announce(t,...o){const c=this._defaultOptions;let u,m;return 1===o.length&&"number"==typeof o[0]?m=o[0]:[u,m]=o,this.clear(),clearTimeout(this._previousTimeout),u||(u=c&&c.politeness?c.politeness:"polite"),null==m&&c&&(m=c.duration),this._liveElement.setAttribute("aria-live",u),this._ngZone.runOutsideAngular(()=>new Promise(g=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,g(),"number"==typeof m&&(this._previousTimeout=setTimeout(()=>this.clear(),m))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t;clearTimeout(this._previousTimeout),null==(t=this._liveElement)||t.remove(),this._liveElement=null}_createLiveElement(){const t="cdk-live-announcer-element",o=this._document.getElementsByClassName(t),c=this._document.createElement("div");for(let u=0;u<o.length;u++)o[u].remove();return c.classList.add(t),c.classList.add("cdk-visually-hidden"),c.setAttribute("aria-atomic","true"),c.setAttribute("aria-live","polite"),this._document.body.appendChild(c),c}}return i.\u0275fac=function(t){return new(t||i)(ce(Noe,8),ce(Et),ce(ut),ce(Loe,8))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Roe=new be("cdk-focus-monitor-default-options"),NS=S_({passive:!0,capture:!0});let U3=(()=>{class i{constructor(t,o,c,u,m){this._ngZone=t,this._platform=o,this._inputModalityDetector=c,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new st,this._rootNodeFocusAndBlurListener=g=>{const b=j3(g),x="focus"===g.type?this._onFocus:this._onBlur;for(let D=b;D;D=D.parentElement)x.call(this,g,D)},this._document=u,this._detectionMode=(null==m?void 0:m.detectionMode)||0}monitor(t,o=!1){const c=Ll(t);if(!this._platform.isBrowser||1!==c.nodeType)return Mr(null);const u=VW(c)||this._getDocument(),m=this._elementInfo.get(c);if(m)return o&&(m.checkChildren=!0),m.subject;const g={checkChildren:o,subject:new st,rootNode:u};return this._elementInfo.set(c,g),this._registerGlobalListeners(g),g.subject}stopMonitoring(t){const o=Ll(t),c=this._elementInfo.get(o);c&&(c.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(c))}focusVia(t,o,c){const u=Ll(t);u===this._getDocument().activeElement?this._getClosestElementsInfo(u).forEach(([g,b])=>this._originChanged(g,o,b)):(this._setOrigin(o),"function"==typeof u.focus&&u.focus(c))}ngOnDestroy(){this._elementInfo.forEach((t,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,o){t.classList.toggle("cdk-focused",!!o),t.classList.toggle("cdk-touch-focused","touch"===o),t.classList.toggle("cdk-keyboard-focused","keyboard"===o),t.classList.toggle("cdk-mouse-focused","mouse"===o),t.classList.toggle("cdk-program-focused","program"===o)}_setOrigin(t,o=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&o,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,o){const c=this._elementInfo.get(o),u=j3(t);!c||!c.checkChildren&&o!==u||this._originChanged(o,this._getFocusOrigin(u),c)}_onBlur(t,o){const c=this._elementInfo.get(o);!c||c.checkChildren&&t.relatedTarget instanceof Node&&o.contains(t.relatedTarget)||(this._setClasses(o),this._emitOrigin(c.subject,null))}_emitOrigin(t,o){this._ngZone.run(()=>t.next(o))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const o=t.rootNode,c=this._rootNodeFocusListenerCount.get(o)||0;c||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,NS),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,NS)}),this._rootNodeFocusListenerCount.set(o,c+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Jt(this._stopInputModalityDetector)).subscribe(u=>{this._setOrigin(u,!0)}))}_removeGlobalListeners(t){const o=t.rootNode;if(this._rootNodeFocusListenerCount.has(o)){const c=this._rootNodeFocusListenerCount.get(o);c>1?this._rootNodeFocusListenerCount.set(o,c-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,NS),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,NS),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,o,c){this._setClasses(t,o),this._emitOrigin(c.subject,o),this._lastFocusOrigin=o}_getClosestElementsInfo(t){const o=[];return this._elementInfo.forEach((c,u)=>{(u===t||c.checkChildren&&u.contains(t))&&o.push([u,c])}),o}}return i.\u0275fac=function(t){return new(t||i)(ce(Et),ce(Xr),ce(zoe),ce(ut,8),ce(Roe,8))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const XW="cdk-high-contrast-black-on-white",YW="cdk-high-contrast-white-on-black",Dj="cdk-high-contrast-active";let ZW=(()=>{class i{constructor(t,o){this._platform=t,this._document=o}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const o=this._document.defaultView||window,c=o&&o.getComputedStyle?o.getComputedStyle(t):null,u=(c&&c.backgroundColor||"").replace(/ /g,"");switch(t.remove(),u){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Dj),t.remove(XW),t.remove(YW),this._hasCheckedHighContrastMode=!0;const o=this.getHighContrastMode();1===o?(t.add(Dj),t.add(XW)):2===o&&(t.add(Dj),t.add(YW))}}}return i.\u0275fac=function(t){return new(t||i)(ce(Xr),ce(ut))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Voe=(()=>{class i{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(t){return new(t||i)(ce(ZW))},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({imports:[[AS,kS]]}),i})();const Ooe=new be("cdk-dir-doc",{providedIn:"root",factory:function(){return Bf(ut)}});let k_=(()=>{class i{constructor(t){if(this.value="ltr",this.change=new rt,t){const c=t.documentElement?t.documentElement.dir:null,u=(t.body?t.body.dir:null)||c;this.value="ltr"===u||"rtl"===u?u:"ltr"}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(t){return new(t||i)(ce(Ooe,8))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),T_=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({}),i})();const KW=new cs("13.0.2");class QW{}const Fl="*";function Y5(i,n){return{type:7,name:i,definitions:n,options:{}}}function $3(i,n=null){return{type:4,styles:n,timings:i}}function JW(i,n=null){return{type:2,steps:i,options:n}}function Ki(i){return{type:6,styles:i,offset:null}}function q2(i,n,t){return{type:0,name:i,styles:n,options:t}}function Boe(i){return{type:5,steps:i}}function j4(i,n,t=null){return{type:1,expr:i,animation:n,options:t}}function joe(i=null){return{type:9,options:i}}function Uoe(i,n,t=null){return{type:11,selector:i,animation:n,options:t}}function eG(i){Promise.resolve(null).then(i)}class Z5{constructor(n=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){eG(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class tG{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let t=0,o=0,c=0;const u=this.players.length;0==u?eG(()=>this._onFinish()):this.players.forEach(m=>{m.onDone(()=>{++t==u&&this._onFinish()}),m.onDestroy(()=>{++o==u&&this._onDestroy()}),m.onStart(()=>{++c==u&&this._onStart()})}),this.totalTime=this.players.reduce((m,g)=>Math.max(m,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const t=n*this.totalTime;this.players.forEach(o=>{const c=o.totalTime?Math.min(1,t/o.totalTime):1;o.setPosition(c)})}getPosition(){const n=this.players.reduce((t,o)=>null===t||o.totalTime>t.totalTime?o:t,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}function nG(){return"undefined"!=typeof window&&void 0!==window.document}function Sj(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function U4(i){switch(i.length){case 0:return new Z5;case 1:return i[0];default:return new tG(i)}}function iG(i,n,t,o,c={},u={}){const m=[],g=[];let b=-1,x=null;if(o.forEach(D=>{const k=D.offset,z=k==b,L=z&&x||{};Object.keys(D).forEach(R=>{let j=R,B=D[R];if("offset"!==R)switch(j=n.normalizePropertyName(j,m),B){case"!":B=c[R];break;case Fl:B=u[R];break;default:B=n.normalizeStyleValue(R,j,B,m)}L[j]=B}),z||g.push(L),x=L,b=k}),m.length){const D="\n - ";throw new Error(`Unable to animate due to the following errors:${D}${m.join(D)}`)}return g}function kj(i,n,t,o){switch(n){case"start":i.onStart(()=>o(t&&Tj(t,"start",i)));break;case"done":i.onDone(()=>o(t&&Tj(t,"done",i)));break;case"destroy":i.onDestroy(()=>o(t&&Tj(t,"destroy",i)))}}function Tj(i,n,t){const o=t.totalTime,u=zj(i.element,i.triggerName,i.fromState,i.toState,n||i.phaseName,null==o?i.totalTime:o,!!t.disabled),m=i._data;return null!=m&&(u._data=m),u}function zj(i,n,t,o,c="",u=0,m){return{element:i,triggerName:n,fromState:t,toState:o,phaseName:c,totalTime:u,disabled:!!m}}function Bo(i,n,t){let o;return i instanceof Map?(o=i.get(n),o||i.set(n,o=t)):(o=i[n],o||(o=i[n]=t)),o}function rG(i){const n=i.indexOf(":");return[i.substring(1,n),i.substr(n+1)]}let Nj=(i,n)=>!1,Ij=(i,n)=>!1,oG=(i,n,t)=>[];const aG=Sj();(aG||"undefined"!=typeof Element)&&(Nj=nG()?(i,n)=>{for(;n&&n!==document.documentElement;){if(n===i)return!0;n=n.parentNode||n.host}return!1}:(i,n)=>i.contains(n),Ij=(()=>{if(aG||Element.prototype.matches)return(i,n)=>i.matches(n);{const i=Element.prototype,n=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return n?(t,o)=>n.apply(t,[o]):Ij}})(),oG=(i,n,t)=>{let o=[];if(t){const c=i.querySelectorAll(n);for(let u=0;u<c.length;u++)o.push(c[u])}else{const c=i.querySelector(n);c&&o.push(c)}return o});let q3=null,sG=!1;function Lj(i){q3||(q3=("undefined"!=typeof document?document.body:null)||{},sG=!!q3.style&&"WebkitAppearance"in q3.style);let n=!0;return q3.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(n=i in q3.style,!n&&sG&&(n="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in q3.style)),n}const Fj=Ij,Rj=Nj,Vj=oG;function cG(i){const n={};return Object.keys(i).forEach(t=>{const o=t.replace(/([a-z])([A-Z])/g,"$1-$2");n[o]=i[t]}),n}let lG=(()=>{class i{validateStyleProperty(t){return Lj(t)}matchesElement(t,o){return Fj(t,o)}containsElement(t,o){return Rj(t,o)}query(t,o,c){return Vj(t,o,c)}computeStyle(t,o,c){return c||""}animate(t,o,c,u,m,g=[],b){return new Z5(c,u)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})(),Oj=(()=>{class i{}return i.NOOP=new lG,i})();const Pj="ng-enter",IS="ng-leave",LS="ng-trigger",FS=".ng-trigger",fG="ng-animating",Hj=".ng-animating";function W3(i){if("number"==typeof i)return i;const n=i.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Bj(parseFloat(n[1]),n[2])}function Bj(i,n){return"s"===n?1e3*i:i}function RS(i,n,t){return i.hasOwnProperty("duration")?i:function(i,n,t){let c,u=0,m="";if("string"==typeof i){const g=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return n.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};c=Bj(parseFloat(g[1]),g[2]);const b=g[3];null!=b&&(u=Bj(parseFloat(b),g[4]));const x=g[5];x&&(m=x)}else c=i;if(!t){let g=!1,b=n.length;c<0&&(n.push("Duration values below 0 are not allowed for this animation step."),g=!0),u<0&&(n.push("Delay values below 0 are not allowed for this animation step."),g=!0),g&&n.splice(b,0,`The provided timing value "${i}" is invalid.`)}return{duration:c,delay:u,easing:m}}(i,n,t)}function K5(i,n={}){return Object.keys(i).forEach(t=>{n[t]=i[t]}),n}function $4(i,n,t={}){if(n)for(let o in i)t[o]=i[o];else K5(i,t);return t}function hG(i,n,t){return t?n+":"+t+";":""}function mG(i){let n="";for(let t=0;t<i.style.length;t++){const o=i.style.item(t);n+=hG(0,o,i.style.getPropertyValue(o))}for(const t in i.style)i.style.hasOwnProperty(t)&&!t.startsWith("_")&&(n+=hG(0,Koe(t),i.style[t]));i.setAttribute("style",n)}function W2(i,n,t){i.style&&(Object.keys(n).forEach(o=>{const c=Uj(o);t&&!t.hasOwnProperty(o)&&(t[o]=i.style[c]),i.style[c]=n[o]}),Sj()&&mG(i))}function G3(i,n){i.style&&(Object.keys(n).forEach(t=>{const o=Uj(t);i.style[o]=""}),Sj()&&mG(i))}function z_(i){return Array.isArray(i)?1==i.length?i[0]:JW(i):i}const jj=new RegExp("{{\\s*(.+?)\\s*}}","g");function pG(i){let n=[];if("string"==typeof i){let t;for(;t=jj.exec(i);)n.push(t[1]);jj.lastIndex=0}return n}function VS(i,n,t){const o=i.toString(),c=o.replace(jj,(u,m)=>{let g=n[m];return n.hasOwnProperty(m)||(t.push(`Please provide a value for the animation param ${m}`),g=""),g.toString()});return c==o?i:c}function OS(i){const n=[];let t=i.next();for(;!t.done;)n.push(t.value),t=i.next();return n}const Zoe=/-+([a-z0-9])/g;function Uj(i){return i.replace(Zoe,(...n)=>n[1].toUpperCase())}function Koe(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function gG(i,n){return 0===i||0===n}function vG(i,n,t){const o=Object.keys(t);if(o.length&&n.length){let u=n[0],m=[];if(o.forEach(g=>{u.hasOwnProperty(g)||m.push(g),u[g]=t[g]}),m.length)for(var c=1;c<n.length;c++){let g=n[c];m.forEach(function(b){g[b]=$j(i,b)})}}return n}function jo(i,n,t){switch(n.type){case 7:return i.visitTrigger(n,t);case 0:return i.visitState(n,t);case 1:return i.visitTransition(n,t);case 2:return i.visitSequence(n,t);case 3:return i.visitGroup(n,t);case 4:return i.visitAnimate(n,t);case 5:return i.visitKeyframes(n,t);case 6:return i.visitStyle(n,t);case 8:return i.visitReference(n,t);case 9:return i.visitAnimateChild(n,t);case 10:return i.visitAnimateRef(n,t);case 11:return i.visitQuery(n,t);case 12:return i.visitStagger(n,t);default:throw new Error(`Unable to resolve animation metadata node #${n.type}`)}}function $j(i,n){return window.getComputedStyle(i)[n]}function Qoe(i,n){const t=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(o=>function(i,n,t){if(":"==i[0]){const b=function(i,n){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,o)=>parseFloat(o)>parseFloat(t);case":decrement":return(t,o)=>parseFloat(o)<parseFloat(t);default:return n.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,t);if("function"==typeof b)return void n.push(b);i=b}const o=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return t.push(`The provided transition expression "${i}" is not supported`),n;const c=o[1],u=o[2],m=o[3];n.push(_G(c,m));"<"==u[0]&&!("*"==c&&"*"==m)&&n.push(_G(m,c))}(o,t,n)):t.push(i),t}const HS=new Set(["true","1"]),BS=new Set(["false","0"]);function _G(i,n){const t=HS.has(i)||BS.has(i),o=HS.has(n)||BS.has(n);return(c,u)=>{let m="*"==i||i==c,g="*"==n||n==u;return!m&&t&&"boolean"==typeof c&&(m=c?HS.has(i):BS.has(i)),!g&&o&&"boolean"==typeof u&&(g=u?HS.has(n):BS.has(n)),m&&g}}const tae=new RegExp("s*:selfs*,?","g");function qj(i,n,t){return new nae(i).build(n,t)}class nae{constructor(n){this._driver=n}build(n,t){const o=new oae(t);return this._resetContextStyleTimingState(o),jo(this,z_(n),o)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles={},n.collectedStyles[""]={},n.currentTime=0}visitTrigger(n,t){let o=t.queryCount=0,c=t.depCount=0;const u=[],m=[];return"@"==n.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),n.definitions.forEach(g=>{if(this._resetContextStyleTimingState(t),0==g.type){const b=g,x=b.name;x.toString().split(/\s*,\s*/).forEach(D=>{b.name=D,u.push(this.visitState(b,t))}),b.name=x}else if(1==g.type){const b=this.visitTransition(g,t);o+=b.queryCount,c+=b.depCount,m.push(b)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:n.name,states:u,transitions:m,queryCount:o,depCount:c,options:null}}visitState(n,t){const o=this.visitStyle(n.styles,t),c=n.options&&n.options.params||null;if(o.containsDynamicStyles){const u=new Set,m=c||{};if(o.styles.forEach(g=>{if(jS(g)){const b=g;Object.keys(b).forEach(x=>{pG(b[x]).forEach(D=>{m.hasOwnProperty(D)||u.add(D)})})}}),u.size){const g=OS(u.values());t.errors.push(`state("${n.name}", ...) must define default values for all the following style substitutions: ${g.join(", ")}`)}}return{type:0,name:n.name,style:o,options:c?{params:c}:null}}visitTransition(n,t){t.queryCount=0,t.depCount=0;const o=jo(this,z_(n.animation),t);return{type:1,matchers:Qoe(n.expr,t.errors),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:X3(n.options)}}visitSequence(n,t){return{type:2,steps:n.steps.map(o=>jo(this,o,t)),options:X3(n.options)}}visitGroup(n,t){const o=t.currentTime;let c=0;const u=n.steps.map(m=>{t.currentTime=o;const g=jo(this,m,t);return c=Math.max(c,t.currentTime),g});return t.currentTime=c,{type:3,steps:u,options:X3(n.options)}}visitAnimate(n,t){const o=function(i,n){let t=null;if(i.hasOwnProperty("duration"))t=i;else if("number"==typeof i)return Wj(RS(i,n).duration,0,"");const o=i;if(o.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=Wj(0,0,"");return u.dynamic=!0,u.strValue=o,u}return t=t||RS(o,n),Wj(t.duration,t.delay,t.easing)}(n.timings,t.errors);t.currentAnimateTimings=o;let c,u=n.styles?n.styles:Ki({});if(5==u.type)c=this.visitKeyframes(u,t);else{let m=n.styles,g=!1;if(!m){g=!0;const x={};o.easing&&(x.easing=o.easing),m=Ki(x)}t.currentTime+=o.duration+o.delay;const b=this.visitStyle(m,t);b.isEmptyStep=g,c=b}return t.currentAnimateTimings=null,{type:4,timings:o,style:c,options:null}}visitStyle(n,t){const o=this._makeStyleAst(n,t);return this._validateStyleAst(o,t),o}_makeStyleAst(n,t){const o=[];Array.isArray(n.styles)?n.styles.forEach(m=>{"string"==typeof m?m==Fl?o.push(m):t.errors.push(`The provided style string value ${m} is not allowed.`):o.push(m)}):o.push(n.styles);let c=!1,u=null;return o.forEach(m=>{if(jS(m)){const g=m,b=g.easing;if(b&&(u=b,delete g.easing),!c)for(let x in g)if(g[x].toString().indexOf("{{")>=0){c=!0;break}}}),{type:6,styles:o,easing:u,offset:n.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(n,t){const o=t.currentAnimateTimings;let c=t.currentTime,u=t.currentTime;o&&u>0&&(u-=o.duration+o.delay),n.styles.forEach(m=>{"string"!=typeof m&&Object.keys(m).forEach(g=>{if(!this._driver.validateStyleProperty(g))return void t.errors.push(`The provided animation property "${g}" is not a supported CSS property for animations`);const b=t.collectedStyles[t.currentQuerySelector],x=b[g];let D=!0;x&&(u!=c&&u>=x.startTime&&c<=x.endTime&&(t.errors.push(`The CSS property "${g}" that exists between the times of "${x.startTime}ms" and "${x.endTime}ms" is also being animated in a parallel animation between the times of "${u}ms" and "${c}ms"`),D=!1),u=x.startTime),D&&(b[g]={startTime:u,endTime:c}),t.options&&function(i,n,t){const o=n.params||{},c=pG(i);c.length&&c.forEach(u=>{o.hasOwnProperty(u)||t.push(`Unable to resolve the local animation param ${u} in the given list of values`)})}(m[g],t.options,t.errors)})})}visitKeyframes(n,t){const o={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),o;let u=0;const m=[];let g=!1,b=!1,x=0;const D=n.steps.map(Q=>{const K=this._makeStyleAst(Q,t);let he=null!=K.offset?K.offset:function(i){if("string"==typeof i)return null;let n=null;if(Array.isArray(i))i.forEach(t=>{if(jS(t)&&t.hasOwnProperty("offset")){const o=t;n=parseFloat(o.offset),delete o.offset}});else if(jS(i)&&i.hasOwnProperty("offset")){const t=i;n=parseFloat(t.offset),delete t.offset}return n}(K.styles),_e=0;return null!=he&&(u++,_e=K.offset=he),b=b||_e<0||_e>1,g=g||_e<x,x=_e,m.push(_e),K});b&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),g&&t.errors.push("Please ensure that all keyframe offsets are in order");const k=n.steps.length;let z=0;u>0&&u<k?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==u&&(z=1/(k-1));const L=k-1,R=t.currentTime,j=t.currentAnimateTimings,B=j.duration;return D.forEach((Q,K)=>{const he=z>0?K==L?1:z*K:m[K],_e=he*B;t.currentTime=R+j.delay+_e,j.duration=_e,this._validateStyleAst(Q,t),Q.offset=he,o.styles.push(Q)}),o}visitReference(n,t){return{type:8,animation:jo(this,z_(n.animation),t),options:X3(n.options)}}visitAnimateChild(n,t){return t.depCount++,{type:9,options:X3(n.options)}}visitAnimateRef(n,t){return{type:10,animation:this.visitReference(n.animation,t),options:X3(n.options)}}visitQuery(n,t){const o=t.currentQuerySelector,c=n.options||{};t.queryCount++,t.currentQuery=n;const[u,m]=function(i){const n=!!i.split(/\s*,\s*/).find(t=>":self"==t);return n&&(i=i.replace(tae,"")),i=i.replace(/@\*/g,FS).replace(/@\w+/g,t=>FS+"-"+t.substr(1)).replace(/:animating/g,Hj),[i,n]}(n.selector);t.currentQuerySelector=o.length?o+" "+u:u,Bo(t.collectedStyles,t.currentQuerySelector,{});const g=jo(this,z_(n.animation),t);return t.currentQuery=null,t.currentQuerySelector=o,{type:11,selector:u,limit:c.limit||0,optional:!!c.optional,includeSelf:m,animation:g,originalSelector:n.selector,options:X3(n.options)}}visitStagger(n,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const o="full"===n.timings?{duration:0,delay:0,easing:"full"}:RS(n.timings,t.errors,!0);return{type:12,animation:jo(this,z_(n.animation),t),timings:o,options:null}}}class oae{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function jS(i){return!Array.isArray(i)&&"object"==typeof i}function X3(i){return i?(i=K5(i)).params&&(i.params=function(i){return i?K5(i):null}(i.params)):i={},i}function Wj(i,n,t){return{duration:i,delay:n,easing:t}}function Gj(i,n,t,o,c,u,m=null,g=!1){return{type:1,element:i,keyframes:n,preStyleProps:t,postStyleProps:o,duration:c,delay:u,totalTime:c+u,easing:m,subTimeline:g}}class US{constructor(){this._map=new Map}consume(n){let t=this._map.get(n);return t?this._map.delete(n):t=[],t}append(n,t){let o=this._map.get(n);o||this._map.set(n,o=[]),o.push(...t)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const uae=new RegExp(":enter","g"),dae=new RegExp(":leave","g");function Xj(i,n,t,o,c,u={},m={},g,b,x=[]){return(new hae).buildKeyframes(i,n,t,o,c,u,m,g,b,x)}class hae{buildKeyframes(n,t,o,c,u,m,g,b,x,D=[]){x=x||new US;const k=new Yj(n,t,x,c,u,D,[]);k.options=b,k.currentTimeline.setStyles([m],null,k.errors,b),jo(this,o,k);const z=k.timelines.filter(L=>L.containsAnimation());if(z.length&&Object.keys(g).length){const L=z[z.length-1];L.allowOnlyTimelineStyles()||L.setStyles([g],null,k.errors,b)}return z.length?z.map(L=>L.buildKeyframes()):[Gj(t,[],[],[],0,0,"",!1)]}visitTrigger(n,t){}visitState(n,t){}visitTransition(n,t){}visitAnimateChild(n,t){const o=t.subInstructions.consume(t.element);if(o){const c=t.createSubContext(n.options),u=t.currentTimeline.currentTime,m=this._visitSubInstructions(o,c,c.options);u!=m&&t.transformIntoNewTimeline(m)}t.previousNode=n}visitAnimateRef(n,t){const o=t.createSubContext(n.options);o.transformIntoNewTimeline(),this.visitReference(n.animation,o),t.transformIntoNewTimeline(o.currentTimeline.currentTime),t.previousNode=n}_visitSubInstructions(n,t,o){let u=t.currentTimeline.currentTime;const m=null!=o.duration?W3(o.duration):null,g=null!=o.delay?W3(o.delay):null;return 0!==m&&n.forEach(b=>{const x=t.appendInstructionToTimeline(b,m,g);u=Math.max(u,x.duration+x.delay)}),u}visitReference(n,t){t.updateOptions(n.options,!0),jo(this,n.animation,t),t.previousNode=n}visitSequence(n,t){const o=t.subContextCount;let c=t;const u=n.options;if(u&&(u.params||u.delay)&&(c=t.createSubContext(u),c.transformIntoNewTimeline(),null!=u.delay)){6==c.previousNode.type&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=$S);const m=W3(u.delay);c.delayNextStep(m)}n.steps.length&&(n.steps.forEach(m=>jo(this,m,c)),c.currentTimeline.applyStylesToKeyframe(),c.subContextCount>o&&c.transformIntoNewTimeline()),t.previousNode=n}visitGroup(n,t){const o=[];let c=t.currentTimeline.currentTime;const u=n.options&&n.options.delay?W3(n.options.delay):0;n.steps.forEach(m=>{const g=t.createSubContext(n.options);u&&g.delayNextStep(u),jo(this,m,g),c=Math.max(c,g.currentTimeline.currentTime),o.push(g.currentTimeline)}),o.forEach(m=>t.currentTimeline.mergeTimelineCollectedStyles(m)),t.transformIntoNewTimeline(c),t.previousNode=n}_visitTiming(n,t){if(n.dynamic){const o=n.strValue;return RS(t.params?VS(o,t.params,t.errors):o,t.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,t){const o=t.currentAnimateTimings=this._visitTiming(n.timings,t),c=t.currentTimeline;o.delay&&(t.incrementTime(o.delay),c.snapshotCurrentStyles());const u=n.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(o.duration),this.visitStyle(u,t),c.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=n}visitStyle(n,t){const o=t.currentTimeline,c=t.currentAnimateTimings;!c&&o.getCurrentStyleProperties().length&&o.forwardFrame();const u=c&&c.easing||n.easing;n.isEmptyStep?o.applyEmptyStep(u):o.setStyles(n.styles,u,t.errors,t.options),t.previousNode=n}visitKeyframes(n,t){const o=t.currentAnimateTimings,c=t.currentTimeline.duration,u=o.duration,g=t.createSubContext().currentTimeline;g.easing=o.easing,n.styles.forEach(b=>{g.forwardTime((b.offset||0)*u),g.setStyles(b.styles,b.easing,t.errors,t.options),g.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(g),t.transformIntoNewTimeline(c+u),t.previousNode=n}visitQuery(n,t){const o=t.currentTimeline.currentTime,c=n.options||{},u=c.delay?W3(c.delay):0;u&&(6===t.previousNode.type||0==o&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=$S);let m=o;const g=t.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!c.optional,t.errors);t.currentQueryTotal=g.length;let b=null;g.forEach((x,D)=>{t.currentQueryIndex=D;const k=t.createSubContext(n.options,x);u&&k.delayNextStep(u),x===t.element&&(b=k.currentTimeline),jo(this,n.animation,k),k.currentTimeline.applyStylesToKeyframe(),m=Math.max(m,k.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(m),b&&(t.currentTimeline.mergeTimelineCollectedStyles(b),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=n}visitStagger(n,t){const o=t.parentContext,c=t.currentTimeline,u=n.timings,m=Math.abs(u.duration),g=m*(t.currentQueryTotal-1);let b=m*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":b=g-b;break;case"full":b=o.currentStaggerTime}const D=t.currentTimeline;b&&D.delayNextStep(b);const k=D.currentTime;jo(this,n.animation,t),t.previousNode=n,o.currentStaggerTime=c.currentTime-k+(c.startTime-o.currentTimeline.startTime)}}const $S={};class Yj{constructor(n,t,o,c,u,m,g,b){this._driver=n,this.element=t,this.subInstructions=o,this._enterClassName=c,this._leaveClassName=u,this.errors=m,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$S,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new qS(this._driver,t,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,t){if(!n)return;const o=n;let c=this.options;null!=o.duration&&(c.duration=W3(o.duration)),null!=o.delay&&(c.delay=W3(o.delay));const u=o.params;if(u){let m=c.params;m||(m=this.options.params={}),Object.keys(u).forEach(g=>{(!t||!m.hasOwnProperty(g))&&(m[g]=VS(u[g],m,this.errors))})}}_copyOptions(){const n={};if(this.options){const t=this.options.params;if(t){const o=n.params={};Object.keys(t).forEach(c=>{o[c]=t[c]})}}return n}createSubContext(n=null,t,o){const c=t||this.element,u=new Yj(this._driver,c,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(c,o||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(n),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(n){return this.previousNode=$S,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,t,o){const c={duration:null!=t?t:n.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+n.delay,easing:""},u=new mae(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,c,n.stretchStartingKeyframe);return this.timelines.push(u),c}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,t,o,c,u,m){let g=[];if(c&&g.push(this.element),n.length>0){n=(n=n.replace(uae,"."+this._enterClassName)).replace(dae,"."+this._leaveClassName);let x=this._driver.query(this.element,n,1!=o);0!==o&&(x=o<0?x.slice(x.length+o,x.length):x.slice(0,o)),g.push(...x)}return!u&&0==g.length&&m.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),g}}class qS{constructor(n,t,o,c){this._driver=n,this.element=t,this.startTime=o,this._elementTimelineStylesLookup=c,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+n),t&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,t){return this.applyStylesToKeyframe(),new qS(this._driver,n,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,t){this._localTimelineStyles[n]=t,this._globalTimelineStyles[n]=t,this._styleSummary[n]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&(this._previousKeyframe.easing=n),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Fl,this._currentKeyframe[t]=Fl}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,t,o,c){t&&(this._previousKeyframe.easing=t);const u=c&&c.params||{},m=function(i,n){const t={};let o;return i.forEach(c=>{"*"===c?(o=o||Object.keys(n),o.forEach(u=>{t[u]=Fl})):$4(c,!1,t)}),t}(n,this._globalTimelineStyles);Object.keys(m).forEach(g=>{const b=VS(m[g],u,o);this._pendingStyles[g]=b,this._localTimelineStyles.hasOwnProperty(g)||(this._backFill[g]=this._globalTimelineStyles.hasOwnProperty(g)?this._globalTimelineStyles[g]:Fl),this._updateStyle(g,b)})}applyStylesToKeyframe(){const n=this._pendingStyles,t=Object.keys(n);0!=t.length&&(this._pendingStyles={},t.forEach(o=>{this._currentKeyframe[o]=n[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(n=>{const t=this._localTimelineStyles[n];this._pendingStyles[n]=t,this._updateStyle(n,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let t in this._currentKeyframe)n.push(t);return n}mergeTimelineCollectedStyles(n){Object.keys(n._styleSummary).forEach(t=>{const o=this._styleSummary[t],c=n._styleSummary[t];(!o||c.time>o.time)&&this._updateStyle(t,c.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,t=new Set,o=1===this._keyframes.size&&0===this.duration;let c=[];this._keyframes.forEach((g,b)=>{const x=$4(g,!0);Object.keys(x).forEach(D=>{const k=x[D];"!"==k?n.add(D):k==Fl&&t.add(D)}),o||(x.offset=b/this.duration),c.push(x)});const u=n.size?OS(n.values()):[],m=t.size?OS(t.values()):[];if(o){const g=c[0],b=K5(g);g.offset=0,b.offset=1,c=[g,b]}return Gj(this.element,c,u,m,this.duration,this.startTime,this.easing,!1)}}class mae extends qS{constructor(n,t,o,c,u,m,g=!1){super(n,t,m.delay),this.keyframes=o,this.preStyleProps=c,this.postStyleProps=u,this._stretchStartingKeyframe=g,this.timings={duration:m.duration,delay:m.delay,easing:m.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:t,duration:o,easing:c}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],m=o+t,g=t/m,b=$4(n[0],!1);b.offset=0,u.push(b);const x=$4(n[0],!1);x.offset=CG(g),u.push(x);const D=n.length-1;for(let k=1;k<=D;k++){let z=$4(n[k],!1);z.offset=CG((t+z.offset*o)/m),u.push(z)}o=m,t=0,c="",n=u}return Gj(this.element,n,this.preStyleProps,this.postStyleProps,o,t,c,!0)}}function CG(i,n=3){const t=Math.pow(10,n-1);return Math.round(i*t)/t}class Zj{}class gae extends Zj{normalizePropertyName(n,t){return Uj(n)}normalizeStyleValue(n,t,o,c){let u="";const m=o.toString().trim();if(vae[t]&&0!==o&&"0"!==o)if("number"==typeof o)u="px";else{const g=o.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&c.push(`Please provide a CSS unit value for ${n}:${o}`)}return m+u}}const vae=(()=>function(i){const n={};return i.forEach(t=>n[t]=!0),n}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function xG(i,n,t,o,c,u,m,g,b,x,D,k,z){return{type:0,element:i,triggerName:n,isRemovalTransition:c,fromState:t,fromStyles:u,toState:o,toStyles:m,timelines:g,queriedElements:b,preStyleProps:x,postStyleProps:D,totalTime:k,errors:z}}const Kj={};class MG{constructor(n,t,o){this._triggerName=n,this.ast=t,this._stateStyles=o}match(n,t,o,c){return function(i,n,t,o,c){return i.some(u=>u(n,t,o,c))}(this.ast.matchers,n,t,o,c)}buildStyles(n,t,o){const c=this._stateStyles["*"],u=this._stateStyles[n],m=c?c.buildStyles(t,o):{};return u?u.buildStyles(t,o):m}build(n,t,o,c,u,m,g,b,x,D){const k=[],z=this.ast.options&&this.ast.options.params||Kj,R=this.buildStyles(o,g&&g.params||Kj,k),j=b&&b.params||Kj,B=this.buildStyles(c,j,k),Q=new Set,K=new Map,he=new Map,_e="void"===c,Ge={params:Ct(Ct({},z),j)},wt=D?[]:Xj(n,t,this.ast.animation,u,m,R,B,Ge,x,k);let Wt=0;if(wt.forEach(Ji=>{Wt=Math.max(Ji.duration+Ji.delay,Wt)}),k.length)return xG(t,this._triggerName,o,c,_e,R,B,[],[],K,he,Wt,k);wt.forEach(Ji=>{const ni=Ji.element,Vl=Bo(K,ni,{});Ji.preStyleProps.forEach(Ts=>Vl[Ts]=!0);const Ol=Bo(he,ni,{});Ji.postStyleProps.forEach(Ts=>Ol[Ts]=!0),ni!==t&&Q.add(ni)});const Dr=OS(Q.values());return xG(t,this._triggerName,o,c,_e,R,B,wt,Dr,K,he,Wt)}}class bae{constructor(n,t,o){this.styles=n,this.defaultParams=t,this.normalizer=o}buildStyles(n,t){const o={},c=K5(this.defaultParams);return Object.keys(n).forEach(u=>{const m=n[u];null!=m&&(c[u]=m)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const m=u;Object.keys(m).forEach(g=>{let b=m[g];b.length>1&&(b=VS(b,c,t));const x=this.normalizer.normalizePropertyName(g,t);b=this.normalizer.normalizeStyleValue(g,x,b,t),o[x]=b})}}),o}}class xae{constructor(n,t,o){this.name=n,this.ast=t,this._normalizer=o,this.transitionFactories=[],this.states={},t.states.forEach(c=>{this.states[c.name]=new bae(c.style,c.options&&c.options.params||{},o)}),wG(this.states,"true","1"),wG(this.states,"false","0"),t.transitions.forEach(c=>{this.transitionFactories.push(new MG(n,c,this.states))}),this.fallbackTransition=function(i,n,t){return new MG(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(m,g)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,t,o,c){return this.transitionFactories.find(m=>m.match(n,t,o,c))||null}matchStyles(n,t,o){return this.fallbackTransition.buildStyles(n,t,o)}}function wG(i,n,t){i.hasOwnProperty(n)?i.hasOwnProperty(t)||(i[t]=i[n]):i.hasOwnProperty(t)&&(i[n]=i[t])}const wae=new US;class Eae{constructor(n,t,o){this.bodyNode=n,this._driver=t,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(n,t){const o=[],c=qj(this._driver,t,o);if(o.length)throw new Error(`Unable to build the animation due to the following errors: ${o.join("\n")}`);this._animations[n]=c}_buildPlayer(n,t,o){const c=n.element,u=iG(0,this._normalizer,0,n.keyframes,t,o);return this._driver.animate(c,u,n.duration,n.delay,n.easing,[],!0)}create(n,t,o={}){const c=[],u=this._animations[n];let m;const g=new Map;if(u?(m=Xj(this._driver,t,u,Pj,IS,{},{},o,wae,c),m.forEach(D=>{const k=Bo(g,D.element,{});D.postStyleProps.forEach(z=>k[z]=null)})):(c.push("The requested animation doesn't exist or has already been destroyed"),m=[]),c.length)throw new Error(`Unable to create the animation due to the following errors: ${c.join("\n")}`);g.forEach((D,k)=>{Object.keys(D).forEach(z=>{D[z]=this._driver.computeStyle(k,z,Fl)})});const x=U4(m.map(D=>{const k=g.get(D.element);return this._buildPlayer(D,{},k)}));return this._playersById[n]=x,x.onDestroy(()=>this.destroy(n)),this.players.push(x),x}destroy(n){const t=this._getPlayer(n);t.destroy(),delete this._playersById[n];const o=this.players.indexOf(t);o>=0&&this.players.splice(o,1)}_getPlayer(n){const t=this._playersById[n];if(!t)throw new Error(`Unable to find the timeline player referenced by ${n}`);return t}listen(n,t,o,c){const u=zj(t,"","","");return kj(this._getPlayer(n),o,u,c),()=>{}}command(n,t,o,c){if("register"==o)return void this.register(n,c[0]);if("create"==o)return void this.create(n,t,c[0]||{});const u=this._getPlayer(n);switch(o){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(c[0]));break;case"destroy":this.destroy(n)}}}const EG="ng-animate-queued",DG="ng-animate-disabled",AG=".ng-animate-disabled",kae=[],SG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Tae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ta="__ng_removed";class Qj{constructor(n,t=""){this.namespaceId=t;const o=n&&n.hasOwnProperty("value");if(this.value=function(i){return null!=i?i:null}(o?n.value:n),o){const u=K5(n);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const t=n.params;if(t){const o=this.options.params;Object.keys(t).forEach(c=>{null==o[c]&&(o[c]=t[c])})}}}const N_="void",Jj=new Qj(N_);class zae{constructor(n,t,o){this.id=n,this.hostElement=t,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,za(t,this._hostClassName)}listen(n,t,o,c){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${o}" because the animation trigger "${t}" doesn't exist!`);if(null==o||0==o.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(i){return"start"==i||"done"==i}(o))throw new Error(`The provided animation trigger event "${o}" for the animation trigger "${t}" is not supported!`);const u=Bo(this._elementListeners,n,[]),m={name:t,phase:o,callback:c};u.push(m);const g=Bo(this._engine.statesByElement,n,{});return g.hasOwnProperty(t)||(za(n,LS),za(n,LS+"-"+t),g[t]=Jj),()=>{this._engine.afterFlush(()=>{const b=u.indexOf(m);b>=0&&u.splice(b,1),this._triggers[t]||delete g[t]})}}register(n,t){return!this._triggers[n]&&(this._triggers[n]=t,!0)}_getTrigger(n){const t=this._triggers[n];if(!t)throw new Error(`The provided animation trigger "${n}" has not been registered!`);return t}trigger(n,t,o,c=!0){const u=this._getTrigger(t),m=new eU(this.id,t,n);let g=this._engine.statesByElement.get(n);g||(za(n,LS),za(n,LS+"-"+t),this._engine.statesByElement.set(n,g={}));let b=g[t];const x=new Qj(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&b&&x.absorbOptions(b.options),g[t]=x,b||(b=Jj),x.value!==N_&&b.value===x.value){if(!function(i,n){const t=Object.keys(i),o=Object.keys(n);if(t.length!=o.length)return!1;for(let c=0;c<t.length;c++){const u=t[c];if(!n.hasOwnProperty(u)||i[u]!==n[u])return!1}return!0}(b.params,x.params)){const j=[],B=u.matchStyles(b.value,b.params,j),Q=u.matchStyles(x.value,x.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{G3(n,B),W2(n,Q)})}return}const z=Bo(this._engine.playersByElement,n,[]);z.forEach(j=>{j.namespaceId==this.id&&j.triggerName==t&&j.queued&&j.destroy()});let L=u.matchTransition(b.value,x.value,n,x.params),R=!1;if(!L){if(!c)return;L=u.fallbackTransition,R=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:t,transition:L,fromState:b,toState:x,player:m,isFallbackTransition:R}),R||(za(n,EG),m.onStart(()=>{Q5(n,EG)})),m.onDone(()=>{let j=this.players.indexOf(m);j>=0&&this.players.splice(j,1);const B=this._engine.playersByElement.get(n);if(B){let Q=B.indexOf(m);Q>=0&&B.splice(Q,1)}}),this.players.push(m),z.push(m),m}deregister(n){delete this._triggers[n],this._engine.statesByElement.forEach((t,o)=>{delete t[n]}),this._elementListeners.forEach((t,o)=>{this._elementListeners.set(o,t.filter(c=>c.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const t=this._engine.playersByElement.get(n);t&&(t.forEach(o=>o.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,t){const o=this._engine.driver.query(n,FS,!0);o.forEach(c=>{if(c[Ta])return;const u=this._engine.fetchNamespacesByElement(c);u.size?u.forEach(m=>m.triggerLeaveAnimation(c,t,!1,!0)):this.clearElementCache(c)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(c=>this.clearElementCache(c)))}triggerLeaveAnimation(n,t,o,c){const u=this._engine.statesByElement.get(n);if(u){const m=[];if(Object.keys(u).forEach(g=>{if(this._triggers[g]){const b=this.trigger(n,g,N_,c);b&&m.push(b)}}),m.length)return this._engine.markElementAsRemoved(this.id,n,!0,t),o&&U4(m).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const t=this._elementListeners.get(n),o=this._engine.statesByElement.get(n);if(t&&o){const c=new Set;t.forEach(u=>{const m=u.name;if(c.has(m))return;c.add(m);const b=this._triggers[m].fallbackTransition,x=o[m]||Jj,D=new Qj(N_),k=new eU(this.id,m,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:m,transition:b,fromState:x,toState:D,player:k,isFallbackTransition:!0})})}}removeNode(n,t){const o=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,t),this.triggerLeaveAnimation(n,t,!0))return;let c=!1;if(o.totalAnimations){const u=o.players.length?o.playersByQueriedElement.get(n):[];if(u&&u.length)c=!0;else{let m=n;for(;m=m.parentNode;)if(o.statesByElement.get(m)){c=!0;break}}}if(this.prepareLeaveAnimationListeners(n),c)o.markElementAsRemoved(this.id,n,!1,t);else{const u=n[Ta];(!u||u===SG)&&(o.afterFlush(()=>this.clearElementCache(n)),o.destroyInnerAnimations(n),o._onRemovalComplete(n,t))}}insertNode(n,t){za(n,this._hostClassName)}drainQueuedTransitions(n){const t=[];return this._queue.forEach(o=>{const c=o.player;if(c.destroyed)return;const u=o.element,m=this._elementListeners.get(u);m&&m.forEach(g=>{if(g.name==o.triggerName){const b=zj(u,o.triggerName,o.fromState.value,o.toState.value);b._data=n,kj(o.player,g.phase,b,g.callback)}}),c.markedForDestroy?this._engine.afterFlush(()=>{c.destroy()}):t.push(o)}),this._queue=[],t.sort((o,c)=>{const u=o.transition.ast.depCount,m=c.transition.ast.depCount;return 0==u||0==m?u-m:this._engine.driver.containsElement(o.element,c.element)?1:-1})}destroy(n){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let t=!1;return this._elementListeners.has(n)&&(t=!0),t=!!this._queue.find(o=>o.element===n)||t,t}}class Nae{constructor(n,t,o){this.bodyNode=n,this.driver=t,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(c,u)=>{}}_onRemovalComplete(n,t){this.onRemovalComplete(n,t)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(t=>{t.players.forEach(o=>{o.queued&&n.push(o)})}),n}createNamespace(n,t){const o=new zae(n,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(o,t):(this.newHostElements.set(t,o),this.collectEnterElement(t)),this._namespaceLookup[n]=o}_balanceNamespaceList(n,t){const o=this._namespaceList.length-1;if(o>=0){let c=!1;for(let u=o;u>=0;u--)if(this.driver.containsElement(this._namespaceList[u].hostElement,t)){this._namespaceList.splice(u+1,0,n),c=!0;break}c||this._namespaceList.splice(0,0,n)}else this._namespaceList.push(n);return this.namespacesByHostElement.set(t,n),n}register(n,t){let o=this._namespaceLookup[n];return o||(o=this.createNamespace(n,t)),o}registerTrigger(n,t,o){let c=this._namespaceLookup[n];c&&c.register(t,o)&&this.totalAnimations++}destroy(n,t){if(!n)return;const o=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[n];const c=this._namespaceList.indexOf(o);c>=0&&this._namespaceList.splice(c,1)}),this.afterFlushAnimationsDone(()=>o.destroy(t))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const t=new Set,o=this.statesByElement.get(n);if(o){const c=Object.keys(o);for(let u=0;u<c.length;u++){const m=o[c[u]].namespaceId;if(m){const g=this._fetchNamespace(m);g&&t.add(g)}}}return t}trigger(n,t,o,c){if(WS(t)){const u=this._fetchNamespace(n);if(u)return u.trigger(t,o,c),!0}return!1}insertNode(n,t,o,c){if(!WS(t))return;const u=t[Ta];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const m=this.collectedLeaveElements.indexOf(t);m>=0&&this.collectedLeaveElements.splice(m,1)}if(n){const m=this._fetchNamespace(n);m&&m.insertNode(t,o)}c&&this.collectEnterElement(t)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,t){t?this.disabledNodes.has(n)||(this.disabledNodes.add(n),za(n,DG)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Q5(n,DG))}removeNode(n,t,o,c){if(WS(t)){const u=n?this._fetchNamespace(n):null;if(u?u.removeNode(t,c):this.markElementAsRemoved(n,t,!1,c),o){const m=this.namespacesByHostElement.get(t);m&&m.id!==n&&m.removeNode(t,c)}}else this._onRemovalComplete(t,c)}markElementAsRemoved(n,t,o,c){this.collectedLeaveElements.push(t),t[Ta]={namespaceId:n,setForRemoval:c,hasAnimation:o,removedBeforeQueried:!1}}listen(n,t,o,c,u){return WS(t)?this._fetchNamespace(n).listen(t,o,c,u):()=>{}}_buildInstruction(n,t,o,c,u){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,o,c,n.fromState.options,n.toState.options,t,u)}destroyInnerAnimations(n){let t=this.driver.query(n,FS,!0);t.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(n,Hj,!0),t.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(n){const t=this.playersByElement.get(n);t&&t.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(n){const t=this.playersByQueriedElement.get(n);t&&t.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return U4(this.players).onDone(()=>n());n()})}processLeaveNode(n){const t=n[Ta];if(t&&t.setForRemoval){if(n[Ta]=SG,t.namespaceId){this.destroyInnerAnimations(n);const o=this._fetchNamespace(t.namespaceId);o&&o.clearElementCache(n)}this._onRemovalComplete(n,t.setForRemoval)}this.driver.matchesElement(n,AG)&&this.markElementAsDisabled(n,!1),this.driver.query(n,AG,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(n=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,c)=>this._balanceNamespaceList(o,c)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)za(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{t=this._flushAnimations(o,n)}finally{for(let c=0;c<o.length;c++)o[c]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],t.length?U4(t).onDone(()=>{o.forEach(c=>c())}):o.forEach(c=>c())}}reportError(n){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${n.join("\n")}`)}_flushAnimations(n,t){const o=new US,c=[],u=new Map,m=[],g=new Map,b=new Map,x=new Map,D=new Set;this.disabledNodes.forEach(Te=>{D.add(Te);const Xe=this.driver.query(Te,".ng-animate-queued",!0);for(let at=0;at<Xe.length;at++)D.add(Xe[at])});const k=this.bodyNode,z=Array.from(this.statesByElement.keys()),L=zG(z,this.collectedEnterElements),R=new Map;let j=0;L.forEach((Te,Xe)=>{const at=Pj+j++;R.set(Xe,at),Te.forEach(jt=>za(jt,at))});const B=[],Q=new Set,K=new Set;for(let Te=0;Te<this.collectedLeaveElements.length;Te++){const Xe=this.collectedLeaveElements[Te],at=Xe[Ta];at&&at.setForRemoval&&(B.push(Xe),Q.add(Xe),at.hasAnimation?this.driver.query(Xe,".ng-star-inserted",!0).forEach(jt=>Q.add(jt)):K.add(Xe))}const he=new Map,_e=zG(z,Array.from(Q));_e.forEach((Te,Xe)=>{const at=IS+j++;he.set(Xe,at),Te.forEach(jt=>za(jt,at))}),n.push(()=>{L.forEach((Te,Xe)=>{const at=R.get(Xe);Te.forEach(jt=>Q5(jt,at))}),_e.forEach((Te,Xe)=>{const at=he.get(Xe);Te.forEach(jt=>Q5(jt,at))}),B.forEach(Te=>{this.processLeaveNode(Te)})});const Ge=[],wt=[];for(let Te=this._namespaceList.length-1;Te>=0;Te--)this._namespaceList[Te].drainQueuedTransitions(t).forEach(at=>{const jt=at.player,er=at.element;if(Ge.push(jt),this.collectedEnterElements.length){const Y2=er[Ta];if(Y2&&Y2.setForMove)return void jt.destroy()}const X2=!k||!this.driver.containsElement(k,er),Uo=he.get(er),Z4=R.get(er),Xn=this._buildInstruction(at,o,Z4,Uo,X2);if(Xn.errors&&Xn.errors.length)wt.push(Xn);else{if(X2)return jt.onStart(()=>G3(er,Xn.fromStyles)),jt.onDestroy(()=>W2(er,Xn.toStyles)),void c.push(jt);if(at.isFallbackTransition)return jt.onStart(()=>G3(er,Xn.fromStyles)),jt.onDestroy(()=>W2(er,Xn.toStyles)),void c.push(jt);Xn.timelines.forEach(Y2=>Y2.stretchStartingKeyframe=!0),o.append(er,Xn.timelines),m.push({instruction:Xn,player:jt,element:er}),Xn.queriedElements.forEach(Y2=>Bo(g,Y2,[]).push(jt)),Xn.preStyleProps.forEach((Y2,G_)=>{const Ck=Object.keys(Y2);if(Ck.length){let J3=b.get(G_);J3||b.set(G_,J3=new Set),Ck.forEach(BU=>J3.add(BU))}}),Xn.postStyleProps.forEach((Y2,G_)=>{const Ck=Object.keys(Y2);let J3=x.get(G_);J3||x.set(G_,J3=new Set),Ck.forEach(BU=>J3.add(BU))})}});if(wt.length){const Te=[];wt.forEach(Xe=>{Te.push(`@${Xe.triggerName} has failed due to:\n`),Xe.errors.forEach(at=>Te.push(`- ${at}\n`))}),Ge.forEach(Xe=>Xe.destroy()),this.reportError(Te)}const Wt=new Map,Dr=new Map;m.forEach(Te=>{const Xe=Te.element;o.has(Xe)&&(Dr.set(Xe,Xe),this._beforeAnimationBuild(Te.player.namespaceId,Te.instruction,Wt))}),c.forEach(Te=>{const Xe=Te.element;this._getPreviousPlayers(Xe,!1,Te.namespaceId,Te.triggerName,null).forEach(jt=>{Bo(Wt,Xe,[]).push(jt),jt.destroy()})});const Ji=B.filter(Te=>IG(Te,b,x)),ni=new Map;TG(ni,this.driver,K,x,Fl).forEach(Te=>{IG(Te,b,x)&&Ji.push(Te)});const Ol=new Map;L.forEach((Te,Xe)=>{TG(Ol,this.driver,new Set(Te),b,"!")}),Ji.forEach(Te=>{const Xe=ni.get(Te),at=Ol.get(Te);ni.set(Te,Ct(Ct({},Xe),at))});const Ts=[],r7=[],o7={};m.forEach(Te=>{const{element:Xe,player:at,instruction:jt}=Te;if(o.has(Xe)){if(D.has(Xe))return at.onDestroy(()=>W2(Xe,jt.toStyles)),at.disabled=!0,at.overrideTotalTime(jt.totalTime),void c.push(at);let er=o7;if(Dr.size>1){let Uo=Xe;const Z4=[];for(;Uo=Uo.parentNode;){const Xn=Dr.get(Uo);if(Xn){er=Xn;break}Z4.push(Uo)}Z4.forEach(Xn=>Dr.set(Xn,er))}const X2=this._buildAnimation(at.namespaceId,jt,Wt,u,Ol,ni);if(at.setRealPlayer(X2),er===o7)Ts.push(at);else{const Uo=this.playersByElement.get(er);Uo&&Uo.length&&(at.parentPlayer=U4(Uo)),c.push(at)}}else G3(Xe,jt.fromStyles),at.onDestroy(()=>W2(Xe,jt.toStyles)),r7.push(at),D.has(Xe)&&c.push(at)}),r7.forEach(Te=>{const Xe=u.get(Te.element);if(Xe&&Xe.length){const at=U4(Xe);Te.setRealPlayer(at)}}),c.forEach(Te=>{Te.parentPlayer?Te.syncPlayerEvents(Te.parentPlayer):Te.destroy()});for(let Te=0;Te<B.length;Te++){const Xe=B[Te],at=Xe[Ta];if(Q5(Xe,IS),at&&at.hasAnimation)continue;let jt=[];if(g.size){let X2=g.get(Xe);X2&&X2.length&&jt.push(...X2);let Uo=this.driver.query(Xe,Hj,!0);for(let Z4=0;Z4<Uo.length;Z4++){let Xn=g.get(Uo[Z4]);Xn&&Xn.length&&jt.push(...Xn)}}const er=jt.filter(X2=>!X2.destroyed);er.length?Rae(this,Xe,er):this.processLeaveNode(Xe)}return B.length=0,Ts.forEach(Te=>{this.players.push(Te),Te.onDone(()=>{Te.destroy();const Xe=this.players.indexOf(Te);this.players.splice(Xe,1)}),Te.play()}),Ts}elementContainsData(n,t){let o=!1;const c=t[Ta];return c&&c.setForRemoval&&(o=!0),this.playersByElement.has(t)&&(o=!0),this.playersByQueriedElement.has(t)&&(o=!0),this.statesByElement.has(t)&&(o=!0),this._fetchNamespace(n).elementContainsData(t)||o}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,t,o,c,u){let m=[];if(t){const g=this.playersByQueriedElement.get(n);g&&(m=g)}else{const g=this.playersByElement.get(n);if(g){const b=!u||u==N_;g.forEach(x=>{x.queued||!b&&x.triggerName!=c||m.push(x)})}}return(o||c)&&(m=m.filter(g=>!(o&&o!=g.namespaceId||c&&c!=g.triggerName))),m}_beforeAnimationBuild(n,t,o){const u=t.element,m=t.isRemovalTransition?void 0:n,g=t.isRemovalTransition?void 0:t.triggerName;for(const b of t.timelines){const x=b.element,D=x!==u,k=Bo(o,x,[]);this._getPreviousPlayers(x,D,m,g,t.toState).forEach(L=>{const R=L.getRealPlayer();R.beforeDestroy&&R.beforeDestroy(),L.destroy(),k.push(L)})}G3(u,t.fromStyles)}_buildAnimation(n,t,o,c,u,m){const g=t.triggerName,b=t.element,x=[],D=new Set,k=new Set,z=t.timelines.map(R=>{const j=R.element;D.add(j);const B=j[Ta];if(B&&B.removedBeforeQueried)return new Z5(R.duration,R.delay);const Q=j!==b,K=function(i){const n=[];return NG(i,n),n}((o.get(j)||kae).map(Wt=>Wt.getRealPlayer())).filter(Wt=>!!Wt.element&&Wt.element===j),he=u.get(j),_e=m.get(j),Ge=iG(0,this._normalizer,0,R.keyframes,he,_e),wt=this._buildPlayer(R,Ge,K);if(R.subTimeline&&c&&k.add(j),Q){const Wt=new eU(n,g,j);Wt.setRealPlayer(wt),x.push(Wt)}return wt});x.forEach(R=>{Bo(this.playersByQueriedElement,R.element,[]).push(R),R.onDone(()=>function(i,n,t){let o;if(i instanceof Map){if(o=i.get(n),o){if(o.length){const c=o.indexOf(t);o.splice(c,1)}0==o.length&&i.delete(n)}}else if(o=i[n],o){if(o.length){const c=o.indexOf(t);o.splice(c,1)}0==o.length&&delete i[n]}return o}(this.playersByQueriedElement,R.element,R))}),D.forEach(R=>za(R,fG));const L=U4(z);return L.onDestroy(()=>{D.forEach(R=>Q5(R,fG)),W2(b,t.toStyles)}),k.forEach(R=>{Bo(c,R,[]).push(L)}),L}_buildPlayer(n,t,o){return t.length>0?this.driver.animate(n.element,t,n.duration,n.delay,n.easing,o):new Z5(n.duration,n.delay)}}class eU{constructor(n,t,o){this.namespaceId=n,this.triggerName=t,this.element=o,this._player=new Z5,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(o=>kj(n,t,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const t=this._player;t.triggerCallback&&n.onStart(()=>t.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,t){Bo(this._queuedCallbacks,n,[]).push(t)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const t=this._player;t.triggerCallback&&t.triggerCallback(n)}}function WS(i){return i&&1===i.nodeType}function kG(i,n){const t=i.style.display;return i.style.display=null!=n?n:"none",t}function TG(i,n,t,o,c){const u=[];t.forEach(b=>u.push(kG(b)));const m=[];o.forEach((b,x)=>{const D={};b.forEach(k=>{const z=D[k]=n.computeStyle(x,k,c);(!z||0==z.length)&&(x[Ta]=Tae,m.push(x))}),i.set(x,D)});let g=0;return t.forEach(b=>kG(b,u[g++])),m}function zG(i,n){const t=new Map;if(i.forEach(g=>t.set(g,[])),0==n.length)return t;const c=new Set(n),u=new Map;function m(g){if(!g)return 1;let b=u.get(g);if(b)return b;const x=g.parentNode;return b=t.has(x)?x:c.has(x)?1:m(x),u.set(g,b),b}return n.forEach(g=>{const b=m(g);1!==b&&t.get(b).push(g)}),t}const GS="$$classes";function za(i,n){if(i.classList)i.classList.add(n);else{let t=i[GS];t||(t=i[GS]={}),t[n]=!0}}function Q5(i,n){if(i.classList)i.classList.remove(n);else{let t=i[GS];t&&delete t[n]}}function Rae(i,n,t){U4(t).onDone(()=>i.processLeaveNode(n))}function NG(i,n){for(let t=0;t<i.length;t++){const o=i[t];o instanceof tG?NG(o.players,n):n.push(o)}}function IG(i,n,t){const o=t.get(i);if(!o)return!1;let c=n.get(i);return c?o.forEach(u=>c.add(u)):n.set(i,o),t.delete(i),!0}class XS{constructor(n,t,o){this.bodyNode=n,this._driver=t,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(c,u)=>{},this._transitionEngine=new Nae(n,t,o),this._timelineEngine=new Eae(n,t,o),this._transitionEngine.onRemovalComplete=(c,u)=>this.onRemovalComplete(c,u)}registerTrigger(n,t,o,c,u){const m=n+"-"+c;let g=this._triggerCache[m];if(!g){const b=[],x=qj(this._driver,u,b);if(b.length)throw new Error(`The animation trigger "${c}" has failed to build due to the following errors:\n - ${b.join("\n - ")}`);g=function(i,n,t){return new xae(i,n,t)}(c,x,this._normalizer),this._triggerCache[m]=g}this._transitionEngine.registerTrigger(t,c,g)}register(n,t){this._transitionEngine.register(n,t)}destroy(n,t){this._transitionEngine.destroy(n,t)}onInsert(n,t,o,c){this._transitionEngine.insertNode(n,t,o,c)}onRemove(n,t,o,c){this._transitionEngine.removeNode(n,t,c||!1,o)}disableAnimations(n,t){this._transitionEngine.markElementAsDisabled(n,t)}process(n,t,o,c){if("@"==o.charAt(0)){const[u,m]=rG(o);this._timelineEngine.command(u,t,m,c)}else this._transitionEngine.trigger(n,t,o,c)}listen(n,t,o,c,u){if("@"==o.charAt(0)){const[m,g]=rG(o);return this._timelineEngine.listen(m,t,g,u)}return this._transitionEngine.listen(n,t,o,c,u)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function LG(i,n){let t=null,o=null;return Array.isArray(n)&&n.length?(t=tU(n[0]),n.length>1&&(o=tU(n[n.length-1]))):n&&(t=tU(n)),t||o?new Pae(i,t,o):null}let Pae=(()=>{class i{constructor(t,o,c){this._element=t,this._startStyles=o,this._endStyles=c,this._state=0;let u=i.initialStylesByElement.get(t);u||i.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&W2(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(W2(this._element,this._initialStyles),this._endStyles&&(W2(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(G3(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(G3(this._element,this._endStyles),this._endStyles=null),W2(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function tU(i){let n=null;const t=Object.keys(i);for(let o=0;o<t.length;o++){const c=t[o];Hae(c)&&(n=n||{},n[c]=i[c])}return n}function Hae(i){return"display"===i||"position"===i}const FG="animation",RG="animationend";class Uae{constructor(n,t,o,c,u,m,g){this._element=n,this._name=t,this._duration=o,this._delay=c,this._easing=u,this._fillMode=m,this._onDoneFn=g,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=b=>this._handleCallback(b)}apply(){(function(i,n){const t=iU(i,"").trim();let o=0;t.length&&(function(i,n){let t=0;for(let o=0;o<i.length;o++)","===i.charAt(o)&&t++;return t}(t)+1,n=`${t}, ${n}`),YS(i,"",n)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),PG(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){VG(this._element,this._name,"paused")}resume(){VG(this._element,this._name,"running")}setPosition(n){const t=OG(this._element,this._name);this._position=n*this._duration,YS(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(n){const t=n._ngTestManualTimestamp||Date.now(),o=1e3*parseFloat(n.elapsedTime.toFixed(3));n.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&o>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),PG(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(i,n){const o=iU(i,"").split(","),c=nU(o,n);c>=0&&(o.splice(c,1),YS(i,"",o.join(",")))}(this._element,this._name))}}function VG(i,n,t){YS(i,"PlayState",t,OG(i,n))}function OG(i,n){const t=iU(i,"");return t.indexOf(",")>0?nU(t.split(","),n):nU([t],n)}function nU(i,n){for(let t=0;t<i.length;t++)if(i[t].indexOf(n)>=0)return t;return-1}function PG(i,n,t){t?i.removeEventListener(RG,n):i.addEventListener(RG,n)}function YS(i,n,t,o){const c=FG+n;if(null!=o){const u=i.style[c];if(u.length){const m=u.split(",");m[o]=t,t=m.join(",")}}i.style[c]=t}function iU(i,n){return i.style[FG+n]||""}class HG{constructor(n,t,o,c,u,m,g,b){this.element=n,this.keyframes=t,this.animationName=o,this._duration=c,this._delay=u,this._finalStyles=g,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=m||"linear",this.totalTime=c+u,this._buildStyler()}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(n=>n()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(n){this._styler.setPosition(n)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Uae(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}beforeDestroy(){this.init();const n={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(o=>{"offset"!=o&&(n[o]=t?this._finalStyles[o]:$j(this.element,o))})}this.currentSnapshot=n}}class Yae extends Z5{constructor(n,t){super(),this.element=n,this._startingStyles={},this.__initialized=!1,this._styles=cG(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(n=>{this._startingStyles[n]=this.element.style[n]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(n=>this.element.style.setProperty(n,this._styles[n])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(n=>{const t=this._startingStyles[n];t?this.element.style.setProperty(n,t):this.element.style.removeProperty(n)}),this._startingStyles=null,super.destroy())}}class jG{constructor(){this._count=0}validateStyleProperty(n){return Lj(n)}matchesElement(n,t){return Fj(n,t)}containsElement(n,t){return Rj(n,t)}query(n,t,o){return Vj(n,t,o)}computeStyle(n,t,o){return window.getComputedStyle(n)[t]}buildKeyframeElement(n,t,o){o=o.map(g=>cG(g));let c=`@keyframes ${t} {\n`,u="";o.forEach(g=>{u=" ";const b=parseFloat(g.offset);c+=`${u}${100*b}% {\n`,u+=" ",Object.keys(g).forEach(x=>{const D=g[x];switch(x){case"offset":return;case"easing":return void(D&&(c+=`${u}animation-timing-function: ${D};\n`));default:return void(c+=`${u}${x}: ${D};\n`)}}),c+=`${u}}\n`}),c+="}\n";const m=document.createElement("style");return m.textContent=c,m}animate(n,t,o,c,u,m=[],g){const b=m.filter(B=>B instanceof HG),x={};gG(o,c)&&b.forEach(B=>{let Q=B.currentSnapshot;Object.keys(Q).forEach(K=>x[K]=Q[K])});const D=function(i){let n={};return i&&(Array.isArray(i)?i:[i]).forEach(o=>{Object.keys(o).forEach(c=>{"offset"==c||"easing"==c||(n[c]=o[c])})}),n}(t=vG(n,t,x));if(0==o)return new Yae(n,D);const k="gen_css_kf_"+this._count++,z=this.buildKeyframeElement(n,k,t);(function(i){var t;const n=null==(t=i.getRootNode)?void 0:t.call(i);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(n).appendChild(z);const R=LG(n,t),j=new HG(n,t,k,o,c,u,D,R);return j.onDestroy(()=>function(i){i.parentNode.removeChild(i)}(z)),j}}class $G{constructor(n,t,o,c){this.element=n,this.keyframes=t,this.options=o,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(n,t,o){return n.animate(t,o)}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(n[t]=this._finished?this._finalKeyframe[t]:$j(this.element,t))}),this.currentSnapshot=n}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class ese{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(qG().toString()),this._cssKeyframesDriver=new jG}validateStyleProperty(n){return Lj(n)}matchesElement(n,t){return Fj(n,t)}containsElement(n,t){return Rj(n,t)}query(n,t,o){return Vj(n,t,o)}computeStyle(n,t,o){return window.getComputedStyle(n)[t]}overrideWebAnimationsSupport(n){this._isNativeImpl=n}animate(n,t,o,c,u,m=[],g){if(!g&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(n,t,o,c,u,m);const D={duration:o,delay:c,fill:0==c?"both":"forwards"};u&&(D.easing=u);const k={},z=m.filter(R=>R instanceof $G);gG(o,c)&&z.forEach(R=>{let j=R.currentSnapshot;Object.keys(j).forEach(B=>k[B]=j[B])});const L=LG(n,t=vG(n,t=t.map(R=>$4(R,!1)),k));return new $G(n,t,D,L)}}function qG(){return nG()&&Element.prototype.animate||{}}let nse=(()=>{class i extends QW{constructor(t,o){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(o.body,{id:"0",encapsulation:Ir.None,styles:[],data:{animation:[]}})}build(t){const o=this._nextAnimationId.toString();this._nextAnimationId++;const c=Array.isArray(t)?JW(t):t;return WG(this._renderer,null,o,"register",[c]),new ise(o,this._renderer)}}return i.\u0275fac=function(t){return new(t||i)(ce(pa),ce(ut))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();class ise extends class{}{constructor(n,t){super(),this._id=n,this._renderer=t}create(n,t){return new rse(this._id,n,t||{},this._renderer)}}class rse{constructor(n,t,o,c){this.id=n,this.element=t,this._renderer=c,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(n,t){return this._renderer.listen(this.element,`@@${this.id}:${n}`,t)}_command(n,...t){return WG(this._renderer,this.element,this.id,n,t)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){var n,t;return null!=(t=null==(n=this._renderer.engine.players[+this.id])?void 0:n.getPosition())?t:0}}function WG(i,n,t,o,c){return i.setProperty(n,`@@${t}:${o}`,c)}const GG="@.disabled";let ose=(()=>{class i{constructor(t,o,c){this.delegate=t,this.engine=o,this._zone=c,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(u,m)=>{const g=null==m?void 0:m.parentNode(u);g&&m.removeChild(g,u)}}createRenderer(t,o){const u=this.delegate.createRenderer(t,o);if(!(t&&o&&o.data&&o.data.animation)){let D=this._rendererCache.get(u);return D||(D=new XG("",u,this.engine),this._rendererCache.set(u,D)),D}const m=o.id,g=o.id+"-"+this._currentId;this._currentId++,this.engine.register(g,t);const b=D=>{Array.isArray(D)?D.forEach(b):this.engine.registerTrigger(m,g,t,D.name,D)};return o.data.animation.forEach(b),new ase(this,g,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,o,c){t>=0&&t<this._microtaskId?this._zone.run(()=>o(c)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[m,g]=u;m(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,c]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(t){return new(t||i)(ce(pa),ce(XS),ce(Et))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();class XG{constructor(n,t,o){this.namespaceId=n,this.delegate=t,this.engine=o,this.destroyNode=this.delegate.destroyNode?c=>t.destroyNode(c):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,t){this.delegate.appendChild(n,t),this.engine.onInsert(this.namespaceId,t,n,!1)}insertBefore(n,t,o,c=!0){this.delegate.insertBefore(n,t,o),this.engine.onInsert(this.namespaceId,t,n,c)}removeChild(n,t,o){this.engine.onRemove(this.namespaceId,t,this.delegate,o)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,o,c){this.delegate.setAttribute(n,t,o,c)}removeAttribute(n,t,o){this.delegate.removeAttribute(n,t,o)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,o,c){this.delegate.setStyle(n,t,o,c)}removeStyle(n,t,o){this.delegate.removeStyle(n,t,o)}setProperty(n,t,o){"@"==t.charAt(0)&&t==GG?this.disableAnimations(n,!!o):this.delegate.setProperty(n,t,o)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,o){return this.delegate.listen(n,t,o)}disableAnimations(n,t){this.engine.disableAnimations(n,t)}}class ase extends XG{constructor(n,t,o,c){super(t,o,c),this.factory=n,this.namespaceId=t}setProperty(n,t,o){"@"==t.charAt(0)?"."==t.charAt(1)&&t==GG?this.disableAnimations(n,o=void 0===o||!!o):this.engine.process(this.namespaceId,n,t.substr(1),o):this.delegate.setProperty(n,t,o)}listen(n,t,o){if("@"==t.charAt(0)){const c=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(n);let u=t.substr(1),m="";return"@"!=u.charAt(0)&&([u,m]=function(i){const n=i.indexOf(".");return[i.substring(0,n),i.substr(n+1)]}(u)),this.engine.listen(this.namespaceId,c,u,m,g=>{this.factory.scheduleListenerCallback(g._data||-1,o,g)})}return this.delegate.listen(n,t,o)}}let lse=(()=>{class i extends XS{constructor(t,o,c){super(t.body,o,c)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(t){return new(t||i)(ce(ut),ce(Oj),ce(Zj))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();const Na=new be("AnimationModuleType"),YG=[{provide:QW,useClass:nse},{provide:Zj,useFactory:function(){return new gae}},{provide:XS,useClass:lse},{provide:pa,useFactory:function(i,n,t){return new ose(i,n,t)},deps:[b4,XS,Et]}],ZG=[{provide:Oj,useFactory:function(){return"function"==typeof qG()?new ese:new jG}},{provide:Na,useValue:"BrowserAnimations"},...YG],hse=[{provide:Oj,useClass:lG},{provide:Na,useValue:"NoopAnimations"},...YG];let mse=(()=>{class i{static withConfig(t){return{ngModule:i,providers:t.disableAnimations?hse:ZG}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({providers:ZG,imports:[Zg]}),i})();function pse(i,n){if(1&i&&De(0,"mat-pseudo-checkbox",4),2&i){const t=Ie();me("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function gse(i,n){if(1&i&&($(0,"span",5),Ee(1),U()),2&i){const t=Ie();ue(1),Di("(",t.group.label,")")}}const vse=["*"],KG=new cs("13.0.2"),yse=new be("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let tn=(()=>{class i{constructor(t,o,c){this._hasDoneGlobalChecks=!1,this._document=c,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=o,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!Bp()||Mj())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const o=getComputedStyle(t);o&&"none"!==o.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&KG.full!==KW.full&&console.warn("The Angular Material version ("+KG.full+") does not match the Angular CDK version ("+KW.full+").\nPlease ensure the versions of these two packages exactly match.")}}return i.\u0275fac=function(t){return new(t||i)(ce(ZW),ce(yse,8),ce(ut))},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({imports:[[T_],T_]}),i})();function KS(i){return class extends i{constructor(...n){super(...n),this._disabled=!1}get disabled(){return this._disabled}set disabled(n){this._disabled=Pt(n)}}}function I_(i,n){return class extends i{constructor(...t){super(...t),this.defaultColor=n,this.color=n}get color(){return this._color}set color(t){const o=t||this.defaultColor;o!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),o&&this._elementRef.nativeElement.classList.add(`mat-${o}`),this._color=o)}}}function Y3(i){return class extends i{constructor(...n){super(...n),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=Pt(n)}}}function QS(i,n=0){return class extends i{constructor(...t){super(...t),this._tabIndex=n,this.defaultTabIndex=n}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?W5(t):this.defaultTabIndex}}}function QG(i){return class extends i{constructor(...n){super(...n),this.stateChanges=new st,this.errorState=!1}updateErrorState(){const n=this.errorState,u=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);u!==n&&(this.errorState=u,this.stateChanges.next())}}}let rU=(()=>{class i{isErrorState(t,o){return!!(t&&t.invalid&&(t.touched||o&&o.submitted))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Cse=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ae({type:i,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),i})();function L_(i,n,t){i.nativeElement.classList.toggle(n,t)}let JG=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({imports:[[tn],tn]}),i})();class Mse{constructor(n,t,o){this._renderer=n,this.element=t,this.config=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const eX={enterDuration:225,exitDuration:150},oU=S_({passive:!0}),tX=["mousedown","touchstart"],nX=["mouseup","mouseleave","touchend","touchcancel"];class Ese{constructor(n,t,o,c){this._target=n,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,c.isBrowser&&(this._containerElement=Ll(o))}fadeInRipple(n,t,o={}){const c=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),u=Ct(Ct({},eX),o.animation);o.centered&&(n=c.left+c.width/2,t=c.top+c.height/2);const m=o.radius||function(i,n,t){const o=Math.max(Math.abs(i-t.left),Math.abs(i-t.right)),c=Math.max(Math.abs(n-t.top),Math.abs(n-t.bottom));return Math.sqrt(o*o+c*c)}(n,t,c),g=n-c.left,b=t-c.top,x=u.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=g-m+"px",D.style.top=b-m+"px",D.style.height=2*m+"px",D.style.width=2*m+"px",null!=o.color&&(D.style.backgroundColor=o.color),D.style.transitionDuration=`${x}ms`,this._containerElement.appendChild(D),function(i){window.getComputedStyle(i).getPropertyValue("opacity")}(D),D.style.transform="scale(1)";const k=new Mse(this,D,o);return k.state=0,this._activeRipples.add(k),o.persistent||(this._mostRecentTransientRipple=k),this._runTimeoutOutsideZone(()=>{const z=k===this._mostRecentTransientRipple;k.state=1,!o.persistent&&(!z||!this._isPointerDown)&&k.fadeOut()},x),k}fadeOutRipple(n){const t=this._activeRipples.delete(n);if(n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const o=n.element,c=Ct(Ct({},eX),n.config.animation);o.style.transitionDuration=`${c.exitDuration}ms`,o.style.opacity="0",n.state=2,this._runTimeoutOutsideZone(()=>{n.state=3,o.remove()},c.exitDuration)}fadeOutAll(){this._activeRipples.forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const t=Ll(n);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(tX))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(nX),this._pointerUpEventsRegistered=!0)}_onMousedown(n){const t=qW(n),o=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!o&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!WW(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=n.changedTouches;for(let o=0;o<t.length;o++)this.fadeInRipple(t[o].clientX,t[o].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_runTimeoutOutsideZone(n,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(n,t))}_registerEvents(n){this._ngZone.runOutsideAngular(()=>{n.forEach(t=>{this._triggerElement.addEventListener(t,this,oU)})})}_removeTriggerEvents(){this._triggerElement&&(tX.forEach(n=>{this._triggerElement.removeEventListener(n,this,oU)}),this._pointerUpEventsRegistered&&nX.forEach(n=>{this._triggerElement.removeEventListener(n,this,oU)}))}}const Sse=new be("mat-ripple-global-options");let q4=(()=>{class i{constructor(t,o,c,u,m){this._elementRef=t,this._animationMode=m,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=u||{},this._rippleRenderer=new Ese(this,o,t,c)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Ct(Ct(Ct({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,o=0,c){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,o,Ct(Ct({},this.rippleConfig),c)):this._rippleRenderer.fadeInRipple(0,0,Ct(Ct({},this.rippleConfig),t))}}return i.\u0275fac=function(t){return new(t||i)(q(mt),q(Et),q(Xr),q(Sse,8),q(Na,8))},i.\u0275dir=Ae({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,o){2&t&&on("mat-ripple-unbounded",o.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),J5=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({imports:[[tn,AS],tn]}),i})(),iX=(()=>{class i{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return i.\u0275fac=function(t){return new(t||i)(q(Na,8))},i.\u0275cmp=sn({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,o){2&t&&on("mat-pseudo-checkbox-indeterminate","indeterminate"===o.state)("mat-pseudo-checkbox-checked","checked"===o.state)("mat-pseudo-checkbox-disabled",o.disabled)("_mat-animation-noopable","NoopAnimations"===o._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,o){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),i})(),aU=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({imports:[[tn]]}),i})();const rX=new be("MAT_OPTION_PARENT_COMPONENT"),oX=new be("MatOptgroup");let kse=0;class Tse{constructor(n,t=!1){this.source=n,this.isUserInput=t}}let zse=(()=>{class i{constructor(t,o,c,u){this._element=t,this._changeDetectorRef=o,this._parent=c,this.group=u,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+kse++,this.onSelectionChange=new rt,this._stateChanges=new st}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Pt(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,o){const c=this._getHostElement();"function"==typeof c.focus&&c.focus(o)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Il(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new Tse(this,t))}}return i.\u0275fac=function(t){Q8()},i.\u0275dir=Ae({type:i,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),i})(),aX=(()=>{class i extends zse{constructor(t,o,c,u){super(t,o,c,u)}}return i.\u0275fac=function(t){return new(t||i)(q(mt),q(Bt),q(rX,8),q(oX,8))},i.\u0275cmp=sn({type:i,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,o){1&t&&Me("click",function(){return o._selectViaInteraction()})("keydown",function(u){return o._handleKeydown(u)}),2&t&&(b2("id",o.id),dt("tabindex",o._getTabIndex())("aria-selected",o._getAriaSelected())("aria-disabled",o.disabled.toString()),on("mat-selected",o.selected)("mat-option-multiple",o.multiple)("mat-active",o.active)("mat-option-disabled",o.disabled))},exportAs:["matOption"],features:[Ze],ngContentSelectors:vse,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,o){1&t&&(Bi(),it(0,pse,1,2,"mat-pseudo-checkbox",0),$(1,"span",1),rn(2),U(),it(3,gse,2,1,"span",2),De(4,"div",3)),2&t&&(me("ngIf",o.multiple),ue(3),me("ngIf",o.group&&o.group._inert),ue(1),me("matRippleTrigger",o._getHostElement())("matRippleDisabled",o.disabled||o.disableRipple))},directives:[L2,q4,iX],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),i})();function sX(i,n,t){if(t.length){let o=n.toArray(),c=t.toArray(),u=0;for(let m=0;m<i+1;m++)o[m].group&&o[m].group===c[u]&&u++;return u}return 0}let cX=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({imports:[[J5,R2,tn,aU]]}),i})();function Ise(i,n){if(1&i&&(Ha(),De(0,"circle",3)),2&i){const t=Ie();Or("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),dt("r",t._getCircleRadius())}}function Lse(i,n){if(1&i&&(Ha(),De(0,"circle",3)),2&i){const t=Ie();Or("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),dt("r",t._getCircleRadius())}}function Fse(i,n){if(1&i&&(Ha(),De(0,"circle",3)),2&i){const t=Ie();Or("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),dt("r",t._getCircleRadius())}}function Rse(i,n){if(1&i&&(Ha(),De(0,"circle",3)),2&i){const t=Ie();Or("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),dt("r",t._getCircleRadius())}}const Pse=I_(class{constructor(i){this._elementRef=i}},"primary"),lX=new be("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class Rl extends Pse{constructor(n,t,o,c,u){super(n),this._document=o,this._diameter=100,this._value=0,this.mode="determinate";const m=Rl._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),m.has(o.head)||m.set(o.head,new Set([100])),this._noopAnimations="NoopAnimations"===c&&!!u&&!u._forceAnimations,u&&(u.diameter&&(this.diameter=u.diameter),u.strokeWidth&&(this.strokeWidth=u.strokeWidth))}get diameter(){return this._diameter}set diameter(n){this._diameter=W5(n),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(n){this._strokeWidth=W5(n)}get value(){return"determinate"===this.mode?this._value:0}set value(n){this._value=Math.max(0,Math.min(100,W5(n)))}ngOnInit(){const n=this._elementRef.nativeElement;this._styleRoot=VW(n)||this._document.head,this._attachStyleNode(),n.classList.add("mat-progress-spinner-indeterminate-animation")}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const n=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${n} ${n}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const n=this._styleRoot,t=this._diameter,o=Rl._diameters;let c=o.get(n);if(!c||!c.has(t)){const u=this._document.createElement("style");u.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),u.textContent=this._getAnimationText(),n.appendChild(u),c||(c=new Set,o.set(n,c)),c.add(t)}}_getAnimationText(){const n=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*n).replace(/END_VALUE/g,""+.2*n).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Rl._diameters=new WeakMap,Rl.\u0275fac=function(n){return new(n||Rl)(q(mt),q(Xr),q(ut,8),q(Na,8),q(lX))},Rl.\u0275cmp=sn({type:Rl,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(n,t){2&n&&(dt("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),Or("width",t.diameter,"px")("height",t.diameter,"px"),on("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[Ze],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(n,t){1&n&&(Ha(),$(0,"svg",0),it(1,Ise,1,9,"circle",1),it(2,Lse,1,7,"circle",2),U()),2&n&&(Or("width",t.diameter,"px")("height",t.diameter,"px"),me("ngSwitch","indeterminate"===t.mode),dt("viewBox",t._getViewBox()),ue(1),me("ngSwitchCase",!0),ue(1),me("ngSwitchCase",!1))},directives:[ml,pl],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let jse=(()=>{class i extends Rl{constructor(t,o,c,u,m){super(t,o,c,u,m),this.mode="indeterminate"}}return i.\u0275fac=function(t){return new(t||i)(q(mt),q(Xr),q(ut,8),q(Na,8),q(lX))},i.\u0275cmp=sn({type:i,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,o){2&t&&(Or("width",o.diameter,"px")("height",o.diameter,"px"),on("_mat-animation-noopable",o._noopAnimations))},inputs:{color:"color"},features:[Ze],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,o){1&t&&(Ha(),$(0,"svg",0),it(1,Fse,1,9,"circle",1),it(2,Rse,1,7,"circle",2),U()),2&t&&(Or("width",o.diameter,"px")("height",o.diameter,"px"),me("ngSwitch","indeterminate"===o.mode),dt("viewBox",o._getViewBox()),ue(1),me("ngSwitchCase",!0),ue(1),me("ngSwitchCase",!1))},directives:[ml,pl],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0}),i})(),uX=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({imports:[[tn,R2],tn]}),i})();function Use(i,n){1&i&&De(0,"mat-spinner",9)}function $se(i,n){if(1&i&&($(0,"div",4),$(1,"div",5),De(2,"app-side-nav"),U(),$(3,"div",6),$(4,"div",7),it(5,Use,1,0,"mat-spinner",8),U(),U(),U()),2&i){const t=Ie();ue(5),me("ngIf",t.initialLoad)}}function qse(i,n){1&i&&($(0,"div",4),De(1,"div",10),U())}let F_=(()=>{class i{constructor(t){this.ngProgress=t,this.sideNAVHidden=!1,this.containmentSelect=!1,this.sideNavContainer1Expanded=!0,this.sideNavContainer2Expanded=!0,this.sideNavContainer3Expanded=!0,this.sideNavContainer4Expanded=!0,this.initialLoad=!0,this.modes=[],this.appearance=[],this.containerStrings=[],this.selectedContainer="All Container",this.selectedRotation="0 Degree",this.initializeModes(),this.initializeAppearance()}updateContainer(){this.containerStrings=this.controller.currentMode.calculateContainerStrings()}ngOnInit(){}onResize(t){null!=this.controller&&this.controller.properties.initialize()}handleKeyboardEvent(t){switch(t.key){case"ArrowUp":{let o=document.getElementById("drawing").scrollHeight/12;document.getElementById("drawing").scrollTop-=o;break}case"ArrowDown":{let o=document.getElementById("drawing").scrollHeight/12;document.getElementById("drawing").scrollTop+=o;break}case"ArrowLeft":{let o=document.getElementById("drawing").scrollWidth/12;document.getElementById("drawing").scrollLeft-=o;break}case"ArrowRight":{let o=document.getElementById("drawing").scrollWidth/12;document.getElementById("drawing").scrollLeft+=o;break}}}ngAfterViewInit(){this.promiseFrameworkLoaded=je.e(365).then(je.bind(je,365)).then(t=>{this.controller=new t.GraphController(this),this.controller.graphs[this.controller.currentOrgan].readyPromise.then(()=>{this.updateContainer(),this.initialLoad=!1,this.controller.render(!0,[],[])})}).then()}initializeAppearance(){this.appearance.push({id:"A1",label:"Draw Labels",sel:!0}),this.appearance.push({id:"A2",label:"Show Tooltips",sel:!1}),this.appearance.push({id:"A3",label:"Dark Theme",sel:!1})}initializeModes(){this.modes.push({id:"M1",label:"Complete Graph",sel:!0}),this.modes.push({id:"M2",label:"Partial Graph",sel:!1}),this.modes.push({id:"M3",label:"Exploration",sel:!1}),this.modes.push({id:"M4",label:"Unmodified Graph",sel:!1})}}return i.\u0275fac=function(t){return new(t||i)(q(uX))},i.\u0275cmp=sn({type:i,selectors:[["app-visualization"]],hostBindings:function(t,o){1&t&&Me("resize",function(u){return o.onResize(u)},!1,Fb)("keydown",function(u){return o.handleKeyboardEvent(u)},!1,n8)},decls:5,vars:2,consts:[["role","main","id","main",1,"flex-container",2,"display","flex","flex-direction","column","overflow","hidden"],["id","header",1,"flex-container","flex-row",2,"display","flex","min-height","90px"],[1,"w-100","h-100"],["class","flex-container d-flex","id","content",4,"ngIf"],["id","content",1,"flex-container","d-flex"],[1,"h-100",2,"width","15%","overflow-y","auto","direction","rtl"],["id","drawing",1,"h-100",2,"width","85%","overflow-y","scroll","overflow-x","hidden"],[1,"d-flex","align-items-center","w-100","h-100"],["class","custom-spinner","style","margin: 0 auto;","diameter","300","strokeWidth","10",4,"ngIf"],["diameter","300","strokeWidth","10",1,"custom-spinner",2,"margin","0 auto"],["id","drawing",1,"h-100","w-100",2,"overflow","scroll"]],template:function(t,o){1&t&&($(0,"div",0),$(1,"div",1),De(2,"app-top-nav",2),U(),it(3,$se,6,1,"div",3),it(4,qse,2,0,"div",3),U()),2&t&&(ue(3),me("ngIf",!o.sideNAVHidden),ue(1),me("ngIf",o.sideNAVHidden))},styles:["#main[_ngcontent-%COMP%]{height:100vh}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:content-box}#header[_ngcontent-%COMP%]{height:10%;background-color:#262626;color:#fff}#content[_ngcontent-%COMP%]{height:90%}[_nghost-%COMP%]     .custom-spinner circle{stroke:#000}.vega-container[_ngcontent-%COMP%], .vega-container[_ngcontent-%COMP%]:after, .vega-container[_ngcontent-%COMP%]:before{box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;-ms-box-sizing:border-box}.vega-container[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center}"]}),i})();const Wse=["addListener","removeListener"],Gse=["addEventListener","removeEventListener"],Xse=["on","off"];function JS(i,n,t,o){if(Be(t)&&(o=t,t=void 0),o)return JS(i,n,t).pipe(x3(o));const[c,u]=function(i){return Be(i.addEventListener)&&Be(i.removeEventListener)}(i)?Gse.map(m=>g=>i[m](n,g,t)):function(i){return Be(i.addListener)&&Be(i.removeListener)}(i)?Wse.map(fX(i,n)):function(i){return Be(i.on)&&Be(i.off)}(i)?Xse.map(fX(i,n)):[];if(!c&&J2(i))return Fs(m=>JS(m,n,t))(yi(i));if(!c)throw new TypeError("Invalid event target");return new Lt(m=>{const g=(...b)=>m.next(1<b.length?b:b[0]);return c(g),()=>u(g)})}function fX(i,n){return t=>o=>i[t](n,o)}const Qse=["connectionContainer"],Jse=["inputContainer"],e2e=["label"];function t2e(i,n){1&i&&(J8(0),$(1,"div",14),De(2,"div",15),De(3,"div",16),De(4,"div",17),U(),$(5,"div",18),De(6,"div",15),De(7,"div",16),De(8,"div",17),U(),m2())}function n2e(i,n){if(1&i){const t=Kn();$(0,"div",19),Me("cdkObserveContent",function(){return Sn(t),Ie().updateOutlineGap()}),rn(1,1),U()}2&i&&me("cdkObserveContentDisabled","outline"!=Ie().appearance)}function i2e(i,n){if(1&i&&(J8(0),rn(1,2),$(2,"span"),Ee(3),U(),m2()),2&i){const t=Ie(2);ue(3),O1(t._control.placeholder)}}function r2e(i,n){1&i&&rn(0,3,["*ngSwitchCase","true"])}function o2e(i,n){1&i&&($(0,"span",23),Ee(1," *"),U())}function a2e(i,n){if(1&i){const t=Kn();$(0,"label",20,21),Me("cdkObserveContent",function(){return Sn(t),Ie().updateOutlineGap()}),it(2,i2e,4,1,"ng-container",12),it(3,r2e,1,0,"ng-content",12),it(4,o2e,2,0,"span",22),U()}if(2&i){const t=Ie();on("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),me("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),dt("for",t._control.id)("aria-owns",t._control.id),ue(2),me("ngSwitchCase",!1),ue(1),me("ngSwitchCase",!0),ue(1),me("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function s2e(i,n){1&i&&($(0,"div",24),rn(1,4),U())}function c2e(i,n){if(1&i&&($(0,"div",25),De(1,"span",26),U()),2&i){const t=Ie();ue(1),on("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function l2e(i,n){1&i&&($(0,"div"),rn(1,5),U()),2&i&&me("@transitionMessages",Ie()._subscriptAnimationState)}function u2e(i,n){if(1&i&&($(0,"div",30),Ee(1),U()),2&i){const t=Ie(2);me("id",t._hintLabelId),ue(1),O1(t.hintLabel)}}function f2e(i,n){if(1&i&&($(0,"div",27),it(1,u2e,2,2,"div",28),rn(2,6),De(3,"div",29),rn(4,7),U()),2&i){const t=Ie();me("@transitionMessages",t._subscriptAnimationState),ue(1),me("ngIf",t.hintLabel)}}const d2e=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],h2e=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],m2e=new be("MatError"),p2e={transitionMessages:Y5("transitionMessages",[q2("enter",Ki({opacity:1,transform:"translateY(0%)"})),j4("void => enter",[Ki({opacity:0,transform:"translateY(-5px)"}),$3("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ek=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ae({type:i}),i})();const g2e=new be("MatHint");let cU=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ae({type:i,selectors:[["mat-label"]]}),i})(),v2e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ae({type:i,selectors:[["mat-placeholder"]]}),i})();const _2e=new be("MatPrefix"),dX=new be("MatSuffix");let y2e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ae({type:i,selectors:[["","matSuffix",""]],features:[Ye([{provide:dX,useExisting:i}])]}),i})(),hX=0;const C2e=I_(class{constructor(i){this._elementRef=i}},"primary"),x2e=new be("MAT_FORM_FIELD_DEFAULT_OPTIONS"),lU=new be("MatFormField");let pX=(()=>{class i extends C2e{constructor(t,o,c,u,m,g,b){super(t),this._changeDetectorRef=o,this._dir=c,this._defaults=u,this._platform=m,this._ngZone=g,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new st,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+hX++,this._labelId="mat-form-field-label-"+hX++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==b,this.appearance=u&&u.appearance?u.appearance:"legacy",this._hideRequiredMarker=!(!u||null==u.hideRequiredMarker)&&u.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const o=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&o!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Pt(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Io(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Jt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Jt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),oc(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Io(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Io(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Jt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const o=this._control?this._control.ngControl:null;return o&&o[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,JS(this._label.nativeElement,"transitionend").pipe(Yo(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const o=this._hintChildren?this._hintChildren.find(u=>"start"===u.align):null,c=this._hintChildren?this._hintChildren.find(u=>"end"===u.align):null;o?t.push(o.id):this._hintLabel&&t.push(this._hintLabelId),c&&t.push(c.id)}else this._errorChildren&&t.push(...this._errorChildren.map(o=>o.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let o=0,c=0;const u=this._connectionContainerRef.nativeElement,m=u.querySelectorAll(".mat-form-field-outline-start"),g=u.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const b=u.getBoundingClientRect();if(0===b.width&&0===b.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const x=this._getStartEnd(b),D=t.children,k=this._getStartEnd(D[0].getBoundingClientRect());let z=0;for(let L=0;L<D.length;L++)z+=D[L].offsetWidth;o=Math.abs(k-x)-5,c=z>0?.75*z+10:0}for(let b=0;b<m.length;b++)m[b].style.width=`${o}px`;for(let b=0;b<g.length;b++)g[b].style.width=`${c}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const o=t.getRootNode();return o&&o!==t}return document.documentElement.contains(t)}}return i.\u0275fac=function(t){return new(t||i)(q(mt),q(Bt),q(k_,8),q(x2e,8),q(Xr),q(Et),q(Na,8))},i.\u0275cmp=sn({type:i,selectors:[["mat-form-field"]],contentQueries:function(t,o,c){if(1&t&&(Jn(c,ek,5),Jn(c,ek,7),Jn(c,cU,5),Jn(c,cU,7),Jn(c,v2e,5),Jn(c,m2e,5),Jn(c,g2e,5),Jn(c,_2e,5),Jn(c,dX,5)),2&t){let u;vt(u=_t())&&(o._controlNonStatic=u.first),vt(u=_t())&&(o._controlStatic=u.first),vt(u=_t())&&(o._labelChildNonStatic=u.first),vt(u=_t())&&(o._labelChildStatic=u.first),vt(u=_t())&&(o._placeholderChild=u.first),vt(u=_t())&&(o._errorChildren=u),vt(u=_t())&&(o._hintChildren=u),vt(u=_t())&&(o._prefixChildren=u),vt(u=_t())&&(o._suffixChildren=u)}},viewQuery:function(t,o){if(1&t&&(Pn(Qse,7),Pn(Jse,5),Pn(e2e,5)),2&t){let c;vt(c=_t())&&(o._connectionContainerRef=c.first),vt(c=_t())&&(o._inputContainerRef=c.first),vt(c=_t())&&(o._label=c.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,o){2&t&&on("mat-form-field-appearance-standard","standard"==o.appearance)("mat-form-field-appearance-fill","fill"==o.appearance)("mat-form-field-appearance-outline","outline"==o.appearance)("mat-form-field-appearance-legacy","legacy"==o.appearance)("mat-form-field-invalid",o._control.errorState)("mat-form-field-can-float",o._canLabelFloat())("mat-form-field-should-float",o._shouldLabelFloat())("mat-form-field-has-label",o._hasFloatingLabel())("mat-form-field-hide-placeholder",o._hideControlPlaceholder())("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-focused",o._control.focused)("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))("_mat-animation-noopable",!o._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Ye([{provide:lU,useExisting:i}]),Ze],ngContentSelectors:h2e,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,o){1&t&&(Bi(d2e),$(0,"div",0),$(1,"div",1,2),Me("click",function(u){return o._control.onContainerClick&&o._control.onContainerClick(u)}),it(3,t2e,9,0,"ng-container",3),it(4,n2e,2,1,"div",4),$(5,"div",5,6),rn(7),$(8,"span",7),it(9,a2e,5,16,"label",8),U(),U(),it(10,s2e,2,0,"div",9),U(),it(11,c2e,2,4,"div",10),$(12,"div",11),it(13,l2e,2,1,"div",12),it(14,f2e,5,2,"div",13),U(),U()),2&t&&(ue(3),me("ngIf","outline"==o.appearance),ue(1),me("ngIf",o._prefixChildren.length),ue(5),me("ngIf",o._hasFloatingLabel()),ue(1),me("ngIf",o._suffixChildren.length),ue(1),me("ngIf","outline"!=o.appearance),ue(1),me("ngSwitch",o._getDisplayedMessages()),ue(1),me("ngSwitchCase","error"),ue(1),me("ngSwitchCase","hint"))},directives:[L2,ml,pl,wj],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[p2e.transitionMessages]},changeDetection:0}),i})(),uU=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({imports:[[R2,tn,kS],tn]}),i})();const gX=S_({passive:!0});let M2e=(()=>{class i{constructor(t,o){this._platform=t,this._ngZone=o,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return ql;const o=Ll(t),c=this._monitoredElements.get(o);if(c)return c.subject;const u=new st,m="cdk-text-field-autofilled",g=b=>{"cdk-text-field-autofill-start"!==b.animationName||o.classList.contains(m)?"cdk-text-field-autofill-end"===b.animationName&&o.classList.contains(m)&&(o.classList.remove(m),this._ngZone.run(()=>u.next({target:b.target,isAutofilled:!1}))):(o.classList.add(m),this._ngZone.run(()=>u.next({target:b.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{o.addEventListener("animationstart",g,gX),o.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(o,{subject:u,unlisten:()=>{o.removeEventListener("animationstart",g,gX)}}),u}stopMonitoring(t){const o=Ll(t),c=this._monitoredElements.get(o);c&&(c.unlisten(),c.subject.complete(),o.classList.remove("cdk-text-field-autofill-monitored"),o.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(o))}ngOnDestroy(){this._monitoredElements.forEach((t,o)=>this.stopMonitoring(o))}}return i.\u0275fac=function(t){return new(t||i)(ce(Xr),ce(Et))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),vX=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({imports:[[AS]]}),i})();let yX=(()=>{class i{constructor(t,o){this._renderer=t,this._elementRef=o,this.onChange=c=>{},this.onTouched=()=>{}}setProperty(t,o){this._renderer.setProperty(this._elementRef.nativeElement,t,o)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return i.\u0275fac=function(t){return new(t||i)(q(w2),q(mt))},i.\u0275dir=Ae({type:i}),i})(),Z3=(()=>{class i extends yX{}return i.\u0275fac=function(){let n;return function(o){return(n||(n=xi(i)))(o||i)}}(),i.\u0275dir=Ae({type:i,features:[Ze]}),i})();const K1=new be("NgValueAccessor"),E2e={provide:K1,useExisting:kt(()=>tk),multi:!0},A2e=new be("CompositionEventMode");let tk=(()=>{class i extends yX{constructor(t,o,c){super(t,o),this._compositionMode=c,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=So()?So().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return i.\u0275fac=function(t){return new(t||i)(q(w2),q(mt),q(A2e,8))},i.\u0275dir=Ae({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,o){1&t&&Me("input",function(u){return o._handleInput(u.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(u){return o._compositionEnd(u.target.value)})},features:[Ye([E2e]),Ze]}),i})();function W4(i){return null==i||0===i.length}function CX(i){return null!=i&&"number"==typeof i.length}const Qi=new be("NgValidators"),G4=new be("NgAsyncValidators"),S2e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xX{static min(n){return function(i){return n=>{if(W4(n.value)||W4(i))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<i?{min:{min:i,actual:n.value}}:null}}(n)}static max(n){return function(i){return n=>{if(W4(n.value)||W4(i))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>i?{max:{max:i,actual:n.value}}:null}}(n)}static required(n){return function(i){return W4(i.value)?{required:!0}:null}(n)}static requiredTrue(n){return function(i){return!0===i.value?null:{required:!0}}(n)}static email(n){return function(i){return W4(i.value)||S2e.test(i.value)?null:{email:!0}}(n)}static minLength(n){return function(i){return n=>W4(n.value)||!CX(n.value)?null:n.value.length<i?{minlength:{requiredLength:i,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function(i){return n=>CX(n.value)&&n.value.length>i?{maxlength:{requiredLength:i,actualLength:n.value.length}}:null}(n)}static pattern(n){return function(i){if(!i)return R_;let n,t;return"string"==typeof i?(t="","^"!==i.charAt(0)&&(t+="^"),t+=i,"$"!==i.charAt(i.length-1)&&(t+="$"),n=new RegExp(t)):(t=i.toString(),n=i),o=>{if(W4(o.value))return null;const c=o.value;return n.test(c)?null:{pattern:{requiredPattern:t,actualValue:c}}}}(n)}static nullValidator(n){return null}static compose(n){return RX(n)}static composeAsync(n){return VX(n)}}function R_(i){return null}function zX(i){return null!=i}function NX(i){const n=ed(i)?rc(i):i;return R1(n),n}function IX(i){let n={};return i.forEach(t=>{n=null!=t?Ct(Ct({},n),t):n}),0===Object.keys(n).length?null:n}function LX(i,n){return n.map(t=>t(i))}function FX(i){return i.map(n=>function(i){return!i.validate}(n)?n:t=>n.validate(t))}function RX(i){if(!i)return null;const n=i.filter(zX);return 0==n.length?null:function(t){return IX(LX(t,n))}}function fU(i){return null!=i?RX(FX(i)):null}function VX(i){if(!i)return null;const n=i.filter(zX);return 0==n.length?null:function(t){return function(...i){const n=ne(i),{args:t,keys:o}=OD(i),c=new Lt(u=>{const{length:m}=t;if(!m)return void u.complete();const g=new Array(m);let b=m,x=m;for(let D=0;D<m;D++){let k=!1;yi(t[D]).subscribe(new Gt(u,z=>{k||(k=!0,x--),g[D]=z},()=>b--,void 0,()=>{(!b||!k)&&(x||u.next(o?Nv(o,g):g),u.complete())}))}});return n?c.pipe(x3(n)):c}(LX(t,n).map(NX)).pipe(an(IX))}}function dU(i){return null!=i?VX(FX(i)):null}function OX(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function PX(i){return i._rawValidators}function HX(i){return i._rawAsyncValidators}function hU(i){return i?Array.isArray(i)?i:[i]:[]}function nk(i,n){return Array.isArray(i)?i.includes(n):i===n}function BX(i,n){const t=hU(n);return hU(i).forEach(c=>{nk(t,c)||t.push(c)}),t}function jX(i,n){return hU(n).filter(t=>!nk(i,t))}class UX{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=fU(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=dU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class C1 extends UX{get formDirective(){return null}get path(){return null}}class G2 extends UX{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let qX=(()=>{class i extends class{constructor(n){this._cd=n}is(n){var t,o,c;return"submitted"===n?!!(null==(t=this._cd)?void 0:t.submitted):!!(null==(c=null==(o=this._cd)?void 0:o.control)?void 0:c[n])}}{constructor(t){super(t)}}return i.\u0275fac=function(t){return new(t||i)(q(G2,2))},i.\u0275dir=Ae({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,o){2&t&&on("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[Ze]}),i})();function V_(i,n){gU(i,n),n.valueAccessor.writeValue(i.value),function(i,n){n.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&WX(i,n)})}(i,n),function(i,n){const t=(o,c)=>{n.valueAccessor.writeValue(o),c&&n.viewToModelUpdate(o)};i.registerOnChange(t),n._registerOnDestroy(()=>{i._unregisterOnChange(t)})}(i,n),function(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&WX(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function(i,n){if(n.valueAccessor.setDisabledState){const t=o=>{n.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(t),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}(i,n)}function ok(i,n,t=!0){const o=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(o),n.valueAccessor.registerOnTouched(o)),sk(i,n),i&&(n._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function ak(i,n){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function gU(i,n){const t=PX(i);null!==n.validator?i.setValidators(OX(t,n.validator)):"function"==typeof t&&i.setValidators([t]);const o=HX(i);null!==n.asyncValidator?i.setAsyncValidators(OX(o,n.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const c=()=>i.updateValueAndValidity();ak(n._rawValidators,c),ak(n._rawAsyncValidators,c)}function sk(i,n){let t=!1;if(null!==i){if(null!==n.validator){const c=PX(i);if(Array.isArray(c)&&c.length>0){const u=c.filter(m=>m!==n.validator);u.length!==c.length&&(t=!0,i.setValidators(u))}}if(null!==n.asyncValidator){const c=HX(i);if(Array.isArray(c)&&c.length>0){const u=c.filter(m=>m!==n.asyncValidator);u.length!==c.length&&(t=!0,i.setAsyncValidators(u))}}}const o=()=>{};return ak(n._rawValidators,o),ak(n._rawAsyncValidators,o),t}function WX(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function GX(i,n){gU(i,n)}function XX(i,n){i._syncPendingControls(),n.forEach(t=>{const o=t.control;"submit"===o.updateOn&&o._pendingChange&&(t.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}function ck(i,n){const t=i.indexOf(n);t>-1&&i.splice(t,1)}const O_="VALID",lk="INVALID",e7="PENDING",P_="DISABLED";function yU(i){return(CU(i)?i.validators:i)||null}function YX(i){return Array.isArray(i)?fU(i):i||null}function bU(i,n){return(CU(n)?n.asyncValidators:i)||null}function ZX(i){return Array.isArray(i)?dU(i):i||null}function CU(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class xU{constructor(n,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=t,this._composedValidatorFn=YX(this._rawValidators),this._composedAsyncValidatorFn=ZX(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===O_}get invalid(){return this.status===lk}get pending(){return this.status==e7}get disabled(){return this.status===P_}get enabled(){return this.status!==P_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=YX(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=ZX(n)}addValidators(n){this.setValidators(BX(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(BX(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(jX(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(jX(n,this._rawAsyncValidators))}hasValidator(n){return nk(this._rawValidators,n)}hasAsyncValidator(n){return nk(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=e7,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=P_,this.errors=null,this._forEachChild(o=>{o.disable(ef(Ct({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ef(Ct({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=O_,this._forEachChild(o=>{o.enable(ef(Ct({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(ef(Ct({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===O_||this.status===e7)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?P_:O_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=e7,this._hasOwnPendingAsyncValidator=!0;const t=NX(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){return function(i,n,t){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let o=i;return n.forEach(c=>{o=o instanceof MU?o.controls.hasOwnProperty(c)?o.controls[c]:null:o instanceof j2e&&o.at(c)||null}),o}(this,n)}getError(n,t){const o=t?this.get(t):this;return o&&o.errors?o.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new rt,this.statusChanges=new rt}_calculateStatus(){return this._allControlsDisabled()?P_:this.errors?lk:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(e7)?e7:this._anyControlsHaveStatus(lk)?lk:O_}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){CU(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class uk extends xU{constructor(n=null,t,o){super(yU(t),bU(o,t)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=null,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){ck(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){ck(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class MU extends xU{constructor(n,t,o){super(yU(t),bU(o,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,o={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,o={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(n[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(n[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((o,c)=>{o.reset(n[c],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,o)=>(n[o]=t instanceof uk?t.value:t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,o)=>!!o._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const o=this.controls[t];o&&n(o,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const t of Object.keys(this.controls)){const o=this.controls[t];if(this.contains(t)&&n(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,t,o)=>((t.enabled||this.disabled)&&(n[o]=t.value),n))}_reduceChildren(n,t){let o=n;return this._forEachChild((c,u)=>{o=t(o,c,u)}),o}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((t,o)=>{if(void 0===n[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class j2e extends xU{constructor(n,t,o){super(yU(t),bU(o,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,o={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,o={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),t&&(this.controls.splice(n,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){this._checkAllValuesPresent(n),n.forEach((o,c)=>{this._throwIfControlMissing(c),this.at(c).setValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(n.forEach((o,c)=>{this.at(c)&&this.at(c).patchValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((o,c)=>{o.reset(n[c],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n instanceof uk?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((t,o)=>!!o._syncPendingControls()||t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((t,o)=>{n(t,o)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((t,o)=>{if(void 0===n[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const U2e={provide:C1,useExisting:kt(()=>B_)},H_=(()=>Promise.resolve(null))();let B_=(()=>{class i extends C1{constructor(t,o){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new rt,this.form=new MU({},fU(t),dU(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){H_.then(()=>{const o=this._findContainer(t.path);t.control=o.registerControl(t.name,t.control),V_(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){H_.then(()=>{const o=this._findContainer(t.path);o&&o.removeControl(t.name),ck(this._directives,t)})}addFormGroup(t){H_.then(()=>{const o=this._findContainer(t.path),c=new MU({});GX(c,t),o.registerControl(t.name,c),c.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){H_.then(()=>{const o=this._findContainer(t.path);o&&o.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,o){H_.then(()=>{this.form.get(t.path).setValue(o)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,XX(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return i.\u0275fac=function(t){return new(t||i)(q(Qi,10),q(G4,10))},i.\u0275dir=Ae({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,o){1&t&&Me("submit",function(u){return o.onSubmit(u)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ye([U2e]),Ze]}),i})();const q2e={provide:G2,useExisting:kt(()=>wU)},JX=(()=>Promise.resolve(null))();let wU=(()=>{class i extends G2{constructor(t,o,c,u){super(),this.control=new uk,this._registered=!1,this.update=new rt,this._parent=t,this._setValidators(o),this._setAsyncValidators(c),this.valueAccessor=function(i,n){if(!n)return null;let t,o,c;return Array.isArray(n),n.forEach(u=>{u.constructor===tk?t=u:function(i){return Object.getPrototypeOf(i.constructor)===Z3}(u)?o=u:c=u}),c||o||t||null}(0,u)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(i,n){if(!i.hasOwnProperty("model"))return!1;const t=i.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,n){return[...n.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){V_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){JX.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const o=t.isDisabled.currentValue,c=""===o||o&&"false"!==o;JX.then(()=>{c&&!this.control.disabled?this.control.disable():!c&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(t){return new(t||i)(q(C1,9),q(Qi,10),q(G4,10),q(K1,10))},i.\u0275dir=Ae({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ye([q2e]),Ze,Rn]}),i})(),tY=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({}),i})();const EU=new be("NgModelWithFormControlWarning"),Q2e={provide:C1,useExisting:kt(()=>j_)};let j_=(()=>{class i extends C1{constructor(t,o){super(),this.validators=t,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new rt,this._setValidators(t),this._setAsyncValidators(o)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sk(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const o=this.form.get(t.path);return V_(o,t),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),o}getControl(t){return this.form.get(t.path)}removeControl(t){ok(t.control||null,t,!1),ck(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,o){this.form.get(t.path).setValue(o)}onSubmit(t){return this.submitted=!0,XX(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const o=t.control,c=this.form.get(t.path);o!==c&&(ok(o||null,t),c instanceof uk&&(V_(c,t),t.control=c))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const o=this.form.get(t.path);GX(o,t),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const o=this.form.get(t.path);o&&function(i,n){return sk(i,n)}(o,t)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gU(this.form,this),this._oldForm&&sk(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(t){return new(t||i)(q(Qi,10),q(G4,10))},i.\u0275dir=Ae({type:i,selectors:[["","formGroup",""]],hostBindings:function(t,o){1&t&&Me("submit",function(u){return o.onSubmit(u)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ye([Q2e]),Ze,Rn]}),i})(),vY=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({imports:[[tY]]}),i})(),gce=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({imports:[vY]}),i})(),vce=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:EU,useValue:t.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({imports:[vY]}),i})();const _ce=new be("MAT_INPUT_VALUE_ACCESSOR"),yce=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let bce=0;const Cce=QG(class{constructor(i,n,t,o){this._defaultErrorStateMatcher=i,this._parentForm=n,this._parentFormGroup=t,this.ngControl=o}});let xce=(()=>{class i extends Cce{constructor(t,o,c,u,m,g,b,x,D,k){super(g,u,m,c),this._elementRef=t,this._platform=o,this._autofillMonitor=x,this._formField=k,this._uid="mat-input-"+bce++,this.focused=!1,this.stateChanges=new st,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(R=>RW().has(R));const z=this._elementRef.nativeElement,L=z.nodeName.toLowerCase();this._inputValueAccessor=b||z,this._previousNativeValue=this.value,this.id=this.id,o.IOS&&D.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",R=>{const j=R.target;!j.value&&0===j.selectionStart&&0===j.selectionEnd&&(j.setSelectionRange(1,1),j.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!k,this._isNativeSelect&&(this.controlType=z.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Pt(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,o,c,u;return null!=(u=null!=(c=this._required)?c:null==(o=null==(t=this.ngControl)?void 0:t.control)?void 0:o.hasValidator(xX.required))&&u}set required(t){this._required=Pt(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&RW().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Pt(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var o,c;const t=(null==(c=null==(o=this._formField)?void 0:o._hideControlPlaceholder)?void 0:c.call(o))?null:this.placeholder;if(t!==this._previousPlaceholder){const u=this._elementRef.nativeElement;this._previousPlaceholder=t,t?u.setAttribute("placeholder",t):u.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){yce.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,o=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&o&&o.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return i.\u0275fac=function(t){return new(t||i)(q(mt),q(Xr),q(G2,10),q(B_,8),q(j_,8),q(rU),q(_ce,10),q(M2e),q(Et),q(lU,8))},i.\u0275dir=Ae({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,o){1&t&&Me("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),2&t&&(b2("disabled",o.disabled)("required",o.required),dt("id",o.id)("data-placeholder",o.placeholder)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required),on("mat-input-server",o._isServer)("mat-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Ye([{provide:ek,useExisting:i}]),Ze,Rn]}),i})(),Mce=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({providers:[rU],imports:[[vX,uU,tn],vX,uU]}),i})();const wce=["mat-button",""],Ece=["*"],Ace=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Sce=I_(KS(Y3(class{constructor(i){this._elementRef=i}})));let kce=(()=>{class i extends Sce{constructor(t,o,c){super(t),this._focusMonitor=o,this._animationMode=c,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const u of Ace)this._hasHostAttributes(u)&&this._getHostElement().classList.add(u);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,o){t?this._focusMonitor.focusVia(this._getHostElement(),t,o):this._getHostElement().focus(o)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(o=>this._getHostElement().hasAttribute(o))}}return i.\u0275fac=function(t){return new(t||i)(q(mt),q(U3),q(Na,8))},i.\u0275cmp=sn({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,o){if(1&t&&Pn(q4,5),2&t){let c;vt(c=_t())&&(o.ripple=c.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,o){2&t&&(dt("disabled",o.disabled||null),on("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-button-disabled",o.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ze],attrs:wce,ngContentSelectors:Ece,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,o){1&t&&(Bi(),$(0,"span",0),rn(1),U(),De(2,"span",1),De(3,"span",2)),2&t&&(ue(2),on("mat-button-ripple-round",o.isRoundButton||o.isIconButton),me("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",o.isIconButton)("matRippleTrigger",o._getHostElement()))},directives:[q4],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),i})(),Tce=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({imports:[[J5,tn],tn]}),i})();const U_={schedule(i){let n=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:o}=U_;o&&(n=o.requestAnimationFrame,t=o.cancelAnimationFrame);const c=n(u=>{t=void 0,i(u)});return new Nt(()=>null==t?void 0:t(c))},requestAnimationFrame(...i){const{delegate:n}=U_;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:n}=U_;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame)(...i)},delegate:void 0};new class extends yj{flush(n){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let o,c=-1;n=n||t.shift();const u=t.length;do{if(o=n.execute(n.state,n.delay))break}while(++c<u&&(n=t.shift()));if(this._active=!1,o){for(;++c<u&&(n=t.shift());)n.unsubscribe();throw o}}}(class extends _j{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,o=0){return null!==o&&o>0?super.requestAsyncId(n,t,o):(n.actions.push(this),n._scheduled||(n._scheduled=U_.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,t,o=0){if(null!=o&&o>0||null==o&&this.delay>0)return super.recycleAsyncId(n,t,o);0===n.actions.length&&(U_.cancelAnimationFrame(t),n._scheduled=void 0)}});let zU,Lce=1;const hk={};function _Y(i){return i in hk&&(delete hk[i],!0)}const Fce={setImmediate(i){const n=Lce++;return hk[n]=!0,zU||(zU=Promise.resolve()),zU.then(()=>_Y(n)&&i()),n},clearImmediate(i){_Y(i)}},{setImmediate:Rce,clearImmediate:Vce}=Fce,mk={setImmediate(...i){const{delegate:n}=mk;return((null==n?void 0:n.setImmediate)||Rce)(...i)},clearImmediate(i){const{delegate:n}=mk;return((null==n?void 0:n.clearImmediate)||Vce)(i)},delegate:void 0};new class extends yj{flush(n){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let o,c=-1;n=n||t.shift();const u=t.length;do{if(o=n.execute(n.state,n.delay))break}while(++c<u&&(n=t.shift()));if(this._active=!1,o){for(;++c<u&&(n=t.shift());)n.unsubscribe();throw o}}}(class extends _j{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,o=0){return null!==o&&o>0?super.requestAsyncId(n,t,o):(n.actions.push(this),n._scheduled||(n._scheduled=mk.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,t,o=0){if(null!=o&&o>0||null==o&&this.delay>0)return super.recycleAsyncId(n,t,o);0===n.actions.length&&(mk.clearImmediate(t),n._scheduled=void 0)}});function yY(i,n=IW){return function(i){return nn((n,t)=>{let o=!1,c=null,u=null,m=!1;const g=()=>{if(null==u||u.unsubscribe(),u=null,o){o=!1;const x=c;c=null,t.next(x)}m&&t.complete()},b=()=>{u=null,m&&t.complete()};n.subscribe(new Gt(t,x=>{o=!0,c=x,u||yi(i()).subscribe(u=new Gt(t,g,b))},()=>{m=!0,(!o||!u||u.closed)&&t.complete()}))})}(()=>function(i=0,n,t=IW){let o=-1;return null!=n&&(Z(n)?t=n:o=n),new Lt(c=>{let u=function(i){return i instanceof Date&&!isNaN(i)}(i)?+i-t.now():i;u<0&&(u=0);let m=0;return t.schedule(function(){c.closed||(c.next(m++),0<=o?this.schedule(void 0,o):c.complete())},u)})}(i,n))}let bY=(()=>{class i{constructor(t,o,c){this._ngZone=t,this._platform=o,this._scrolled=new st,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=c}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const o=this.scrollContainers.get(t);o&&(o.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Lt(o=>{this._globalSubscription||this._addGlobalListener();const c=t>0?this._scrolled.pipe(yY(t)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{c.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Mr()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(t,o){const c=this.getAncestorScrollContainers(t);return this.scrolled(o).pipe(Lo(u=>!u||c.indexOf(u)>-1))}getAncestorScrollContainers(t){const o=[];return this.scrollContainers.forEach((c,u)=>{this._scrollableContainsElement(u,t)&&o.push(u)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,o){let c=Ll(o),u=t.getElementRef().nativeElement;do{if(c==u)return!0}while(c=c.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>JS(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(t){return new(t||i)(ce(Et),ce(Xr),ce(ut,8))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),NU=(()=>{class i{constructor(t,o,c){this._platform=t,this._change=new st,this._changeListener=u=>{this._change.next(u)},this._document=c,o.runOutsideAngular(()=>{if(t.isBrowser){const u=this._getWindow();u.addEventListener("resize",this._changeListener),u.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:o,height:c}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+c,right:t.left+o,height:c,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,o=this._getWindow(),c=t.documentElement,u=c.getBoundingClientRect();return{top:-u.top||t.body.scrollTop||o.scrollY||c.scrollTop||0,left:-u.left||t.body.scrollLeft||o.scrollX||c.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(yY(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(t){return new(t||i)(ce(Xr),ce(Et),ce(ut,8))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),pk=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({}),i})(),CY=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({imports:[[T_,AS,pk],T_,pk]}),i})();class IU{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class xY extends IU{constructor(n,t,o,c){super(),this.component=n,this.viewContainerRef=t,this.injector=o,this.componentFactoryResolver=c}}class LU extends IU{constructor(n,t,o){super(),this.templateRef=n,this.viewContainerRef=t,this.context=o}get origin(){return this.templateRef.elementRef}attach(n,t=this.context){return this.context=t,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class Wce extends IU{constructor(n){super(),this.element=n instanceof mt?n.nativeElement:n}}class MY{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof xY?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof LU?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof Wce?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Gce extends MY{constructor(n,t,o,c,u){super(),this.outletElement=n,this._componentFactoryResolver=t,this._appRef=o,this._defaultInjector=c,this.attachDomPortal=m=>{const g=m.element,b=this._document.createComment("dom-portal");g.parentNode.insertBefore(b,g),this.outletElement.appendChild(g),this._attachedPortal=m,super.setDisposeFn(()=>{b.parentNode&&b.parentNode.replaceChild(g,b)})},this._document=u}attachComponentPortal(n){const o=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let c;return n.viewContainerRef?(c=n.viewContainerRef.createComponent(o,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector),this.setDisposeFn(()=>c.destroy())):(c=o.create(n.injector||this._defaultInjector),this._appRef.attachView(c.hostView),this.setDisposeFn(()=>{this._appRef.detachView(c.hostView),c.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(c)),this._attachedPortal=n,c}attachTemplatePortal(n){let t=n.viewContainerRef,o=t.createEmbeddedView(n.templateRef,n.context);return o.rootNodes.forEach(c=>this.outletElement.appendChild(c)),o.detectChanges(),this.setDisposeFn(()=>{let c=t.indexOf(o);-1!==c&&t.remove(c)}),this._attachedPortal=n,o}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let Xce=(()=>{class i extends MY{constructor(t,o,c){super(),this._componentFactoryResolver=t,this._viewContainerRef=o,this._isInitialized=!1,this.attached=new rt,this.attachDomPortal=u=>{const m=u.element,g=this._document.createComment("dom-portal");u.setAttachedHost(this),m.parentNode.insertBefore(g,m),this._getRootNode().appendChild(m),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(m,g)})},this._document=c}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const o=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,u=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),m=o.createComponent(u,o.length,t.injector||o.injector);return o!==this._viewContainerRef&&this._getRootNode().appendChild(m.hostView.rootNodes[0]),super.setDisposeFn(()=>m.destroy()),this._attachedPortal=t,this._attachedRef=m,this.attached.emit(m),m}attachTemplatePortal(t){t.setAttachedHost(this);const o=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return i.\u0275fac=function(t){return new(t||i)(q(Ui),q(pr),q(ut))},i.\u0275dir=Ae({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ze]}),i})(),wY=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({}),i})();const EY=poe();class Zce{constructor(n,t){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=gi(-this._previousScrollPosition.left),n.style.top=gi(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,o=n.style,c=this._document.body.style,u=o.scrollBehavior||"",m=c.scrollBehavior||"";this._isEnabled=!1,o.left=this._previousHTMLStyles.left,o.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),EY&&(o.scrollBehavior=c.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),EY&&(o.scrollBehavior=u,c.scrollBehavior=m)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,o=this._viewportRuler.getViewportSize();return t.scrollHeight>o.height||t.scrollWidth>o.width}}class Kce{constructor(n,t,o,c){this._scrollDispatcher=n,this._ngZone=t,this._viewportRuler=o,this._config=c,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class DY{enable(){}disable(){}attach(){}}function FU(i,n){return n.some(t=>i.bottom<t.top||i.top>t.bottom||i.right<t.left||i.left>t.right)}function AY(i,n){return n.some(t=>i.top<t.top||i.bottom>t.bottom||i.left<t.left||i.right>t.right)}class Qce{constructor(n,t,o,c){this._scrollDispatcher=n,this._viewportRuler=t,this._ngZone=o,this._config=c,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:o,height:c}=this._viewportRuler.getViewportSize();FU(t,[{width:o,height:c,bottom:c,right:o,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Jce=(()=>{class i{constructor(t,o,c,u){this._scrollDispatcher=t,this._viewportRuler=o,this._ngZone=c,this.noop=()=>new DY,this.close=m=>new Kce(this._scrollDispatcher,this._ngZone,this._viewportRuler,m),this.block=()=>new Zce(this._viewportRuler,this._document),this.reposition=m=>new Qce(this._scrollDispatcher,this._viewportRuler,this._ngZone,m),this._document=u}}return i.\u0275fac=function(t){return new(t||i)(ce(bY),ce(NU),ce(Et),ce(ut))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class SY{constructor(n){if(this.scrollStrategy=new DY,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const t=Object.keys(n);for(const o of t)void 0!==n[o]&&(this[o]=n[o])}}}class ele{constructor(n,t){this.connectionPair=n,this.scrollableViewProperties=t}}let kY=(()=>{class i{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const o=this._attachedOverlays.indexOf(t);o>-1&&this._attachedOverlays.splice(o,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(t){return new(t||i)(ce(ut))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),tle=(()=>{class i extends kY{constructor(t){super(t),this._keydownListener=o=>{const c=this._attachedOverlays;for(let u=c.length-1;u>-1;u--)if(c[u]._keydownEvents.observers.length>0){c[u]._keydownEvents.next(o);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(t){return new(t||i)(ce(ut))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),nle=(()=>{class i extends kY{constructor(t,o){super(t),this._platform=o,this._cursorStyleIsSet=!1,this._pointerDownListener=c=>{this._pointerDownEventTarget=j3(c)},this._clickListener=c=>{const u=j3(c),m="click"===c.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let b=g.length-1;b>-1;b--){const x=g[b];if(!(x._outsidePointerEvents.observers.length<1)&&x.hasAttached()){if(x.overlayElement.contains(u)||x.overlayElement.contains(m))break;x._outsidePointerEvents.next(c)}}}}add(t){if(super.add(t),!this._isAttached){const o=this._document.body;o.addEventListener("pointerdown",this._pointerDownListener,!0),o.addEventListener("click",this._clickListener,!0),o.addEventListener("auxclick",this._clickListener,!0),o.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return i.\u0275fac=function(t){return new(t||i)(ce(ut),ce(Xr))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),TY=(()=>{class i{constructor(t,o){this._platform=o,this._document=t}ngOnDestroy(){var t;null==(t=this._containerElement)||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Mj()){const c=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let u=0;u<c.length;u++)c[u].remove()}const o=this._document.createElement("div");o.classList.add(t),Mj()?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}}return i.\u0275fac=function(t){return new(t||i)(ce(ut),ce(Xr))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class ile{constructor(n,t,o,c,u,m,g,b,x){this._portalOutlet=n,this._host=t,this._pane=o,this._config=c,this._ngZone=u,this._keyboardDispatcher=m,this._document=g,this._location=b,this._outsideClickDispatcher=x,this._backdropElement=null,this._backdropClick=new st,this._attachments=new st,this._detachments=new st,this._locationChanges=Nt.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._keydownEvents=new st,this._outsidePointerEvents=new st,c.scrollStrategy&&(this._scrollStrategy=c.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=c.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){let t=this._portalOutlet.attach(n);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Yo(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){var t;const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null==(t=this._host)||t.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config=Ct(Ct({},this._config),n),this._updateElementSize()}setDirection(n){this._config=ef(Ct({},this._config),{direction:n}),this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=gi(this._config.width),n.height=gi(this._config.height),n.minWidth=gi(this._config.minWidth),n.minHeight=gi(this._config.minHeight),n.maxWidth=gi(this._config.maxWidth),n.maxHeight=gi(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(!n)return;let t;const o=()=>{n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",o),this._disposeBackdrop(n)),this._config.backdropClass&&this._toggleClasses(n,this._config.backdropClass,!1),clearTimeout(t)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",o)}),n.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(o,500))}_toggleClasses(n,t,o){const c=DS(t||[]).filter(u=>!!u);c.length&&(o?n.classList.add(...c):n.classList.remove(...c))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(Jt(oc(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.remove(),this._backdropElement===n&&(this._backdropElement=null))}}const zY="cdk-overlay-connected-position-bounding-box",rle=/([A-Za-z%]+)$/;class ole{constructor(n,t,o,c,u){this._viewportRuler=t,this._document=o,this._platform=c,this._overlayContainer=u,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new st,this._resizeSubscription=Nt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}get positions(){return this._preferredPositions}attach(n){this._validatePositions(),n.hostElement.classList.add(zY),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const n=this._originRect,t=this._overlayRect,o=this._viewportRect,c=[];let u;for(let m of this._preferredPositions){let g=this._getOriginPoint(n,m),b=this._getOverlayPoint(g,t,m),x=this._getOverlayFit(b,t,o,m);if(x.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,g);this._canFitWithFlexibleDimensions(x,b,o)?c.push({position:m,origin:g,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(g,m)}):(!u||u.overlayFit.visibleArea<x.visibleArea)&&(u={overlayFit:x,overlayPoint:b,originPoint:g,position:m,overlayRect:t})}if(c.length){let m=null,g=-1;for(const b of c){const x=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);x>g&&(g=x,m=b)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&K3(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(zY),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const n=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,n);this._applyPosition(n,t)}}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,t){let o,c;if("center"==t.originX)o=n.left+n.width/2;else{const u=this._isRtl()?n.right:n.left,m=this._isRtl()?n.left:n.right;o="start"==t.originX?u:m}return c="center"==t.originY?n.top+n.height/2:"top"==t.originY?n.top:n.bottom,{x:o,y:c}}_getOverlayPoint(n,t,o){let c,u;return c="center"==o.overlayX?-t.width/2:"start"===o.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,u="center"==o.overlayY?-t.height/2:"top"==o.overlayY?0:-t.height,{x:n.x+c,y:n.y+u}}_getOverlayFit(n,t,o,c){const u=IY(t);let{x:m,y:g}=n,b=this._getOffset(c,"x"),x=this._getOffset(c,"y");b&&(m+=b),x&&(g+=x);let z=0-g,L=g+u.height-o.height,R=this._subtractOverflows(u.width,0-m,m+u.width-o.width),j=this._subtractOverflows(u.height,z,L),B=R*j;return{visibleArea:B,isCompletelyWithinViewport:u.width*u.height===B,fitsInViewportVertically:j===u.height,fitsInViewportHorizontally:R==u.width}}_canFitWithFlexibleDimensions(n,t,o){if(this._hasFlexibleDimensions){const c=o.bottom-t.y,u=o.right-t.x,m=NY(this._overlayRef.getConfig().minHeight),g=NY(this._overlayRef.getConfig().minWidth),x=n.fitsInViewportHorizontally||null!=g&&g<=u;return(n.fitsInViewportVertically||null!=m&&m<=c)&&x}return!1}_pushOverlayOnScreen(n,t,o){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const c=IY(t),u=this._viewportRect,m=Math.max(n.x+c.width-u.width,0),g=Math.max(n.y+c.height-u.height,0),b=Math.max(u.top-o.top-n.y,0),x=Math.max(u.left-o.left-n.x,0);let D=0,k=0;return D=c.width<=u.width?x||-m:n.x<this._viewportMargin?u.left-o.left-n.x:0,k=c.height<=u.height?b||-g:n.y<this._viewportMargin?u.top-o.top-n.y:0,this._previousPushAmount={x:D,y:k},{x:n.x+D,y:n.y+k}}_applyPosition(n,t){if(this._setTransformOrigin(n),this._setOverlayElementStyles(t,n),this._setBoundingBoxStyles(t,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const o=this._getScrollVisibility(),c=new ele(n,o);this._positionChanges.next(c)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let o,c=n.overlayY;o="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let u=0;u<t.length;u++)t[u].style.transformOrigin=`${o} ${c}`}_calculateBoundingBoxRect(n,t){const o=this._viewportRect,c=this._isRtl();let u,m,g,D,k,z;if("top"===t.overlayY)m=n.y,u=o.height-m+this._viewportMargin;else if("bottom"===t.overlayY)g=o.height-n.y+2*this._viewportMargin,u=o.height-g+this._viewportMargin;else{const L=Math.min(o.bottom-n.y+o.top,n.y),R=this._lastBoundingBoxSize.height;u=2*L,m=n.y-L,u>R&&!this._isInitialRender&&!this._growAfterOpen&&(m=n.y-R/2)}if("end"===t.overlayX&&!c||"start"===t.overlayX&&c)z=o.width-n.x+this._viewportMargin,D=n.x-this._viewportMargin;else if("start"===t.overlayX&&!c||"end"===t.overlayX&&c)k=n.x,D=o.right-n.x;else{const L=Math.min(o.right-n.x+o.left,n.x),R=this._lastBoundingBoxSize.width;D=2*L,k=n.x-L,D>R&&!this._isInitialRender&&!this._growAfterOpen&&(k=n.x-R/2)}return{top:m,left:k,bottom:g,right:z,width:D,height:u}}_setBoundingBoxStyles(n,t){const o=this._calculateBoundingBoxRect(n,t);!this._isInitialRender&&!this._growAfterOpen&&(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));const c={};if(this._hasExactPosition())c.top=c.left="0",c.bottom=c.right=c.maxHeight=c.maxWidth="",c.width=c.height="100%";else{const u=this._overlayRef.getConfig().maxHeight,m=this._overlayRef.getConfig().maxWidth;c.height=gi(o.height),c.top=gi(o.top),c.bottom=gi(o.bottom),c.width=gi(o.width),c.left=gi(o.left),c.right=gi(o.right),c.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",c.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",u&&(c.maxHeight=gi(u)),m&&(c.maxWidth=gi(m))}this._lastBoundingBoxSize=o,K3(this._boundingBox.style,c)}_resetBoundingBoxStyles(){K3(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){K3(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,t){const o={},c=this._hasExactPosition(),u=this._hasFlexibleDimensions,m=this._overlayRef.getConfig();if(c){const D=this._viewportRuler.getViewportScrollPosition();K3(o,this._getExactOverlayY(t,n,D)),K3(o,this._getExactOverlayX(t,n,D))}else o.position="static";let g="",b=this._getOffset(t,"x"),x=this._getOffset(t,"y");b&&(g+=`translateX(${b}px) `),x&&(g+=`translateY(${x}px)`),o.transform=g.trim(),m.maxHeight&&(c?o.maxHeight=gi(m.maxHeight):u&&(o.maxHeight="")),m.maxWidth&&(c?o.maxWidth=gi(m.maxWidth):u&&(o.maxWidth="")),K3(this._pane.style,o)}_getExactOverlayY(n,t,o){let c={top:"",bottom:""},u=this._getOverlayPoint(t,this._overlayRect,n);this._isPushed&&(u=this._pushOverlayOnScreen(u,this._overlayRect,o));let m=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return u.y-=m,"bottom"===n.overlayY?c.bottom=this._document.documentElement.clientHeight-(u.y+this._overlayRect.height)+"px":c.top=gi(u.y),c}_getExactOverlayX(n,t,o){let m,c={left:"",right:""},u=this._getOverlayPoint(t,this._overlayRect,n);return this._isPushed&&(u=this._pushOverlayOnScreen(u,this._overlayRect,o)),m=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===m?c.right=this._document.documentElement.clientWidth-(u.x+this._overlayRect.width)+"px":c.left=gi(u.x),c}_getScrollVisibility(){const n=this._getOriginRect(),t=this._pane.getBoundingClientRect(),o=this._scrollables.map(c=>c.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:AY(n,o),isOriginOutsideView:FU(n,o),isOverlayClipped:AY(t,o),isOverlayOutsideView:FU(t,o)}}_subtractOverflows(n,...t){return t.reduce((o,c)=>o-Math.max(c,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+n-this._viewportMargin,bottom:o.top+t-this._viewportMargin,width:n-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,t){return"x"===t?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&DS(n).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof mt)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const t=n.width||0,o=n.height||0;return{top:n.y,bottom:n.y+o,left:n.x,right:n.x+t,height:o,width:t}}}function K3(i,n){for(let t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i}function NY(i){if("number"!=typeof i&&null!=i){const[n,t]=i.split(rle);return t&&"px"!==t?null:parseFloat(n)}return i||null}function IY(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const LY="cdk-global-overlay-wrapper";class ale{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(n){const t=n.getConfig();this._overlayRef=n,this._width&&!t.width&&n.updateSize({width:this._width}),this._height&&!t.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(LY),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._rightOffset="",this._leftOffset=n,this._justifyContent="flex-start",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._leftOffset="",this._rightOffset=n,this._justifyContent="flex-end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._justifyContent="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig(),{width:c,height:u,maxWidth:m,maxHeight:g}=o,b=!("100%"!==c&&"100vw"!==c||m&&"100%"!==m&&"100vw"!==m),x=!("100%"!==u&&"100vh"!==u||g&&"100%"!==g&&"100vh"!==g);n.position=this._cssPosition,n.marginLeft=b?"0":this._leftOffset,n.marginTop=x?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=this._rightOffset,b?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=x?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,o=t.style;t.classList.remove(LY),o.justifyContent=o.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let sle=(()=>{class i{constructor(t,o,c,u){this._viewportRuler=t,this._document=o,this._platform=c,this._overlayContainer=u}global(){return new ale}flexibleConnectedTo(t){return new ole(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(t){return new(t||i)(ce(NU),ce(ut),ce(Xr),ce(TY))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),cle=0,t7=(()=>{class i{constructor(t,o,c,u,m,g,b,x,D,k,z){this.scrollStrategies=t,this._overlayContainer=o,this._componentFactoryResolver=c,this._positionBuilder=u,this._keyboardDispatcher=m,this._injector=g,this._ngZone=b,this._document=x,this._directionality=D,this._location=k,this._outsideClickDispatcher=z}create(t){const o=this._createHostElement(),c=this._createPaneElement(o),u=this._createPortalOutlet(c),m=new SY(t);return m.direction=m.direction||this._directionality.value,new ile(u,o,c,m,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const o=this._document.createElement("div");return o.id="cdk-overlay-"+cle++,o.classList.add("cdk-overlay-pane"),t.appendChild(o),o}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Re)),new Gce(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(t){return new(t||i)(ce(Jce),ce(TY),ce(Ui),ce(sle),ce(tle),ce(Kt),ce(Et),ce(ut),ce(k_),ce(dE),ce(nle))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac}),i})();const lle=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],FY=new be("cdk-connected-overlay-scroll-strategy");let RY=(()=>{class i{constructor(t){this.elementRef=t}}return i.\u0275fac=function(t){return new(t||i)(q(mt))},i.\u0275dir=Ae({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),i})(),VY=(()=>{class i{constructor(t,o,c,u,m){this._overlay=t,this._dir=m,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Nt.EMPTY,this._attachSubscription=Nt.EMPTY,this._detachSubscription=Nt.EMPTY,this._positionSubscription=Nt.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new rt,this.positionChange=new rt,this.attach=new rt,this.detach=new rt,this.overlayKeydown=new rt,this.overlayOutsideClick=new rt,this._templatePortal=new LU(o,c),this._scrollStrategyFactory=u,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Pt(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Pt(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Pt(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Pt(t)}get push(){return this._push}set push(t){this._push=Pt(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=lle);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(o=>{this.overlayKeydown.next(o),27===o.keyCode&&!this.disableClose&&!Il(o)&&(o.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(o=>{this.overlayOutsideClick.next(o)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),o=new SY({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(o.width=this.width),(this.height||0===this.height)&&(o.height=this.height),(this.minWidth||0===this.minWidth)&&(o.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(o.minHeight=this.minHeight),this.backdropClass&&(o.backdropClass=this.backdropClass),this.panelClass&&(o.panelClass=this.panelClass),o}_updatePositionStrategy(t){const o=this.positions.map(c=>({originX:c.originX,originY:c.originY,overlayX:c.overlayX,overlayY:c.overlayY,offsetX:c.offsetX||this.offsetX,offsetY:c.offsetY||this.offsetY,panelClass:c.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(o).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof RY?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(i,n=!1){return nn((t,o)=>{let c=0;t.subscribe(new Gt(o,u=>{const m=i(u,c++);(m||n)&&o.next(u),!m&&o.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(q(t7),q(si),q(pr),q(FY),q(k_,8))},i.\u0275dir=Ae({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Rn]}),i})();const fle={provide:FY,deps:[t7],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};let OY=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({providers:[t7,fle],imports:[[T_,wY,CY],CY]}),i})();const PY=new Set;let n7,dle=(()=>{class i{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):mle}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function(i){if(!PY.has(i))try{n7||(n7=document.createElement("style"),n7.setAttribute("type","text/css"),document.head.appendChild(n7)),n7.sheet&&(n7.sheet.insertRule(`@media ${i} {body{ }}`,0),PY.add(i))}catch(n){console.error(n)}}(t),this._matchMedia(t)}}return i.\u0275fac=function(t){return new(t||i)(ce(Xr))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function mle(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let ple=(()=>{class i{constructor(t,o){this._mediaMatcher=t,this._zone=o,this._queries=new Map,this._destroySubject=new st}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return HY(DS(t)).some(c=>this._registerQuery(c).mql.matches)}observe(t){let u=ks(HY(DS(t)).map(m=>this._registerQuery(m).observable));return u=Iv(u.pipe(Yo(1)),u.pipe(LW(1),bj(0))),u.pipe(an(m=>{const g={matches:!1,breakpoints:{}};return m.forEach(({matches:b,query:x})=>{g.matches=g.matches||b,g.breakpoints[x]=b}),g}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const o=this._mediaMatcher.matchMedia(t),u={observable:new Lt(m=>{const g=b=>this._zone.run(()=>m.next(b));return o.addListener(g),()=>{o.removeListener(g)}}).pipe(Io(o),an(({matches:m})=>({query:t,matches:m})),Jt(this._destroySubject)),mql:o};return this._queries.set(t,u),u}}return i.\u0275fac=function(t){return new(t||i)(ce(dle),ce(Et))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function HY(i){return i.map(n=>n.split(",")).reduce((n,t)=>n.concat(t)).map(n=>n.trim())}const vle={tooltipState:Y5("state",[q2("initial, void, hidden",Ki({opacity:0,transform:"scale(0)"})),q2("visible",Ki({transform:"scale(1)"})),j4("* => visible",$3("200ms cubic-bezier(0, 0, 0.2, 1)",Boe([Ki({opacity:0,transform:"scale(0)",offset:0}),Ki({opacity:.5,transform:"scale(0.99)",offset:.5}),Ki({opacity:1,transform:"scale(1)",offset:1})]))),j4("* => hidden",$3("100ms cubic-bezier(0, 0, 0.2, 1)",Ki({opacity:0})))])},BY="tooltip-panel",jY=S_({passive:!0}),UY=new be("mat-tooltip-scroll-strategy"),Cle={provide:UY,deps:[t7],useFactory:function(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}},xle=new be("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let wle=(()=>{class i{constructor(t,o,c,u,m,g,b,x,D,k,z,L){this._overlay=t,this._elementRef=o,this._scrollDispatcher=c,this._viewContainerRef=u,this._ngZone=m,this._platform=g,this._ariaDescriber=b,this._focusMonitor=x,this._dir=k,this._defaultOptions=z,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new st,this._handleKeydown=R=>{this._isTooltipVisible()&&27===R.keyCode&&!Il(R)&&(R.preventDefault(),R.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=D,this._document=L,z&&(z.position&&(this.position=z.position),z.touchGestures&&(this.touchGestures=z.touchGestures)),k.change.pipe(Jt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),m.runOutsideAngular(()=>{o.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){var o;t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),null==(o=this._tooltipInstance)||o.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=Pt(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Jt(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([o,c])=>{t.removeEventListener(o,c,jY)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const o=this._createOverlay();this._detach(),this._portal=this._portal||new xY(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=o.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Jt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return o.positionChanges.pipe(Jt(this._destroyed)).subscribe(c=>{this._updateCurrentPositionClass(c.connectionPair),this._tooltipInstance&&c.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${BY}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Jt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Jt(this._destroyed)).subscribe(()=>{var c;return null==(c=this._tooltipInstance)?void 0:c._handleBodyInteraction()}),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const o=t.getConfig().positionStrategy,c=this._getOrigin(),u=this._getOverlayPosition();o.withPositions([this._addOffset(Ct(Ct({},c.main),u.main)),this._addOffset(Ct(Ct({},c.fallback),u.fallback))])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,o=this.position;let c;"above"==o||"below"==o?c={originX:"center",originY:"above"==o?"top":"bottom"}:"before"==o||"left"==o&&t||"right"==o&&!t?c={originX:"start",originY:"center"}:("after"==o||"right"==o&&t||"left"==o&&!t)&&(c={originX:"end",originY:"center"});const{x:u,y:m}=this._invertPosition(c.originX,c.originY);return{main:c,fallback:{originX:u,originY:m}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,o=this.position;let c;"above"==o?c={overlayX:"center",overlayY:"bottom"}:"below"==o?c={overlayX:"center",overlayY:"top"}:"before"==o||"left"==o&&t||"right"==o&&!t?c={overlayX:"end",overlayY:"center"}:("after"==o||"right"==o&&t||"left"==o&&!t)&&(c={overlayX:"start",overlayY:"center"});const{x:u,y:m}=this._invertPosition(c.overlayX,c.overlayY);return{main:c,fallback:{overlayX:u,overlayY:m}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Yo(1),Jt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,o){return"above"===this.position||"below"===this.position?"top"===o?o="bottom":"bottom"===o&&(o="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:o}}_updateCurrentPositionClass(t){const{overlayY:o,originX:c,originY:u}=t;let m;if(m="center"===o?this._dir&&"rtl"===this._dir.value?"end"===c?"left":"right":"start"===c?"left":"right":"bottom"===o&&"top"===u?"above":"below",m!==this._currentPosition){const g=this._overlayRef;if(g){const b=`${this._cssClassPrefix}-${BY}-`;g.removePanelClass(b+this._currentPosition),g.addPanelClass(b+m)}this._currentPosition=m}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",()=>this.hide()],["wheel",o=>this._wheelListener(o)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const o=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",o],["touchcancel",o])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([o,c])=>{this._elementRef.nativeElement.addEventListener(o,c,jY)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const o=this._document.elementFromPoint(t.clientX,t.clientY),c=this._elementRef.nativeElement;o!==c&&!c.contains(o)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const o=this._elementRef.nativeElement,c=o.style;("on"===t||"INPUT"!==o.nodeName&&"TEXTAREA"!==o.nodeName)&&(c.userSelect=c.msUserSelect=c.webkitUserSelect=c.MozUserSelect="none"),("on"===t||!o.draggable)&&(c.webkitUserDrag="none"),c.touchAction="none",c.webkitTapHighlightColor="transparent"}}}return i.\u0275fac=function(t){Q8()},i.\u0275dir=Ae({type:i,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),i})(),RU=(()=>{class i extends wle{constructor(t,o,c,u,m,g,b,x,D,k,z,L){super(t,o,c,u,m,g,b,x,D,k,z,L),this._tooltipComponent=Dle}}return i.\u0275fac=function(t){return new(t||i)(q(t7),q(mt),q(bY),q(pr),q(Et),q(Xr),q(Coe),q(U3),q(UY),q(k_,8),q(xle,8),q(ut))},i.\u0275dir=Ae({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[Ze]}),i})(),Ele=(()=>{class i{constructor(t){this._changeDetectorRef=t,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new st}show(t){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._onShow(),this._markForCheck()},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},t)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const o=t.toState;"hidden"===o&&!this.isVisible()&&this._onHide.next(),("visible"===o||"hidden"===o)&&(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_onShow(){}}return i.\u0275fac=function(t){return new(t||i)(q(Bt))},i.\u0275dir=Ae({type:i}),i})(),Dle=(()=>{class i extends Ele{constructor(t,o){super(t),this._breakpointObserver=o,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}}return i.\u0275fac=function(t){return new(t||i)(q(Bt),q(ple))},i.\u0275cmp=sn({type:i,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,o){2&t&&Or("zoom","visible"===o._visibility?1:null)},features:[Ze],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,o){if(1&t&&($(0,"div",0),Me("@state.start",function(){return o._animationStart()})("@state.done",function(u){return o._animationDone(u)}),function(i,n){const t=At();let o;const c=i+20;t.firstCreatePass?(o=function(i,n){if(n)for(let t=n.length-1;t>=0;t--){const o=n[t];if(i===o.name)return o}throw new Ra("302",`The pipe '${i}' could not be found!`)}(n,t.pipeRegistry),t.data[c]=o,o.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(c,o.onDestroy)):o=t.data[c];const u=o.factory||(o.factory=mc(o.type)),m=Nr(q);try{const g=If(!1),b=u();If(g),function(i,n,t,o){t>=i.data.length&&(i.data[t]=null,i.blueprint[t]=null),n[t]=o}(t,le(),c,b)}finally{Nr(m)}}(1,"async"),Ee(2),U()),2&t){let c;on("mat-tooltip-handset",null==(c=function(i,n,t){const o=i+20,c=le(),u=ao(c,o);return function(i,n){return i[1].data[n].pure}(c,o)?sp(c,sr(),n,u.transform,t,u):u.transform(t)}(1,5,o._isHandset))?null:c.matches),me("ngClass",o.tooltipClass)("@state",o._visibility),ue(2),O1(o.message)}},directives:[Oh],pipes:[AE],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[vle.tooltipState]},changeDetection:0}),i})(),Ale=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({providers:[Cle],imports:[[Voe,R2,OY,tn],tn,pk]}),i})();class gk{constructor(n=!1,t,o=!0){this._multiple=n,this._emitChanges=o,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new st,t&&t.length&&(n?t.forEach(c=>this._markSelected(c)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...n){this._verifyValueAssignment(n),n.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...n){this._verifyValueAssignment(n),n.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(n){this.isSelected(n)?this.deselect(n):this.select(n)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(n){return this._selection.has(n)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){this.isSelected(n)||(this._multiple||this._unmarkAll(),this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}}let $Y=(()=>{class i{constructor(){this._listeners=[]}notify(t,o){for(let c of this._listeners)c(t,o)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(o=>t!==o)}}ngOnDestroy(){this._listeners=[]}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Sle=["button"],kle=["*"],qY=new be("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),WY=new be("MatButtonToggleGroup"),Tle={provide:K1,useExisting:kt(()=>YY),multi:!0};let GY=0;class XY{constructor(n,t){this.source=n,this.value=t}}let YY=(()=>{class i{constructor(t,o){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+GY++,this.valueChange=new rt,this.change=new rt,this.appearance=o&&o.appearance?o.appearance:"standard"}get name(){return this._name}set name(t){this._name=t,this._buttonToggles&&this._buttonToggles.forEach(o=>{o.name=this._name,o._markForCheck()})}get vertical(){return this._vertical}set vertical(t){this._vertical=Pt(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(o=>o.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=Pt(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=Pt(t),this._buttonToggles&&this._buttonToggles.forEach(o=>o._markForCheck())}ngOnInit(){this._selectionModel=new gk(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(){const t=this.selected,o=Array.isArray(t)?t[t.length-1]:t,c=new XY(o,this.value);this._controlValueAccessorChangeFn(c.value),this.change.emit(c)}_syncButtonToggle(t,o,c=!1,u=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?o?this._selectionModel.select(t):this._selectionModel.deselect(t):u=!0,u?Promise.resolve().then(()=>this._updateModelValue(c)):this._updateModelValue(c)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(o=>null!=t.value&&o===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(o=>this._selectValue(o))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const o=this._buttonToggles.find(c=>null!=c.value&&c.value===t);o&&(o.checked=!0,this._selectionModel.select(o))}_updateModelValue(t){t&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return i.\u0275fac=function(t){return new(t||i)(q(Bt),q(qY,8))},i.\u0275dir=Ae({type:i,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,o,c){if(1&t&&Jn(c,ZY,5),2&t){let u;vt(u=_t())&&(o._buttonToggles=u)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,o){2&t&&(dt("aria-disabled",o.disabled),on("mat-button-toggle-vertical",o.vertical)("mat-button-toggle-group-appearance-standard","standard"===o.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[Ye([Tle,{provide:WY,useExisting:i}])]}),i})();const zle=Y3(class{});let ZY=(()=>{class i extends zle{constructor(t,o,c,u,m,g){super(),this._changeDetectorRef=o,this._elementRef=c,this._focusMonitor=u,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new rt;const b=Number(m);this.tabIndex=b||0===b?b:null,this.buttonToggleGroup=t,this.appearance=g&&g.appearance?g.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const o=Pt(t);o!==this._checked&&(this._checked=o,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=Pt(t)}ngOnInit(){const t=this.buttonToggleGroup;this._isSingleSelector=t&&!t.multiple,this.id=this.id||"mat-button-toggle-"+GY++,this._isSingleSelector&&(this.name=t.name),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new XY(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return i.\u0275fac=function(t){return new(t||i)(q(WY,8),q(Bt),q(mt),q(U3),na("tabindex"),q(qY,8))},i.\u0275cmp=sn({type:i,selectors:[["mat-button-toggle"]],viewQuery:function(t,o){if(1&t&&Pn(Sle,5),2&t){let c;vt(c=_t())&&(o._buttonElement=c.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,o){1&t&&Me("focus",function(){return o.focus()}),2&t&&(dt("aria-label",null)("aria-labelledby",null)("id",o.id)("name",null),on("mat-button-toggle-standalone",!o.buttonToggleGroup)("mat-button-toggle-checked",o.checked)("mat-button-toggle-disabled",o.disabled)("mat-button-toggle-appearance-standard","standard"===o.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[Ze],ngContentSelectors:kle,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,o){if(1&t&&(Bi(),$(0,"button",0,1),Me("click",function(){return o._onButtonClick()}),$(2,"span",2),rn(3),U(),U(),De(4,"span",3),De(5,"span",4)),2&t){const c=d2(1);me("id",o.buttonId)("disabled",o.disabled||null),dt("tabindex",o.disabled?-1:o.tabIndex)("aria-pressed",o.checked)("name",o.name||null)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby),ue(5),me("matRippleTrigger",c)("matRippleDisabled",o.disableRipple||o.disabled)}},directives:[q4],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),i})(),Nle=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({imports:[[tn,J5],tn]}),i})(),Ile=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({imports:[[tn],tn]}),i})();const Lle=["*"],Rle=["text"];function Vle(i,n){if(1&i&&De(0,"mat-pseudo-checkbox",5),2&i){const t=Ie();me("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const Ole=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],Ple=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];let Hle=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ae({type:i,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),i})(),Ble=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ae({type:i,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),i})();const jle=Y3(class{}),Ule=Y3(class{}),$le={provide:K1,useExisting:kt(()=>vk),multi:!0};class qle{constructor(n,t,o){this.source=n,this.option=t,this.options=o}}let VU=(()=>{class i extends Ule{constructor(t,o,c){super(),this._element=t,this._changeDetector=o,this.selectionList=c,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.selectedChange=new rt,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&!this.selectionList.compareWith(t,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const o=Pt(t);o!==this._disabled&&(this._disabled=o,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const o=Pt(t);o!==this._selected&&(this._setSelected(o),(o||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(c=>t.compareWith(c,this._value))&&this._setSelected(!0);const o=this._selected;Promise.resolve().then(()=>{(this._selected||o)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){!function(i,n,t="mat"){i.changes.pipe(Io(i)).subscribe(({length:o})=>{L_(n,`${t}-2-line`,!1),L_(n,`${t}-3-line`,!1),L_(n,`${t}-multi-line`,!1),2===o||3===o?L_(n,`${t}-${o}-line`,!0):o>3&&L_(n,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,o=this.selectionList._removeOptionFromList(this);t&&o&&o.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){!this.disabled&&(this.selectionList.multiple||!this.selected)&&(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this.selectedChange.emit(t),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return i.\u0275fac=function(t){return new(t||i)(q(mt),q(Bt),q(kt(()=>vk)))},i.\u0275cmp=sn({type:i,selectors:[["mat-list-option"]],contentQueries:function(t,o,c){if(1&t&&(Jn(c,Hle,5),Jn(c,Ble,5),Jn(c,Cse,5)),2&t){let u;vt(u=_t())&&(o._avatar=u.first),vt(u=_t())&&(o._icon=u.first),vt(u=_t())&&(o._lines=u)}},viewQuery:function(t,o){if(1&t&&Pn(Rle,5),2&t){let c;vt(c=_t())&&(o._text=c.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(t,o){1&t&&Me("focus",function(){return o._handleFocus()})("blur",function(){return o._handleBlur()})("click",function(){return o._handleClick()}),2&t&&(dt("aria-selected",o.selected)("aria-disabled",o.disabled)("tabindex",-1),on("mat-list-item-disabled",o.disabled)("mat-list-item-with-avatar",o._avatar||o._icon)("mat-primary","primary"===o.color)("mat-accent","primary"!==o.color&&"warn"!==o.color)("mat-warn","warn"===o.color)("mat-list-single-selected-option",o.selected&&!o.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",disabled:"disabled",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[Ze],ngContentSelectors:Ple,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(t,o){1&t&&(Bi(Ole),$(0,"div",0),De(1,"div",1),it(2,Vle,1,2,"mat-pseudo-checkbox",2),$(3,"div",3,4),rn(5),U(),rn(6,1),U()),2&t&&(on("mat-list-item-content-reverse","after"==o.checkboxPosition),ue(1),me("matRippleTrigger",o._getHostElement())("matRippleDisabled",o._isRippleDisabled()),ue(1),me("ngIf",o.selectionList.multiple))},directives:[q4,L2,iX],encapsulation:2,changeDetection:0}),i})(),vk=(()=>{class i extends jle{constructor(t,o,c,u){super(),this._element=t,this._changeDetector=c,this._focusMonitor=u,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new rt,this.tabIndex=0,this.color="accent",this.compareWith=(m,g)=>m===g,this._disabled=!1,this.selectedOptions=new gk(this._multiple),this._tabIndex=-1,this._onChange=m=>{},this._destroyed=new st,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=Pt(t),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(t){const o=Pt(t);o!==this._multiple&&(this._multiple=o,this.selectedOptions=new gk(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){var t;this._contentInitialized=!0,this._keyManager=new Moe(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(Jt(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(Io(null),Jt(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(Jt(this._destroyed)).subscribe(o=>{if(o.added)for(let c of o.added)c.selected=!0;if(o.removed)for(let c of o.removed)c.selected=!1}),null==(t=this._focusMonitor)||t.monitor(this._element).pipe(Jt(this._destroyed)).subscribe(o=>{var c;if("keyboard"===o||"program"===o){let u=0;for(let m=0;m<this.options.length;m++)if(null==(c=this.options.get(m))?void 0:c.selected){u=m;break}this._keyManager.setActiveItem(u)}})}ngOnChanges(t){const o=t.disableRipple,c=t.color;(o&&!o.firstChange||c&&!c.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){var t;null==(t=this._focusMonitor)||t.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const o=this._getOptionIndex(t);return o>-1&&this._keyManager.activeItemIndex===o&&(o>0?this._keyManager.updateActiveItem(o-1):0===o&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(o+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const o=t.keyCode,c=this._keyManager,u=c.activeItemIndex,m=Il(t);switch(o){case 32:case 13:!m&&!c.isTyping()&&(this._toggleFocusedOption(),t.preventDefault());break;default:if(65===o&&this.multiple&&Il(t,"ctrlKey")&&!c.isTyping()){const g=this.options.some(b=>!b.disabled&&!b.selected);this._setAllOptionsSelected(g,!0,!0),t.preventDefault()}else c.onKeydown(t)}this.multiple&&(38===o||40===o)&&t.shiftKey&&c.activeItemIndex!==u&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new qle(this,t[0],t))}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(o=>o._setSelected(!1)),t.forEach(o=>{const c=this.options.find(u=>!u.selected&&this.compareWith(u.value,o));c&&c._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let o=this.options.toArray()[t];o&&!o.disabled&&(this._multiple||!o.selected)&&(o.toggle(),this._emitChangeEvent([o]))}}_setAllOptionsSelected(t,o,c){const u=[];return this.options.forEach(m=>{(!o||!m.disabled)&&m._setSelected(t)&&u.push(m)}),u.length&&(this._reportValueChange(),c&&this._emitChangeEvent(u)),u}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return i.\u0275fac=function(t){return new(t||i)(q(mt),na("tabindex"),q(Bt),q(U3))},i.\u0275cmp=sn({type:i,selectors:[["mat-selection-list"]],contentQueries:function(t,o,c){if(1&t&&Jn(c,VU,5),2&t){let u;vt(u=_t())&&(o.options=u)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(t,o){1&t&&Me("keydown",function(u){return o._keydown(u)}),2&t&&dt("aria-multiselectable",o.multiple)("aria-disabled",o.disabled.toString())("tabindex",o._tabIndex)},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[Ye([$le]),Ze,Rn],ngContentSelectors:Lle,decls:1,vars:0,template:function(t,o){1&t&&(Bi(),rn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),i})(),Wle=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({imports:[[JG,J5,tn,aU,R2],JG,tn,aU,Ile]}),i})();const Gle=["searchModal"],Xle=["selectionList"];function Yle(i,n){if(1&i){const t=Kn();$(0,"button",32,33),Me("click",function(){return Sn(t),Ie(2).clearSearchText()}),De(2,"fa-icon",16),U()}if(2&i){const t=Ie(2);ue(2),me("icon",t.faTimes)}}function Zle(i,n){if(1&i){const t=Kn();$(0,"mat-list-option",34),Me("click",function(c){return Sn(t),Ie(2).selectSearchItem(c)}),$(1,"div",35),$(2,"div",36),Ee(3),U(),$(4,"div",37),$(5,"span"),Ee(6),U(),U(),U(),U()}if(2&i){const t=n.$implicit;me("value",t.id)("selected",t.selected),ue(3),Di("",t.name," "),ue(1),Or("color",t.color),ue(2),Di("",t.groupName," ")}}function Kle(i,n){if(1&i){const t=Kn();$(0,"div",6,7),$(2,"div",8),$(3,"div",9),$(4,"div",10),$(5,"mat-form-field",11),$(6,"input",12,13),Me("ngModelChange",function(c){return Sn(t),Ie().searchValue=c})("input",function(){return Sn(t),Ie().filterSearchSet()}),U(),it(8,Yle,3,1,"button",14),$(9,"button",15),Me("click",function(){return Sn(t),Ie().leaveSearchComponent()}),De(10,"fa-icon",16),U(),U(),U(),$(11,"div",17),$(12,"div",18),$(13,"span",19),Ee(14,"Show only:"),U(),$(15,"mat-button-toggle-group",20,21),Me("click",function(){return Sn(t),Ie().toggleSearchSetUpdate()}),$(17,"mat-button-toggle",22),Me("change",function(c){return Sn(t),Ie().asSelected=c.source.checked}),Ee(18,"AS"),U(),$(19,"mat-button-toggle",23),Me("change",function(c){return Sn(t),Ie().ctSelected=c.source.checked}),Ee(20,"CT"),U(),$(21,"mat-button-toggle",24),Me("change",function(c){return Sn(t),Ie().bmSelected=c.source.checked}),Ee(22,"B"),U(),U(),U(),$(23,"div",25),$(24,"button",26),Me("click",function(){return Sn(t),Ie().clearSelection()}),Ee(25,"Clear"),U(),$(26,"button",27),Me("click",function(){return Sn(t),Ie().induce()}),Ee(27,"Induce"),U(),U(),U(),U(),U(),$(28,"div",28),$(29,"mat-selection-list",29,30),it(31,Zle,7,6,"mat-list-option",31),U(),U(),U()}if(2&i){const t=Ie();ue(6),me("ngModel",t.searchValue),ue(2),me("ngIf",""!=t.searchValue),ue(2),me("icon",t.faAngleUp),ue(7),me("checked",t.asSelected),ue(2),me("checked",t.ctSelected),ue(2),me("checked",t.bmSelected),ue(10),me("ngForOf",t.searchSet)}}let Qle=(()=>{class i{constructor(t){this.visC=t,this.faSearch=CS,this.faAngleDown=XD,this.faAngleUp=YD,this.faTimes=DW,this.searchOpen=!1,this.searchSet=[],this.asSelected=!1,this.ctSelected=!1,this.bmSelected=!1,this.searchValue=""}onGlobalClick(t){null!=this.searchModal&&(this.searchModal.nativeElement.contains(t.target)||this.leaveSearchComponent())}leaveSearchComponent(){this.searchOpen=!1,this.searchSet=[],this.asSelected=!1,this.ctSelected=!1,this.bmSelected=!1,this.searchValue=""}createRectangles(t,o){let c=[];return t.forEach(u=>{let m=this.findObjectByID(u,o);if(null==m)return null;let R,g=o.scale("xscale"),b=o.scale("yscale"),x=o.scale("vertexSizeScale"),D=new xS.S(g(m.x),b(m.y)),k=x(m.vertexSize),z=Math.sqrt(k);R="0 Degree"==this.visC.selectedRotation||"180 Degree"==this.visC.selectedRotation?new gj.A(D.x-1.5*z,D.y-1.6*z,3*z,2.1*z):new gj.A(D.x-1.6*z,D.y-1.5*z,2.1*z,3*z),c.push({x:R.positionX,y:R.positionY,w:R.width,h:R.height})}),c}induce(){let t=[];if(this.selectionList.selectedOptions.selected.forEach(o=>{t.push(o.value)}),t.length>0){let o=t[t.length-1];this.visC.controller.updateMode("Exploration"),this.visC.controller.currentMode.root=o,this.visC.controller.currentMode.lastClick=o,this.visC.controller.currentMode.originalGraph=this.visC.controller.graphs[this.visC.controller.currentOrgan],this.visC.controller.currentMode.firstTime=!1,this.visC.modes.forEach(c=>{c.sel&&(c.sel=!1)}),this.visC.modes[2].sel=!0,this.selectionList.deselectAll(),this.visC.controller.currentMode.renderRestoreGraphContext()}}scrollToPosition(t,o){let c=this.findObjectByID(t,o);if(null!=c){let D,k,u=o.scale("xscale"),m=o.scale("yscale"),g=new xS.S(u(c.x),m(c.y)),b=this.visC.controller.properties,x=b.heightDrawingDIV;D=g.y-x/2>0?g.y-x/2:g.y,k=g.x-b.totalWidth/2>0?g.x-b.totalWidth/2:g.x,document.getElementById("drawing").scrollTop=D,document.getElementById("drawing").scrollLeft=k}}findObjectByID(t,o){let c=o.data("vertices").slice(0),u=null;return null!=c&&c.forEach(m=>{m.id==t&&(u=m)}),u}addRectangles(t,o){if(null!=t){let c=pj._K7();return t.forEach(u=>{c=c.insert(u)}),o.change("rects",c),o.runAsync()}return Promise.reject()}selectSearchItem(t){let o=this.visC.controller;o.currentMode.renderRestoreGraphContext().then(()=>{let c=[];if(this.selectionList.selectedOptions.selected.forEach(u=>{c.push(u.value)}),c.length>0){let u=o.currentMode.currentView;this.scrollToPosition(c[c.length-1],u);let g=this.createRectangles(c,u);this.addRectangles(g,u)}})}clearSelection(){this.visC.controller.currentMode.renderRestoreGraphContext().then(()=>this.selectionList.deselectAll())}filterSearchSet(){if(""!=this.searchValue){this.searchSet=this.asSet.concat(this.ctSet.concat(this.bmSet));let t=this.processLabel(this.searchValue);this.searchSet=this.searchSet.filter(o=>o.name.includes(t)&&this.toggleFilter(o))}else this.processToggle()}clearSearchText(){this.searchValue="",this.processToggle()}toggleFilter(t){return this.asSelected||this.ctSelected||!this.bmSelected?this.asSelected||!this.ctSelected||this.bmSelected?!this.asSelected&&this.ctSelected&&this.bmSelected?"Cell Type"==t.groupName||"Biomarker"==t.groupName:!this.asSelected||this.ctSelected||this.bmSelected?this.asSelected&&!this.ctSelected&&this.bmSelected?"Anatomical Structure"==t.groupName||"Biomarker"==t.groupName:!(this.asSelected&&this.ctSelected&&!this.bmSelected)||"Anatomical Structure"==t.groupName||"Cell Type"==t.groupName:"Anatomical Structure"==t.groupName:"Cell Type"==t.groupName:"Biomarker"==t.groupName}processToggle(){this.asSelected&&this.bmSelected&&this.ctSelected||!this.asSelected&&!this.bmSelected&&!this.ctSelected?this.searchSet=this.asSet.concat(this.ctSet.concat(this.bmSet)):this.asSelected||this.ctSelected||!this.bmSelected?this.asSelected||!this.ctSelected||this.bmSelected?!this.asSelected&&this.ctSelected&&this.bmSelected?this.searchSet=this.ctSet.concat(this.bmSet):!this.asSelected||this.ctSelected||this.bmSelected?this.asSelected&&!this.ctSelected&&this.bmSelected?this.searchSet=this.asSet.concat(this.bmSet):this.asSelected&&this.ctSelected&&!this.bmSelected&&(this.searchSet=this.asSet.concat(this.ctSet)):this.searchSet=this.asSet:this.searchSet=this.ctSet:this.searchSet=this.bmSet}toggleSearchSetUpdate(){""==this.searchValue?this.processToggle():(this.filterSearchSet(),this.asSelected&&this.bmSelected&&this.ctSelected||!this.asSelected&&!this.bmSelected&&!this.ctSelected||(this.asSelected||this.ctSelected||!this.bmSelected?this.asSelected||!this.ctSelected||this.bmSelected?!this.asSelected&&this.ctSelected&&this.bmSelected?this.searchSet=this.searchSet.filter(t=>"Biomarker"==t.groupName||"Cell Type"==t.groupName):!this.asSelected||this.ctSelected||this.bmSelected?this.asSelected&&!this.ctSelected&&this.bmSelected?this.searchSet=this.searchSet.filter(t=>"Biomarker"==t.groupName||"Anatomical Structure"==t.groupName):this.asSelected&&this.ctSelected&&!this.bmSelected&&(this.searchSet=this.searchSet.filter(t=>"Cell Type"==t.groupName||"Anatomical Structure"==t.groupName)):this.searchSet=this.searchSet.filter(t=>"Anatomical Structure"==t.groupName):this.searchSet=this.searchSet.filter(t=>"Cell Type"==t.groupName):this.searchSet=this.searchSet.filter(t=>"Biomarker"==t.groupName)))}processLabel(t){let o=t.split(" "),c=[];for(let u=0;u<o.length;u++)""!=o[u]&&c.push(o[u][0].toUpperCase()+o[u].substring(1));return c.join(" ")}initializeSearchSet(){this.searchSet=[];let t=this.visC.controller.currentMode.currentView;this.asSet=[],this.ctSet=[],this.bmSet=[],t.data("vertices").forEach(o=>{let c;if(c=this.processLabel("string"==typeof o.label?o.label:o.label.join("")),c.length>2)switch(o.vertexType){case"Anatomical Structure":this.asSet.push({id:o.id,name:c,groupName:"Anatomical Structure",color:"#E41A1C",induce:!0,selected:!1});break;case"Cell Type":this.ctSet.push({id:o.id,name:c,groupName:"Cell Type",color:"#377EB8",induce:!0,selected:!1});break;default:this.bmSet.push({id:o.id,name:c,groupName:"Biomarker",color:"#4DAF4A",induce:!1,selected:!1})}}),this.searchSet=this.asSet.concat(this.ctSet.concat(this.bmSet))}openSearchList(){this.initializeSearchSet(),this.searchOpen=!0}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)(q(F_))},i.\u0275cmp=sn({type:i,selectors:[["app-search"]],viewQuery:function(t,o){if(1&t&&(Pn(Gle,5),Pn(Xle,5)),2&t){let c;vt(c=_t())&&(o.searchModal=c.first),vt(c=_t())&&(o.selectionList=c.first)}},hostBindings:function(t,o){1&t&&Me("mousedown",function(u){return o.onGlobalClick(u)},!1,n8)},decls:7,vars:3,consts:[[1,"h-100","w-100","d-flex","align-items-center",2,"background-color","white","color","black"],["id","searchLarge",1,"fa-lg",2,"margin-left","1%",3,"icon"],[1,"w-100","d-flex","justify-content-between",2,"background-color","white","color","black","border","white",3,"click"],[1,"",2,"margin-left","1%"],[1,"fa-lg","flex-row","col-md-1",2,"margin-right","1%",3,"icon"],["class","search-modal mat-elevation-z4 card",4,"ngIf"],[1,"search-modal","mat-elevation-z4","card"],["searchModal",""],[1,"h-25","card-header",2,"background-color","white"],[1,"h-100","w-100","d-flex",2,"flex-wrap","wrap"],[1,"w-100","h-50",2,"align-items","center","display","flex"],["appearance","legacy","floatLabel","never",1,"w-100"],["matInput","","cdkFocusInitial","","placeholder","Search Structures",3,"ngModel","ngModelChange","input"],["searchField",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear Search","matTooltip","Clear Search","style","margin-right: 0.5vw;background-color: white;color: black;border: white",3,"click",4,"ngIf"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Close","matTooltip","Close",2,"background-color","white","color","black","border","white",3,"click"],[1,"fa-lg","flex-row","col-md-1",3,"icon"],[1,"w-100","h-50","d-flex","justify-content-between"],[1,"d-flex","align-items-center","w-50","h-100"],["id","label"],["multiple","","name","searchFilterButtons","aria-label","searchFilterButtons",2,"margin-left","2%","display","flex","align-items","center","height","90%",3,"click"],["group","matButtonToggleGroup"],["value","Anatomical Structures","matTooltip","Anatomical Structures",3,"checked","change"],["value","Cell Types","matTooltip","Cell Types",3,"checked","change"],["value","Biomarkers","matTooltip","Biomarkers",3,"checked","change"],[1,"d-flex","align-items-center","justify-content-end","w-50","h-100",2,"gap","1vw"],["mat-raised-button","","aria-label","Clear","matTooltip","Clear the current selection and all displayed rectangles inside the drawing",1,"selectBtn","h-75",2,"background-color","black","color","white","display","flex","white-space","pre-wrap","align-items","center",3,"click"],["mat-raised-button","","aria-label","Induce","matTooltip","Switch to exploration mode and explore the subgraph induced by the last selected vertex",1,"selectBtn","h-75",2,"background-color","black","color","white","display","flex","white-space","pre-wrap","align-items","center",3,"click"],[1,"h-75","card-body"],[1,"h-100",2,"overflow","auto"],["selectionList",""],["checkboxPosition","before","class","",3,"value","selected","click",4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear Search","matTooltip","Clear Search",2,"margin-right","0.5vw","background-color","white","color","black","border","white",3,"click"],["clearBtn",""],["checkboxPosition","before",1,"",3,"value","selected","click"],[1,"d-flex","justify-content-between","h-100",2,"gap","1vw"],[1,"h-100",2,"white-space","pre-wrap"],[1,"d-flex","align-content-end",2,"white-space","pre-wrap","text-align","end"]],template:function(t,o){1&t&&($(0,"div",0),De(1,"fa-icon",1),$(2,"button",2),Me("click",function(){return o.openSearchList()}),$(3,"span",3),Ee(4," Search "),U(),De(5,"fa-icon",4),U(),U(),it(6,Kle,32,7,"div",5)),2&t&&(ue(1),me("icon",o.faSearch),ue(4),me("icon",o.faAngleDown),ue(1),me("ngIf",o.searchOpen))},directives:[ka,L2,pX,xce,tk,qX,wU,kce,y2e,RU,YY,ZY,vk,hl,VU],styles:[".search-modal[_ngcontent-%COMP%]{background:white;color:#000;position:absolute;width:30vw;height:50vh;top:0;right:0;z-index:20;border-bottom:.1875rem solid rgba(68,74,101,.063);border-radius:.25rem}"]}),i})();function Jle(i,n){if(1&i){const t=Kn();$(0,"button",10),Me("click",function(){const u=Sn(t).index,m=Ie();return m.buttonHandlers[m.buttonStrings.length-1-u]()}),$(1,"div",11),De(2,"fa-icon",12),U(),$(3,"div",13),De(4,"fa-icon",12),U(),$(5,"div",14),Ee(6),U(),U()}if(2&i){const t=n.index,o=Ie();V1("matTooltip",o.buttonTooltips[o.buttonStrings.length-1-t]),ue(2),me("icon",o.buttonIcons[o.buttonStrings.length-1-t]),ue(2),me("icon",o.buttonIcons[o.buttonStrings.length-1-t]),ue(2),Di(" ",o.buttonStrings[o.buttonStrings.length-1-t],"")}}function e0e(i,n){if(1&i){const t=Kn();$(0,"label",15),$(1,"input",16),Me("click",function(c){return Sn(t),Ie().organClicked(c)}),U(),$(2,"span",17),Ee(3),U(),U()}if(2&i){const t=n.$implicit,o=n.index;g2("id","",o,"l"),ue(1),V1("id",o),ue(1),g2("matTooltip","Draw organ ",t,""),ue(1),Di(" ",t,"")}}let t0e=(()=>{class i{constructor(t){this.visC=t,this.faGlobe=dS,this.faExpand=L3,this.faRedo=hj,this.faDownload=l_,this.faServer=mj,this.faCog=s_,this.faSearch=CS,this.searchLogo=CS,this.logo="logo.svg",this.buttonHandlers=[()=>{this.visC.controller.currentMode.renderRestoreGraphContext().then(()=>{this.visC.controller.currentMode.firstTime=!0,this.visC.controller.currentMode.fitContent(this.visC.controller.currentMode.currentView),document.getElementById("drawing").scrollLeft=0,document.getElementById("drawing").scrollTop=0})},()=>{this.visC.controller.currentMode.reset(),this.visC.controller.render()},()=>{this.visC.controller.currentMode.exportImage()},()=>{window.open("https://docs.google.com/spreadsheets/d/1tK916JyG5ZSXW_cXfsyZnzXfjyoN-8B2GXLbYD6_vF0/edit#gid=559906129","_blank")},()=>{this.hideSideNav()}],this.buttonTooltips=["Fit the content of the entire drawing on the screen","Reset view and graph content","Export drawing as scalable vector graphic","Visit the tables which provide the graph data","Toggle the settings navbar"],this.buttonStrings=["Fit Content","Reset","Export","Data Tables","Settings"],this.buttonIcons=[L3,hj,l_,mj,s_],this.organStrings=["Bone Marrow","Brain","Heart","Kidney","Large Intestine","Lung","Lymph Nodes","Skin","Spleen","Thymus","Vasculature"],this.checked=!1,this.lastID="-1",this.oldRects=[]}ngOnInit(){}ngAfterViewInit(){let t=document.getElementById("3l");null!=t&&(t.style.borderColor="#262626",t.style.backgroundColor="white",t.style.color="#262626",this.lastID="3l")}organClicked(t){if(null!=t){let o=t.target.id+"l",c=document.getElementById(o);if(null!=c){c.style.borderColor="#262626",c.style.backgroundColor="white",c.style.color="#262626";let m=document.getElementById(this.lastID);null!=m&&this.lastID!=o&&(m.style.backgroundColor="#262626",m.style.color="white")}this.lastID=o,this.visC.controller.updateOrgan(t.target.nextSibling.innerText),this.visC.updateContainer(),this.visC.controller.currentMode.reset(),this.visC.controller.render()}}createRectangles(t,o){let c=[];return t.forEach(u=>{let m=this.findObjectByID(u,o),g=o.scale("xscale"),b=o.scale("yscale"),x=o.scale("vertexSizeScale"),D=new xS.S(g(m.x),b(m.y)),k=x(m.vertexSize),z=Math.sqrt(k),L=2.5,R=new gj.A(D.x-L/2*z,D.y-L/1.5*z,L*z,L*z);c.push({x:R.positionX,y:R.positionY,w:R.width,h:R.height})}),c}clearRectangles(t){let o=pj._K7(),c=t.data("rects").slice(0);return null!=c?(c.forEach(u=>{o=o.remove([u])}),t.change("rects",o),t.runAsync().then()):Promise.resolve(t)}addRectangles(t,o){let c=pj._K7();return t.forEach(u=>{c=c.insert(u)}),o.change("rects",c),o.runAsync()}scrollToPosition(t,o){let k,c=this.findObjectByID(t,o),u=o.scale("xscale"),m=o.scale("yscale"),g=new xS.S(u(c.x),m(c.y)),D=(document.getElementById("drawing"),this.visC.controller.properties.heightDrawingDIV);k=g.y-D/2>0?g.y-D/2:g.y,document.getElementById("drawing").scrollTop=k}findObjectByID(t,o){let c=o.data("vertices").slice(0),u=null;return null!=c&&c.forEach(m=>{m.id==t&&(u=m)}),u}hideSideNav(){this.visC.sideNAVHidden=!this.visC.sideNAVHidden,setTimeout(()=>{this.visC.promiseFrameworkLoaded.then(()=>{this.visC.controller.properties.initialize(),document.getElementById("drawing"),this.visC.controller.renderRestore()})})}}return i.\u0275fac=function(t){return new(t||i)(q(F_))},i.\u0275cmp=sn({type:i,selectors:[["app-top-nav"]],decls:11,vars:2,consts:[["id","nav",1,"h-50","w-100","flex-container","d-flex"],[1,"flex-col","h-100","w-50","justify-content-start"],[1,"align-items-center","w-100","h-100",2,"display","flex"],[1,"",2,"margin-left","2%"],[1,"flex-col","h-100","w-50","justify-content-lg-end","justify-content-sm-center"],["id","buttonList",1,"d-flex","align-items-center","w-100"],[1,"h-75","w-25","btn-pad"],["class","d-flex flex-column icon-btn btn-pad align-items-center",3,"matTooltip","click",4,"ngFor","ngForOf"],["id","organs",1,"flex-container","d-flex","align-items-center","h-50","w-100","btn-group"],["class","btn btn-css h-50 c flex-column","style","display: flex;justify-content: center",3,"id",4,"ngFor","ngForOf"],[1,"d-flex","flex-column","icon-btn","btn-pad","align-items-center",3,"matTooltip","click"],["id","iconsLarge",1,"fa-lg"],[3,"icon"],["id","iconsSmall",1,"fa-sm"],[2,"text-align","center"],[1,"btn","btn-css","h-50","c","flex-column",2,"display","flex","justify-content","center",3,"id"],["type","radio",1,"btn-color2",2,"display","none",3,"id","click"],[3,"matTooltip"]],template:function(t,o){1&t&&($(0,"div",0),$(1,"div",1),$(2,"span",2),$(3,"h3",3),Ee(4," ASCT+B Explorer"),U(),U(),U(),$(5,"div",4),$(6,"div",5),De(7,"app-search",6),it(8,Jle,7,4,"button",7),U(),U(),U(),$(9,"div",8),it(10,e0e,4,4,"label",9),U()),2&t&&(ue(8),me("ngForOf",o.buttonStrings),ue(2),me("ngForOf",o.organStrings))},directives:[Qle,hl,RU,ka],styles:["*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:content-box}.navbar[_ngcontent-%COMP%]{padding-top:0}#iconsSmall[_ngcontent-%COMP%]{display:none}#searchSmall[_ngcontent-%COMP%]{display:none}#searchField[_ngcontent-%COMP%]{margin-left:2%;width:98%;border:none;outline:none;min-width:0}.searchICON[_ngcontent-%COMP%]{border:none;transform:translate(10%,14%);min-width:0}#searchFormGroup[_ngcontent-%COMP%]{padding-top:.2vw;padding-bottom:.2vw;background-color:#fff;color:#000;border:none;white-space:nowrap;min-width:0;margin-right:.5vw;flex-basis:35%}@media (max-height: 700px){#iconsSmall[_ngcontent-%COMP%]{display:block}#iconsLarge[_ngcontent-%COMP%]{display:none}#searchLarge[_ngcontent-%COMP%]{display:none}#searchSmall[_ngcontent-%COMP%]{display:block}}.btn-pad[_ngcontent-%COMP%]{border:none;background:none;margin-right:1vw;line-height:2vh;color:#fff;white-space:nowrap;min-width:0;min-height:0}#buttonList[_ngcontent-%COMP%]{height:100%;justify-content:end;flex-wrap:nowrap;flex-direction:row-reverse}#nav[_ngcontent-%COMP%]{min-height:0}#organs[_ngcontent-%COMP%]{flex-wrap:nowrap;border-top:1px solid white}.c[_ngcontent-%COMP%]{flex-basis:0;min-width:0}#nav[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid white}.btn-css[_ngcontent-%COMP%]{background-color:#262626;color:#fff;white-space:nowrap}"]}),i})();const KY=new be("CdkAccordion");let n0e=0,i0e=(()=>{class i{constructor(t,o,c){this.accordion=t,this._changeDetectorRef=o,this._expansionDispatcher=c,this._openCloseAllSubscription=Nt.EMPTY,this.closed=new rt,this.opened=new rt,this.destroyed=new rt,this.expandedChange=new rt,this.id="cdk-accordion-child-"+n0e++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=c.listen((u,m)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===m&&this.id!==u&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=Pt(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=Pt(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return i.\u0275fac=function(t){return new(t||i)(q(KY,12),q(Bt),q($Y))},i.\u0275dir=Ae({type:i,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Ye([{provide:KY,useValue:void 0}])]}),i})(),r0e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({}),i})();const o0e=["body"];function a0e(i,n){}const s0e=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],c0e=["mat-expansion-panel-header","*","mat-action-row"];function l0e(i,n){1&i&&De(0,"span",2),2&i&&me("@indicatorRotate",Ie()._getExpandedState())}const u0e=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],f0e=["mat-panel-title","mat-panel-description","*"],QY=new be("MAT_ACCORDION"),JY="225ms cubic-bezier(0.4,0.0,0.2,1)",eZ={indicatorRotate:Y5("indicatorRotate",[q2("collapsed, void",Ki({transform:"rotate(0deg)"})),q2("expanded",Ki({transform:"rotate(180deg)"})),j4("expanded <=> collapsed, void => collapsed",$3(JY))]),bodyExpansion:Y5("bodyExpansion",[q2("collapsed, void",Ki({height:"0px",visibility:"hidden"})),q2("expanded",Ki({height:"*",visibility:"visible"})),j4("expanded <=> collapsed, void => collapsed",$3(JY))])};let d0e=(()=>{class i{constructor(t){this._template=t}}return i.\u0275fac=function(t){return new(t||i)(q(si))},i.\u0275dir=Ae({type:i,selectors:[["ng-template","matExpansionPanelContent",""]]}),i})(),h0e=0;const tZ=new be("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let nZ=(()=>{class i extends i0e{constructor(t,o,c,u,m,g,b){super(t,o,c),this._viewContainerRef=u,this._animationMode=g,this._hideToggle=!1,this.afterExpand=new rt,this.afterCollapse=new rt,this._inputChanges=new st,this._headerId="mat-expansion-panel-header-"+h0e++,this._bodyAnimationDone=new st,this.accordion=t,this._document=m,this._bodyAnimationDone.pipe(w3((x,D)=>x.fromState===D.fromState&&x.toState===D.toState)).subscribe(x=>{"void"!==x.fromState&&("expanded"===x.toState?this.afterExpand.emit():"collapsed"===x.toState&&this.afterCollapse.emit())}),b&&(this.hideToggle=b.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=Pt(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(Io(null),Lo(()=>this.expanded&&!this._portal),Yo(1)).subscribe(()=>{this._portal=new LU(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,o=this._body.nativeElement;return t===o||o.contains(t)}return!1}}return i.\u0275fac=function(t){return new(t||i)(q(QY,12),q(Bt),q($Y),q(pr),q(ut),q(Na,8),q(tZ,8))},i.\u0275cmp=sn({type:i,selectors:[["mat-expansion-panel"]],contentQueries:function(t,o,c){if(1&t&&Jn(c,d0e,5),2&t){let u;vt(u=_t())&&(o._lazyContent=u.first)}},viewQuery:function(t,o){if(1&t&&Pn(o0e,5),2&t){let c;vt(c=_t())&&(o._body=c.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,o){2&t&&on("mat-expanded",o.expanded)("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-expansion-panel-spacing",o._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Ye([{provide:QY,useValue:void 0}]),Ze,Rn],ngContentSelectors:c0e,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,o){1&t&&(Bi(s0e),rn(0),$(1,"div",0,1),Me("@bodyExpansion.done",function(u){return o._bodyAnimationDone.next(u)}),$(3,"div",2),rn(4,1),it(5,a0e,0,0,"ng-template",3),U(),rn(6,2),U()),2&t&&(ue(1),me("@bodyExpansion",o._getExpandedState())("id",o.id),dt("aria-labelledby",o._headerId),ue(4),me("cdkPortalOutlet",o._portal))},directives:[Xce],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[eZ.bodyExpansion]},changeDetection:0}),i})();class m0e{}const p0e=QS(m0e);let g0e=(()=>{class i extends p0e{constructor(t,o,c,u,m,g,b){super(),this.panel=t,this._element=o,this._focusMonitor=c,this._changeDetectorRef=u,this._animationMode=g,this._parentChangeSubscription=Nt.EMPTY;const x=t.accordion?t.accordion._stateChanges.pipe(Lo(D=>!(!D.hideToggle&&!D.togglePosition))):ql;this.tabIndex=parseInt(b||"")||0,this._parentChangeSubscription=oc(t.opened,t.closed,x,t._inputChanges.pipe(Lo(D=>!!(D.hideToggle||D.disabled||D.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(Lo(()=>t._containsFocus())).subscribe(()=>c.focusVia(o,"program")),m&&(this.expandedHeight=m.expandedHeight,this.collapsedHeight=m.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:Il(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,o){t?this._focusMonitor.focusVia(this._element,t,o):this._element.nativeElement.focus(o)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return i.\u0275fac=function(t){return new(t||i)(q(nZ,1),q(mt),q(U3),q(Bt),q(tZ,8),q(Na,8),na("tabindex"))},i.\u0275cmp=sn({type:i,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,o){1&t&&Me("click",function(){return o._toggle()})("keydown",function(u){return o._keydown(u)}),2&t&&(dt("id",o.panel._headerId)("tabindex",o.tabIndex)("aria-controls",o._getPanelId())("aria-expanded",o._isExpanded())("aria-disabled",o.panel.disabled),Or("height",o._getHeaderHeight()),on("mat-expanded",o._isExpanded())("mat-expansion-toggle-indicator-after","after"===o._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===o._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===o._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[Ze],ngContentSelectors:f0e,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,o){1&t&&(Bi(u0e),$(0,"span",0),rn(1),rn(2,1),rn(3,2),U(),it(4,l0e,1,1,"span",1)),2&t&&(ue(4),me("ngIf",o._showToggle()))},directives:[L2],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[eZ.indicatorRotate]},changeDetection:0}),i})(),v0e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=Ae({type:i,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),i})(),_0e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({imports:[[R2,tn,r0e,wY]]}),i})();const b0e=["trigger"],C0e=["panel"];function x0e(i,n){if(1&i&&($(0,"span",8),Ee(1),U()),2&i){const t=Ie();ue(1),O1(t.placeholder)}}function M0e(i,n){if(1&i&&($(0,"span",12),Ee(1),U()),2&i){const t=Ie(2);ue(1),O1(t.triggerValue)}}function w0e(i,n){1&i&&rn(0,0,["*ngSwitchCase","true"])}function E0e(i,n){1&i&&($(0,"span",9),it(1,M0e,2,1,"span",10),it(2,w0e,1,0,"ng-content",11),U()),2&i&&(me("ngSwitch",!!Ie().customTrigger),ue(2),me("ngSwitchCase",!0))}function D0e(i,n){if(1&i){const t=Kn();$(0,"div",13),$(1,"div",14,15),Me("@transformPanel.done",function(c){return Sn(t),Ie()._panelDoneAnimatingStream.next(c.toState)})("keydown",function(c){return Sn(t),Ie()._handleKeydown(c)}),rn(3,1),U(),U()}if(2&i){const t=Ie();me("@transformPanelWrap",void 0),ue(1),_2("mat-select-panel ",t._getPanelTheme(),""),Or("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),me("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),dt("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const A0e=[[["mat-select-trigger"]],"*"],S0e=["mat-select-trigger","*"],iZ={transformPanelWrap:Y5("transformPanelWrap",[j4("* => void",Uoe("@transformPanel",[joe()],{optional:!0}))]),transformPanel:Y5("transformPanel",[q2("void",Ki({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),q2("showing",Ki({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),q2("showing-multiple",Ki({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),j4("void => *",$3("120ms cubic-bezier(0, 0, 0.2, 1)")),j4("* => void",$3("100ms 25ms linear",Ki({opacity:0})))])};let rZ=0;const aZ=new be("mat-select-scroll-strategy"),N0e=new be("MAT_SELECT_CONFIG"),I0e={provide:aZ,deps:[t7],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};class L0e{constructor(n,t){this.source=n,this.value=t}}const F0e=Y3(QS(KS(QG(class{constructor(i,n,t,o,c){this._elementRef=i,this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=o,this.ngControl=c}})))),R0e=new be("MatSelectTrigger");let V0e=(()=>{class i extends F0e{constructor(t,o,c,u,m,g,b,x,D,k,z,L,R,j){var B,Q,K;super(m,u,b,x,k),this._viewportRuler=t,this._changeDetectorRef=o,this._ngZone=c,this._dir=g,this._parentFormField=D,this._liveAnnouncer=R,this._defaultOptions=j,this._panelOpen=!1,this._compareWith=(he,_e)=>he===_e,this._uid="mat-select-"+rZ++,this._triggerAriaLabelledBy=null,this._destroy=new st,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+rZ++,this._panelDoneAnimatingStream=new st,this._overlayPanelClass=(null==(B=this._defaultOptions)?void 0:B.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!=(K=null==(Q=this._defaultOptions)?void 0:Q.disableOptionCentering)&&K,this.ariaLabel="",this.optionSelectionChanges=function(i){return new Lt(n=>{yi(i()).subscribe(n)})}(()=>{const he=this.options;return he?he.changes.pipe(Io(he),Lv(()=>oc(...he.map(_e=>_e.onSelectionChange)))):this._ngZone.onStable.pipe(Yo(1),Lv(()=>this.optionSelectionChanges))}),this.openedChange=new rt,this._openedStream=this.openedChange.pipe(Lo(he=>he),an(()=>{})),this._closedStream=this.openedChange.pipe(Lo(he=>!he),an(()=>{})),this.selectionChange=new rt,this.valueChange=new rt,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==j?void 0:j.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=j.typeaheadDebounceInterval),this._scrollStrategyFactory=L,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(z)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,o,c,u;return null!=(u=null!=(c=this._required)?c:null==(o=null==(t=this.ngControl)?void 0:t.control)?void 0:o.hasValidator(xX.required))&&u}set required(t){this._required=Pt(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Pt(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Pt(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=W5(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new gk(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(w3(),Jt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Jt(this._destroy)).subscribe(t=>{t.added.forEach(o=>o.select()),t.removed.forEach(o=>o.deselect())}),this.options.changes.pipe(Io(null),Jt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?o.setAttribute("aria-labelledby",t):o.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,o;return this.multiple?(null==(t=this._selectionModel)?void 0:t.selected)||[]:null==(o=this._selectionModel)?void 0:o.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(o=>o.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const o=t.keyCode,c=40===o||38===o||37===o||39===o,u=13===o||32===o,m=this._keyManager;if(!m.isTyping()&&u&&!Il(t)||(this.multiple||t.altKey)&&c)t.preventDefault(),this.open();else if(!this.multiple){const g=this.selected;m.onKeydown(t);const b=this.selected;b&&g!==b&&this._liveAnnouncer.announce(b.viewValue,1e4)}}_handleOpenKeydown(t){const o=this._keyManager,c=t.keyCode,u=40===c||38===c,m=o.isTyping();if(u&&t.altKey)t.preventDefault(),this.close();else if(m||13!==c&&32!==c||!o.activeItem||Il(t))if(!m&&this._multiple&&65===c&&t.ctrlKey){t.preventDefault();const g=this.options.some(b=>!b.disabled&&!b.selected);this.options.forEach(b=>{b.disabled||(g?b.select():b.deselect())})}else{const g=o.activeItemIndex;o.onKeydown(t),this._multiple&&u&&t.shiftKey&&o.activeItem&&o.activeItemIndex!==g&&o.activeItem._selectViaInteraction()}else t.preventDefault(),o.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Yo(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(o=>o.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(o=>this._selectValue(o)),this._sortValues();else{const o=this._selectValue(t);o?this._keyManager.updateActiveItem(o):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const o=this.options.find(c=>{if(this._selectionModel.isSelected(c))return!1;try{return null!=c.value&&this._compareWith(c.value,t)}catch(u){return!1}});return o&&this._selectionModel.select(o),o}_initKeyManager(){this._keyManager=new xoe(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Jt(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Jt(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=oc(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Jt(t)).subscribe(o=>{this._onSelect(o.source,o.isUserInput),o.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),oc(...this.options.map(o=>o._stateChanges)).pipe(Jt(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,o){const c=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(c!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),o&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),o&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),c!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((o,c)=>this.sortComparator?this.sortComparator(o,c,t):t.indexOf(o)-t.indexOf(c)),this.stateChanges.next()}}_propagateChanges(t){let o=null;o=this.multiple?this.selected.map(c=>c.value):this.selected?this.selected.value:t,this._value=o,this.valueChange.emit(o),this._onChange(o),this.selectionChange.emit(this._getChangeEvent(o)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null==(t=this.options)?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var c;if(this.ariaLabel)return null;const t=null==(c=this._parentFormField)?void 0:c.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var c;if(this.ariaLabel)return null;const t=null==(c=this._parentFormField)?void 0:c.getLabelId();let o=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(o+=" "+this.ariaLabelledby),o}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return i.\u0275fac=function(t){return new(t||i)(q(NU),q(Bt),q(Et),q(rU),q(mt),q(k_,8),q(B_,8),q(j_,8),q(lU,8),q(G2,10),na("tabindex"),q(aZ),q(Foe),q(N0e,8))},i.\u0275dir=Ae({type:i,viewQuery:function(t,o){if(1&t&&(Pn(b0e,5),Pn(C0e,5),Pn(VY,5)),2&t){let c;vt(c=_t())&&(o.trigger=c.first),vt(c=_t())&&(o.panel=c.first),vt(c=_t())&&(o._overlayDir=c.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Ze,Rn]}),i})(),O0e=(()=>{class i extends V0e{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,o,c){const u=this._getItemHeight();return Math.min(Math.max(0,u*t-o+u/2),c)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Jt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Yo(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const o=sX(t,this.options,this.optionGroups),c=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===o?0:function(i,n,t,o){return i<t?i:i+n>t+256?Math.max(0,i-256+n):t}((t+o)*c,c,this.panel.nativeElement.scrollTop)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new L0e(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),o=this._viewportRuler.getViewportSize(),c=this._isRtl(),u=this.multiple?56:32;let m;if(this.multiple)m=40;else if(this.disableOptionCentering)m=16;else{let x=this._selectionModel.selected[0]||this.options.first;m=x&&x.group?32:16}c||(m*=-1);const g=0-(t.left+m-(c?u:0)),b=t.right+m-o.width+(c?0:u);g>0?m+=g+8:b>0&&(m-=b+8),this._overlayDir.offsetX=Math.round(m),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,o,c){const u=this._getItemHeight(),m=(u-this._triggerRect.height)/2,g=Math.floor(256/u);let b;return this.disableOptionCentering?0:(b=0===this._scrollTop?t*u:this._scrollTop===c?(t-(this._getItemCount()-g))*u+(u-(this._getItemCount()*u-256)%u):o-u/2,Math.round(-1*b-m))}_checkOverlayWithinViewport(t){const o=this._getItemHeight(),c=this._viewportRuler.getViewportSize(),u=this._triggerRect.top-8,m=c.height-this._triggerRect.bottom-8,g=Math.abs(this._offsetY),x=Math.min(this._getItemCount()*o,256)-g-this._triggerRect.height;x>m?this._adjustPanelUp(x,m):g>u?this._adjustPanelDown(g,u,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,o){const c=Math.round(t-o);this._scrollTop-=c,this._offsetY-=c,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,o,c){const u=Math.round(t-o);if(this._scrollTop+=u,this._offsetY+=u,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=c)return this._scrollTop=c,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),o=this._getItemCount(),c=Math.min(o*t,256),m=o*t-c;let g;g=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),g+=sX(g,this.options,this.optionGroups);const b=c/2;this._scrollTop=this._calculateOverlayScroll(g,b,m),this._offsetY=this._calculateOverlayOffsetY(g,b,m),this._checkOverlayWithinViewport(m)}_getOriginBasedOnOption(){const t=this._getItemHeight(),o=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-o+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return i.\u0275fac=function(){let n;return function(o){return(n||(n=xi(i)))(o||i)}}(),i.\u0275cmp=sn({type:i,selectors:[["mat-select"]],contentQueries:function(t,o,c){if(1&t&&(Jn(c,R0e,5),Jn(c,aX,5),Jn(c,oX,5)),2&t){let u;vt(u=_t())&&(o.customTrigger=u.first),vt(u=_t())&&(o.options=u),vt(u=_t())&&(o.optionGroups=u)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,o){1&t&&Me("keydown",function(u){return o._handleKeydown(u)})("focus",function(){return o._onFocus()})("blur",function(){return o._onBlur()}),2&t&&(dt("id",o.id)("tabindex",o.tabIndex)("aria-controls",o.panelOpen?o.id+"-panel":null)("aria-expanded",o.panelOpen)("aria-label",o.ariaLabel||null)("aria-required",o.required.toString())("aria-disabled",o.disabled.toString())("aria-invalid",o.errorState)("aria-describedby",o._ariaDescribedby||null)("aria-activedescendant",o._getAriaActiveDescendant()),on("mat-select-disabled",o.disabled)("mat-select-invalid",o.errorState)("mat-select-required",o.required)("mat-select-empty",o.empty)("mat-select-multiple",o.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[Ye([{provide:ek,useExisting:i},{provide:rX,useExisting:i}]),Ze],ngContentSelectors:S0e,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,o){if(1&t&&(Bi(A0e),$(0,"div",0,1),Me("click",function(){return o.toggle()}),$(3,"div",2),it(4,x0e,2,1,"span",3),it(5,E0e,3,2,"span",4),U(),$(6,"div",5),De(7,"div",6),U(),U(),it(8,D0e,4,14,"ng-template",7),Me("backdropClick",function(){return o.close()})("attach",function(){return o._onAttached()})("detach",function(){return o.close()})),2&t){const c=d2(1);dt("aria-owns",o.panelOpen?o.id+"-panel":null),ue(3),me("ngSwitch",o.empty),dt("id",o._valueId),ue(1),me("ngSwitchCase",!0),ue(1),me("ngSwitchCase",!1),ue(3),me("cdkConnectedOverlayPanelClass",o._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",o._scrollStrategy)("cdkConnectedOverlayOrigin",c)("cdkConnectedOverlayOpen",o.panelOpen)("cdkConnectedOverlayPositions",o._positions)("cdkConnectedOverlayMinWidth",null==o._triggerRect?null:o._triggerRect.width)("cdkConnectedOverlayOffsetY",o._offsetY)}},directives:[RY,ml,pl,VY,Hh,Oh],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[iZ.transformPanelWrap,iZ.transformPanel]},changeDetection:0}),i})(),P0e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({providers:[I0e],imports:[[R2,OY,cX,tn],pk,uU,cX,tn]}),i})();const H0e=["containmentForm"],B0e=["rotationForm"],j0e=function(i){return{"background-color":i}};function U0e(i,n){if(1&i&&($(0,"div",38),$(1,"div",39),De(2,"div",40),U(),$(3,"span",41),Ee(4),U(),U()),2&i){const t=n.$implicit;ue(2),me("ngStyle",function(i,n,t,o){return sp(le(),sr(),i,n,t,o)}(2,j0e,t.color)),ue(2),O1(t.name)}}function $0e(i,n){if(1&i){const t=Kn();$(0,"mat-list-option",42),Me("click",function(){const u=Sn(t).index;return Ie().modeSelect(u)}),Ee(1),U()}if(2&i){const t=n.$implicit,o=n.index;V1("matTooltip",Ie().modeTooltip[o]),me("selected",t.sel),ue(1),Di(" ",t.label," ")}}function q0e(i,n){if(1&i&&($(0,"mat-option",43),Ee(1),U()),2&i){const t=n.$implicit;V1("value",t),ue(1),O1(t)}}function W0e(i,n){if(1&i){const t=Kn();$(0,"mat-list-option",42),Me("click",function(){const u=Sn(t).index;return Ie().appearanceSelect(u)}),Ee(1),U()}if(2&i){const t=n.$implicit,o=n.index;V1("matTooltip",Ie().appearanceTooltip[o]),me("selected",t.sel),ue(1),Di(" ",t.label," ")}}let G0e=(()=>{class i{constructor(t){this.vc=t,this.color="accent",this.appearanceTooltip=["Enable/Disable the rendering of vertex label. The view context will be preserved","Enable/Disable Tooltips for vertices. One can hover over a vertex and a textual description, the corresponding website and ontologyID will be displayed.","Enable/Disable the dark theme where the background is black and edges/rectangles are white"],this.modeTooltip=["Draw the entires graph including anatomical structures, cell types and biomarkers","Draw only anatomical structures and cell types in order to have a more compact representation of the respective organ. Click on a vertex in order to display all reachable biomarkers","The exploration mode is a layered approach where one can see the next 3 layers of the respective root. Click on a vertex in order to select it as root. Navigate backwards by clicking on the parent vertex(black)","This mode shows the unmodified data delivered by the ASCT+B API. No algorithmic improvement in terms of structure or layout is made"],this.legends=[],this.initializeLegend()}onGlobalClick(t){}disableSelectionChange(t){t.selected=!t.selected}restore90270(){let t=document.getElementById("drawing");t.style.overflowY="hidden",t.style.overflowX="scroll",this.vc.controller.renderRestore()}restore0180(){let t=document.getElementById("drawing");t.style.overflowY="scroll",t.style.overflowX="hidden",this.vc.controller.renderRestore()}performModeChange(t){this.vc.modes.forEach(o=>{o.sel&&(o.sel=!1)}),this.vc.modes[t].sel=!0}modeSelect(t){this.vc.containmentSelect?2==t||3==t?this.openModal():(this.performModeChange(t),this.vc.controller.updateMode("Containment"),this.vc.controller.render()):(this.performModeChange(t),this.vc.controller.updateMode(this.vc.modes[t].label),this.vc.controller.render())}debug(){console.log(this.vc.selectedContainer)}debug2(){return this.vc.selectedContainer="All Container","All Container"}debug3(t){return this.vc.selectedContainer=t,t}disableSelectionChange2(t){t.selected=!t.selected}containmentSelection(){if(console.log("CONTAINMENT SELECTED"),this.vc.modes[2].sel||this.vc.modes[3].sel)this.openModal();else if(this.vc.containmentSelect){this.vc.containmentSelect=!1;let t=null;this.vc.controller.gui.modes.forEach(o=>{o.sel&&(t=o.label)}),this.vc.controller.updateMode(t),this.vc.controller.currentMode.reset(),this.vc.controller.render()}else this.vc.containmentSelect=!0,this.vc.controller.updateMode("Containment"),this.vc.controller.render()}openModal(){document.getElementById("backdrop").style.display="block",document.getElementById("exampleModal").style.display="block",document.getElementById("exampleModal").classList.add("show")}closeModal(){document.getElementById("backdrop").style.display="none",document.getElementById("exampleModal").style.display="none",document.getElementById("exampleModal").classList.remove("show")}handleContainerSelect(){console.log("CONTAINMENT SELECTED",this.vc.containmentSelect,this.vc.selectedContainer),this.vc.containmentSelect&&(this.vc.controller.currentMode.reset(),this.vc.controller.render())}appearanceSelect(t){this.vc.appearance[t].sel=!this.vc.appearance[t].sel,this.vc.controller.renderRestore()}initializeLegend(){this.legends.push({name:"Anatomical Structures",color:"#E41A1C"}),this.legends.push({name:"Cell Types",color:"#377EB8"}),this.legends.push({name:"Gene Biomarkers",color:"#4DAF4A"}),this.legends.push({name:"Protein Biomarkers",color:"#7fff00"})}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)(q(F_))},i.\u0275cmp=sn({type:i,selectors:[["app-side-nav"]],viewQuery:function(t,o){if(1&t&&(Pn(H0e,5),Pn(B0e,5)),2&t){let c;vt(c=_t())&&(o.containmentForm=c.first),vt(c=_t())&&(o.rotationForm=c.first)}},hostBindings:function(t,o){1&t&&Me("mousedown",function(u){return o.onGlobalClick(u)},!1,n8)},decls:76,vars:11,consts:[["id","sideNavID",1,"card","h-100","flex-container","flex-column",2,"background-color","rgba(0, 0, 0, 0.05)","direction","ltr"],[1,"card","w-100","cardClass"],[3,"expanded","afterExpand","afterCollapse"],[1,"expansionHeader"],[1,"w-100"],[1,"cardContent",2,"margin-top","5%","margin-left","8%"],["class","d-flex flex-container w-100 navItem",4,"ngFor","ngForOf"],[1,"card","cardClass"],[1,"cardContent"],["multiple","",3,"selectionChange"],["checkboxPosition","before",3,"selected","matTooltip","click",4,"ngFor","ngForOf"],["appearance","fill","matTooltip","Containment is a fixed hierarchical ordering of cell types that supports both expansion and collapse of containers. Collapsed\n                              Container are indicated by a black vertex with a label that counts involved biomarker (Complete Graph) or the number of distinct anatomical structures\n                              (Partial Graph)",3,"selectionChange"],["checkboxPosition","before",3,"selected","click"],["fff",""],["appearance","fill","matTooltip","Select one of the following top-level container in order to have a compact representation of the containment",1,"w-100"],["placeholder","All Container",3,"value","valueChange","selectionChange","click"],["containmentForm",""],["value","All Container"],[3,"value",4,"ngFor","ngForOf"],[1,"cardContent","flex-column","d-flex"],["multiple",""],["appearance","fill","matTooltip","Apply rotation as linear map on the drawing",1,"w-100",3,"keydown"],["placeholder","0 Degree",3,"value","valueChange"],["rotationForm",""],["value","0 Degree",3,"click"],["value","90 Degree",3,"click"],["value","180 Degree",3,"click"],["value","270 Degree",3,"click"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-modal","true","role","dialog",1,"modal","fade",3,"click"],["role","document",1,"modal-dialog","h-100","d-flex","justify-content-center","align-items-center",2,"transform","translateY(-15%)"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"w-100",2,"text-align","center"],[1,"modal-body"],[2,"text-align","center","font-size","2vh"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["id","backdrop",1,"modal-backdrop","fade","show",2,"display","none"],[1,"d-flex","flex-container","w-100","navItem"],[1,"flex-column"],[1,"circle",3,"ngStyle"],[1,"d-flex","legendText","flex-column"],["checkboxPosition","before",3,"selected","matTooltip","click"],[3,"value"]],template:function(t,o){1&t&&($(0,"div",0),$(1,"div",1),$(2,"mat-expansion-panel",2),Me("afterExpand",function(){return o.vc.sideNavContainer1Expanded=!o.vc.sideNavContainer1Expanded})("afterCollapse",function(){return o.vc.sideNavContainer1Expanded=!o.vc.sideNavContainer1Expanded}),$(3,"mat-expansion-panel-header",3),$(4,"mat-panel-title",4),$(5,"div"),$(6,"b"),Ee(7," Legend "),U(),U(),U(),U(),$(8,"div",5),it(9,U0e,5,4,"div",6),U(),U(),U(),$(10,"div",7),$(11,"mat-expansion-panel",2),Me("afterExpand",function(){return o.vc.sideNavContainer2Expanded=!o.vc.sideNavContainer2Expanded})("afterCollapse",function(){return o.vc.sideNavContainer2Expanded=!o.vc.sideNavContainer2Expanded}),$(12,"mat-expansion-panel-header",3),$(13,"mat-panel-title",4),$(14,"div"),$(15,"b"),Ee(16," Modes of Operation: "),U(),U(),U(),U(),$(17,"div",8),$(18,"mat-selection-list",9),Me("selectionChange",function(u){return o.disableSelectionChange(u.option)}),it(19,$0e,2,3,"mat-list-option",10),U(),U(),U(),U(),$(20,"div",7),$(21,"mat-expansion-panel",2),Me("afterExpand",function(){return o.vc.sideNavContainer3Expanded=!o.vc.sideNavContainer3Expanded})("afterCollapse",function(){return o.vc.sideNavContainer3Expanded=!o.vc.sideNavContainer3Expanded}),$(22,"mat-expansion-panel-header",3),$(23,"mat-panel-title",4),$(24,"div"),$(25,"b"),Ee(26," Containment "),U(),U(),U(),U(),$(27,"div",8),$(28,"mat-selection-list",11),Me("selectionChange",function(u){return o.disableSelectionChange2(u.option)}),$(29,"mat-list-option",12,13),Me("click",function(){return o.containmentSelection()}),Ee(31," Enable Containment "),U(),U(),$(32,"mat-form-field",14),$(33,"mat-label"),Ee(34,"Choose Container:"),U(),$(35,"mat-select",15,16),Me("valueChange",function(u){return o.vc.selectedContainer=u})("selectionChange",function(){return o.handleContainerSelect()})("click",function(){return o.debug()}),$(37,"mat-option",17),Ee(38,"All Container"),U(),it(39,q0e,2,2,"mat-option",18),U(),U(),U(),U(),U(),$(40,"div",7),$(41,"mat-expansion-panel",2),Me("afterExpand",function(){return o.vc.sideNavContainer4Expanded=!o.vc.sideNavContainer4Expanded})("afterCollapse",function(){return o.vc.sideNavContainer4Expanded=!o.vc.sideNavContainer4Expanded}),$(42,"mat-expansion-panel-header",3),$(43,"mat-panel-title",4),$(44,"div"),$(45,"b"),Ee(46," Appearance "),U(),U(),U(),U(),$(47,"div",19),$(48,"mat-selection-list",20),it(49,W0e,2,3,"mat-list-option",10),U(),$(50,"mat-form-field",21),Me("keydown",function(u){return u.stopPropagation()}),$(51,"mat-label"),Ee(52,"Apply Rotation:"),U(),$(53,"mat-select",22,23),Me("valueChange",function(u){return o.vc.selectedRotation=u}),$(55,"mat-option",24),Me("click",function(){return o.restore0180()}),Ee(56,"0 Degree"),U(),$(57,"mat-option",25),Me("click",function(){return o.restore90270()}),Ee(58,"90 Degree"),U(),$(59,"mat-option",26),Me("click",function(){return o.restore0180()}),Ee(60,"180 Degree"),U(),$(61,"mat-option",27),Me("click",function(){return o.restore90270()}),Ee(62,"270 Degree"),U(),U(),U(),U(),U(),U(),U(),$(63,"div",28),Me("click",function(){return o.closeModal()}),$(64,"div",29),$(65,"div",30),$(66,"div",31),$(67,"h5",32),Ee(68,"Error"),U(),U(),$(69,"div",33),$(70,"p",34),Ee(71," This feature is not supported yet "),U(),U(),$(72,"div",35),$(73,"button",36),Me("click",function(){return o.closeModal()}),Ee(74,"Close"),U(),U(),U(),U(),U(),De(75,"div",37)),2&t&&(ue(2),me("expanded",o.vc.sideNavContainer1Expanded),ue(7),me("ngForOf",o.legends),ue(2),me("expanded",o.vc.sideNavContainer2Expanded),ue(8),me("ngForOf",o.vc.modes),ue(2),me("expanded",o.vc.sideNavContainer3Expanded),ue(8),me("selected",o.vc.containmentSelect),ue(6),me("value",o.vc.selectedContainer),ue(4),me("ngForOf",o.vc.containerStrings),ue(2),me("expanded",o.vc.sideNavContainer4Expanded),ue(8),me("ngForOf",o.vc.appearance),ue(4),me("value",o.vc.selectedRotation))},directives:[nZ,g0e,v0e,hl,vk,RU,VU,pX,cU,O0e,aX,Ng],styles:[".circle[_ngcontent-%COMP%]{height:.9375rem;width:.9375rem;border-radius:50%;display:inline-block;transform:translateY(8%)}.cardClass[_ngcontent-%COMP%]{margin-bottom:1%}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]:focus, .mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.mat-slide-toggle.mat-checked[_ngcontent-%COMP%]   .mat-slide-toggle-bar[_ngcontent-%COMP%]{background-color:#000!important}.mat-slide-toggle.mat-checked[_ngcontent-%COMP%]   .mat-slide-toggle-thumb[_ngcontent-%COMP%]{background-color:#000}.expansionHeader[_ngcontent-%COMP%]{background-color:#f5f5f5;height:4vh;white-space:nowrap}.legendText[_ngcontent-%COMP%]{margin-left:5%}.cardContent[_ngcontent-%COMP%]{margin-top:2%}.sliderPAD[_ngcontent-%COMP%]{margin-bottom:1vh}"]}),i})(),sZ=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({}),i})(),s4e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({imports:[[sZ,J5,tn,kS],sZ,tn]}),i})(),D4e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({imports:[[tn],tn]}),i})(),xZ=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({}),i})(),O4e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i}),i.\u0275inj=Ne({imports:[[J5,tn,kS,xZ],tn,xZ]}),i})(),P4e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=lt({type:i,bootstrap:[kv]}),i.\u0275inj=Ne({providers:[],imports:[[Zg,_0e,s4e,Wle,P0e,Ale,uX,mV,qD,mse,D4e,vce,Mce,O4e,Nle,Tce,gce]]}),i})();lc(kv,[L2,eoe,F_],[]),lc(F_,[t0e,L2,G0e,jse],[]),function(){if(ZM)throw new Error("Cannot enable prod mode after platform setup.");YM=!1}(),dR().bootstrapModule(P4e).catch(i=>console.error(i))},239:(zi,_n,je)=>{function Be(Ni,vi,Nt,Yr,Ar,Zr,Yn){try{var Sr=Ni[Zr](Yn),tr=Sr.value}catch(x1){return void Nt(x1)}Sr.done?vi(tr):Promise.resolve(tr).then(Yr,Ar)}function $o(Ni){return function(){var vi=this,Nt=arguments;return new Promise(function(Yr,Ar){var Zr=Ni.apply(vi,Nt);function Yn(tr){Be(Zr,Yr,Ar,Yn,Sr,"next",tr)}function Sr(tr){Be(Zr,Yr,Ar,Yn,Sr,"throw",tr)}Yn(void 0)})}}je.d(_n,{Z:()=>$o})}},zi=>{zi(zi.s=643)}]);